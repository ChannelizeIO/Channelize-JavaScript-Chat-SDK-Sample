!function(t){var c={};function n(e){if(c[e])return c[e].exports;var l=c[e]={i:e,l:!1,exports:{}};return t[e].call(l.exports,l,l.exports,n),l.l=!0,l.exports}n.m=t,n.c=c,n.d=function(t,c,e){n.o(t,c)||Object.defineProperty(t,c,{enumerable:!0,get:e})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,c){if(1&c&&(t=n(t)),8&c)return t;if(4&c&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(n.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&c&&"string"!=typeof t)for(var l in t)n.d(e,l,function(c){return t[c]}.bind(null,l));return e},n.n=function(t){var c=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(c,"a",c),c},n.o=function(t,c){return Object.prototype.hasOwnProperty.call(t,c)},n.p="dist",n(n.s=0)}([function(t,c,n){t.exports=n(5)},function(module,exports,__webpack_require__){eval("var api = __webpack_require__(2);\n            var content = __webpack_require__(3);\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.i, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9zY3NzL21haW4uc2Nzcz82ZDI1Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBhcGkgPSByZXF1aXJlKFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiKTtcbiAgICAgICAgICAgIHZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vbWFpbi5zY3NzXCIpO1xuXG4gICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5fX2VzTW9kdWxlID8gY29udGVudC5kZWZhdWx0IDogY29udGVudDtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4gICAgICAgICAgICB9XG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuaW5zZXJ0ID0gXCJoZWFkXCI7XG5vcHRpb25zLnNpbmdsZXRvbiA9IGZhbHNlO1xuXG52YXIgdXBkYXRlID0gYXBpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG52YXIgZXhwb3J0ZWQgPSBjb250ZW50LmxvY2FscyA/IGNvbnRlbnQubG9jYWxzIDoge307XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydGVkOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///1\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nvar stylesInDom = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDom.length; i++) {\n    if (stylesInDom[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var index = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3]\n    };\n\n    if (index !== -1) {\n      stylesInDom[index].references++;\n      stylesInDom[index].updater(obj);\n    } else {\n      stylesInDom.push({\n        identifier: identifier,\n        updater: addStyle(obj, options),\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n  var attributes = options.attributes || {};\n\n  if (typeof attributes.nonce === 'undefined') {\n    var nonce =  true ? __webpack_require__.nc : undefined;\n\n    if (nonce) {\n      attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(attributes).forEach(function (key) {\n    style.setAttribute(key, attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.media ? \"@media \".concat(obj.media, \" {\").concat(obj.css, \"}\") : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  } else {\n    style.removeAttribute('media');\n  }\n\n  if (sourceMap && btoa) {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    if (Object.prototype.toString.call(newList) !== '[object Array]') {\n      return;\n    }\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDom[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDom[_index].references === 0) {\n        stylesInDom[_index].updater();\n\n        stylesInDom.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qcz8yZGJhIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG52YXIgaXNPbGRJRSA9IGZ1bmN0aW9uIGlzT2xkSUUoKSB7XG4gIHZhciBtZW1vO1xuICByZXR1cm4gZnVuY3Rpb24gbWVtb3JpemUoKSB7XG4gICAgaWYgKHR5cGVvZiBtZW1vID09PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gVGVzdCBmb3IgSUUgPD0gOSBhcyBwcm9wb3NlZCBieSBCcm93c2VyaGFja3NcbiAgICAgIC8vIEBzZWUgaHR0cDovL2Jyb3dzZXJoYWNrcy5jb20vI2hhY2stZTcxZDg2OTJmNjUzMzQxNzNmZWU3MTVjMjIyY2I4MDVcbiAgICAgIC8vIFRlc3RzIGZvciBleGlzdGVuY2Ugb2Ygc3RhbmRhcmQgZ2xvYmFscyBpcyB0byBhbGxvdyBzdHlsZS1sb2FkZXJcbiAgICAgIC8vIHRvIG9wZXJhdGUgY29ycmVjdGx5IGludG8gbm9uLXN0YW5kYXJkIGVudmlyb25tZW50c1xuICAgICAgLy8gQHNlZSBodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlci9pc3N1ZXMvMTc3XG4gICAgICBtZW1vID0gQm9vbGVhbih3aW5kb3cgJiYgZG9jdW1lbnQgJiYgZG9jdW1lbnQuYWxsICYmICF3aW5kb3cuYXRvYik7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1lbW87XG4gIH07XG59KCk7XG5cbnZhciBnZXRUYXJnZXQgPSBmdW5jdGlvbiBnZXRUYXJnZXQoKSB7XG4gIHZhciBtZW1vID0ge307XG4gIHJldHVybiBmdW5jdGlvbiBtZW1vcml6ZSh0YXJnZXQpIHtcbiAgICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHZhciBzdHlsZVRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTsgLy8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcblxuICAgICAgaWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYWNjZXNzIHRvIGlmcmFtZSBpcyBibG9ja2VkXG4gICAgICAgICAgLy8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcbiAgICAgICAgICBzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgICBzdHlsZVRhcmdldCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbWVtb1t0YXJnZXRdID0gc3R5bGVUYXJnZXQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1lbW9bdGFyZ2V0XTtcbiAgfTtcbn0oKTtcblxudmFyIHN0eWxlc0luRG9tID0gW107XG5cbmZ1bmN0aW9uIGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpIHtcbiAgdmFyIHJlc3VsdCA9IC0xO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzSW5Eb20ubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoc3R5bGVzSW5Eb21baV0uaWRlbnRpZmllciA9PT0gaWRlbnRpZmllcikge1xuICAgICAgcmVzdWx0ID0gaTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKSB7XG4gIHZhciBpZENvdW50TWFwID0ge307XG4gIHZhciBpZGVudGlmaWVycyA9IFtdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgIHZhciBpdGVtID0gbGlzdFtpXTtcbiAgICB2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcbiAgICB2YXIgY291bnQgPSBpZENvdW50TWFwW2lkXSB8fCAwO1xuICAgIHZhciBpZGVudGlmaWVyID0gXCJcIi5jb25jYXQoaWQsIFwiIFwiKS5jb25jYXQoY291bnQpO1xuICAgIGlkQ291bnRNYXBbaWRdID0gY291bnQgKyAxO1xuICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgIHZhciBvYmogPSB7XG4gICAgICBjc3M6IGl0ZW1bMV0sXG4gICAgICBtZWRpYTogaXRlbVsyXSxcbiAgICAgIHNvdXJjZU1hcDogaXRlbVszXVxuICAgIH07XG5cbiAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0ucmVmZXJlbmNlcysrO1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnVwZGF0ZXIob2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGVzSW5Eb20ucHVzaCh7XG4gICAgICAgIGlkZW50aWZpZXI6IGlkZW50aWZpZXIsXG4gICAgICAgIHVwZGF0ZXI6IGFkZFN0eWxlKG9iaiwgb3B0aW9ucyksXG4gICAgICAgIHJlZmVyZW5jZXM6IDFcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlkZW50aWZpZXJzLnB1c2goaWRlbnRpZmllcik7XG4gIH1cblxuICByZXR1cm4gaWRlbnRpZmllcnM7XG59XG5cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSB7XG4gIHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gIHZhciBhdHRyaWJ1dGVzID0gb3B0aW9ucy5hdHRyaWJ1dGVzIHx8IHt9O1xuXG4gIGlmICh0eXBlb2YgYXR0cmlidXRlcy5ub25jZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB2YXIgbm9uY2UgPSB0eXBlb2YgX193ZWJwYWNrX25vbmNlX18gIT09ICd1bmRlZmluZWQnID8gX193ZWJwYWNrX25vbmNlX18gOiBudWxsO1xuXG4gICAgaWYgKG5vbmNlKSB7XG4gICAgICBhdHRyaWJ1dGVzLm5vbmNlID0gbm9uY2U7XG4gICAgfVxuICB9XG5cbiAgT2JqZWN0LmtleXMoYXR0cmlidXRlcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgc3R5bGUuc2V0QXR0cmlidXRlKGtleSwgYXR0cmlidXRlc1trZXldKTtcbiAgfSk7XG5cbiAgaWYgKHR5cGVvZiBvcHRpb25zLmluc2VydCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIG9wdGlvbnMuaW5zZXJ0KHN0eWxlKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgdGFyZ2V0ID0gZ2V0VGFyZ2V0KG9wdGlvbnMuaW5zZXJ0IHx8ICdoZWFkJyk7XG5cbiAgICBpZiAoIXRhcmdldCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnQnIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcbiAgICB9XG5cbiAgICB0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICB9XG5cbiAgcmV0dXJuIHN0eWxlO1xufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpIHtcbiAgLy8gaXN0YW5idWwgaWdub3JlIGlmXG4gIGlmIChzdHlsZS5wYXJlbnROb2RlID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgc3R5bGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZSk7XG59XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cblxuXG52YXIgcmVwbGFjZVRleHQgPSBmdW5jdGlvbiByZXBsYWNlVGV4dCgpIHtcbiAgdmFyIHRleHRTdG9yZSA9IFtdO1xuICByZXR1cm4gZnVuY3Rpb24gcmVwbGFjZShpbmRleCwgcmVwbGFjZW1lbnQpIHtcbiAgICB0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XG4gICAgcmV0dXJuIHRleHRTdG9yZS5maWx0ZXIoQm9vbGVhbikuam9pbignXFxuJyk7XG4gIH07XG59KCk7XG5cbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcoc3R5bGUsIGluZGV4LCByZW1vdmUsIG9iaikge1xuICB2YXIgY3NzID0gcmVtb3ZlID8gJycgOiBvYmoubWVkaWEgPyBcIkBtZWRpYSBcIi5jb25jYXQob2JqLm1lZGlhLCBcIiB7XCIpLmNvbmNhdChvYmouY3NzLCBcIn1cIikgOiBvYmouY3NzOyAvLyBGb3Igb2xkIElFXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuXG4gIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGNzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpO1xuICAgIHZhciBjaGlsZE5vZGVzID0gc3R5bGUuY2hpbGROb2RlcztcblxuICAgIGlmIChjaGlsZE5vZGVzW2luZGV4XSkge1xuICAgICAgc3R5bGUucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xuICAgIH1cblxuICAgIGlmIChjaGlsZE5vZGVzLmxlbmd0aCkge1xuICAgICAgc3R5bGUuaW5zZXJ0QmVmb3JlKGNzc05vZGUsIGNoaWxkTm9kZXNbaW5kZXhdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGUuYXBwZW5kQ2hpbGQoY3NzTm9kZSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGFwcGx5VG9UYWcoc3R5bGUsIG9wdGlvbnMsIG9iaikge1xuICB2YXIgY3NzID0gb2JqLmNzcztcbiAgdmFyIG1lZGlhID0gb2JqLm1lZGlhO1xuICB2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcblxuICBpZiAobWVkaWEpIHtcbiAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoJ21lZGlhJywgbWVkaWEpO1xuICB9IGVsc2Uge1xuICAgIHN0eWxlLnJlbW92ZUF0dHJpYnV0ZSgnbWVkaWEnKTtcbiAgfVxuXG4gIGlmIChzb3VyY2VNYXAgJiYgYnRvYSkge1xuICAgIGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIuY29uY2F0KGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSksIFwiICovXCIpO1xuICB9IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cblxuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAoc3R5bGUuZmlyc3RDaGlsZCkge1xuICAgICAgc3R5bGUucmVtb3ZlQ2hpbGQoc3R5bGUuZmlyc3RDaGlsZCk7XG4gICAgfVxuXG4gICAgc3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG4gIH1cbn1cblxudmFyIHNpbmdsZXRvbiA9IG51bGw7XG52YXIgc2luZ2xldG9uQ291bnRlciA9IDA7XG5cbmZ1bmN0aW9uIGFkZFN0eWxlKG9iaiwgb3B0aW9ucykge1xuICB2YXIgc3R5bGU7XG4gIHZhciB1cGRhdGU7XG4gIHZhciByZW1vdmU7XG5cbiAgaWYgKG9wdGlvbnMuc2luZ2xldG9uKSB7XG4gICAgdmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XG4gICAgc3R5bGUgPSBzaW5nbGV0b24gfHwgKHNpbmdsZXRvbiA9IGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSk7XG4gICAgdXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCBmYWxzZSk7XG4gICAgcmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCB0cnVlKTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZSA9IGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKTtcbiAgICB1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGUsIG9wdGlvbnMpO1xuXG4gICAgcmVtb3ZlID0gZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcbiAgICB9O1xuICB9XG5cbiAgdXBkYXRlKG9iaik7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZShuZXdPYmopIHtcbiAgICBpZiAobmV3T2JqKSB7XG4gICAgICBpZiAobmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJiBuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJiBuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdXBkYXRlKG9iaiA9IG5ld09iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlbW92ZSgpO1xuICAgIH1cbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobGlzdCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsgLy8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XG4gIC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2VcblxuICBpZiAoIW9wdGlvbnMuc2luZ2xldG9uICYmIHR5cGVvZiBvcHRpb25zLnNpbmdsZXRvbiAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XG4gIH1cblxuICBsaXN0ID0gbGlzdCB8fCBbXTtcbiAgdmFyIGxhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZShuZXdMaXN0KSB7XG4gICAgbmV3TGlzdCA9IG5ld0xpc3QgfHwgW107XG5cbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG5ld0xpc3QpICE9PSAnW29iamVjdCBBcnJheV0nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW2ldO1xuICAgICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0ucmVmZXJlbmNlcy0tO1xuICAgIH1cblxuICAgIHZhciBuZXdMYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obmV3TGlzdCwgb3B0aW9ucyk7XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIF9pZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW19pXTtcblxuICAgICAgdmFyIF9pbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKF9pZGVudGlmaWVyKTtcblxuICAgICAgaWYgKHN0eWxlc0luRG9tW19pbmRleF0ucmVmZXJlbmNlcyA9PT0gMCkge1xuICAgICAgICBzdHlsZXNJbkRvbVtfaW5kZXhdLnVwZGF0ZXIoKTtcblxuICAgICAgICBzdHlsZXNJbkRvbS5zcGxpY2UoX2luZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsYXN0SWRlbnRpZmllcnMgPSBuZXdMYXN0SWRlbnRpZmllcnM7XG4gIH07XG59OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///2\n")},function(module,exports,__webpack_require__){eval('// Imports\nvar ___CSS_LOADER_API_IMPORT___ = __webpack_require__(4);\nexports = ___CSS_LOADER_API_IMPORT___(false);\nexports.push([module.i, "@import url(https://fonts.googleapis.com/css?family=Roboto&display=swap);"]);\n// Module\nexports.push([module.i, "body{font-family:\\"Roboto\\",sans-serif;font-size:13px}ul{padding-left:0;margin:0}.left{float:left}.right{float:right}.ch-loader-bg{position:absolute;height:inherit;width:100%;display:none;z-index:99;background:rgba(0,0,0,0.3)}.ch-loader{position:absolute;left:0;right:0;margin:0 auto;top:40%;border:5px solid #f3f3f3;border-radius:50%;border-top:5px solid #0377ff;width:30px;height:30px;-webkit-animation:spin 1s linear infinite;animation:spin 1s linear infinite}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg)}}@keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}.ch-no-msg{position:relative;top:50%;text-align:center;color:#545454}.ch-show-element{display:block !important}.ch-launcher{position:fixed;bottom:3%;right:1%;width:55px;height:55px;cursor:pointer;border-radius:50%;background:#0377ff;box-shadow:rgba(0,0,0,0.3) 0 0 1.2em;line-height:80px;text-align:center;background-size:cover}.ch-launcher .ch-launcher-image{height:35px;width:35px}.ch-header{font-size:15px;letter-spacing:.5px;padding:10px;height:30px;box-shadow:0 5px 15px rgba(0,0,0,0.1);border-top-left-radius:8px;border-top-right-radius:8px;position:relative;z-index:1}.ch-header i{cursor:pointer;font-size:20px}.ch-header .ch-conversation-image{margin-top:0;vertical-align:middle;display:inline-block;float:left;position:relative;height:32px;width:32px;border-radius:50%;background-size:cover;margin-right:10px}#ch_snackbar{min-width:250px;margin-left:-125px;background-color:#333;color:#fff;text-align:center;border-radius:4px;padding:13px;position:fixed;z-index:1;left:50%;bottom:30px;font-size:14px;-webkit-animation:fadein 0.5s, fadeout 0.5s 2.5s;animation:fadein 0.5s, fadeout 0.5s 2.5s}@-webkit-keyframes fadein{from{bottom:0;opacity:0}to{bottom:30px;opacity:1}}@keyframes fadein{from{bottom:0;opacity:0}to{bottom:30px;opacity:1}}@-webkit-keyframes fadeout{from{bottom:30px;opacity:1}to{bottom:0;opacity:0}}@keyframes fadeout{from{bottom:30px;opacity:1}to{bottom:0;opacity:0}}.ch-messages-box::-webkit-scrollbar,.ch-recent-listing::-webkit-scrollbar,.ch-friends-box::-webkit-scrollbar{width:.4em;overflow:visible;border-radius:4px}.ch-messages-box::-webkit-scrollbar-thumb,.ch-recent-listing::-webkit-scrollbar-thumb,.ch-friends-box::-webkit-scrollbar-thumb{overflow:visible;border-radius:4px;background:rgba(0,0,0,0.2)}.ch-login-window,.ch-conv-window,.ch-search-window,.ch-recent-window{border-top-left-radius:8px;border-top-right-radius:8px;position:fixed}.ch-login-window{box-shadow:rgba(0,0,0,0.3) 0 0 1.2em;right:1%;top:35%;bottom:0;width:22%;background-color:#fff}.ch-login-window .ch-header{color:#4a505a;line-height:34px;padding-left:20px}.ch-login-window .ch-header .ch-login-close-btn{color:#999;float:right;margin-top:5px}.ch-login-window .ch-header .ch-login-close-btn:hover{color:#000}.ch-login-window .ch-loader-bg{height:100%}.ch-login-window .ch-dummy-container{padding:15px 20px;text-align:center}.ch-login-window .ch-dummy-container .ch-container-text{color:#545454;margin-bottom:20px}.ch-login-window .ch-dummy-container .ch-dummy-img{border-radius:50%;cursor:pointer;height:40px;margin-right:10px;width:40px}.ch-login-window .ch-dummy-container .ch-dummy-img:last-child{margin:0}.ch-login-window .ch-login-btn{background:#0377ff;outline:none;margin:0 auto;display:inherit;border:1px solid #0377ff;border-radius:25px;color:#fff;padding:10px 30px;font-size:14px;text-transform:uppercase;box-shadow:0 1px 10px 0 rgba(0,0,0,0.12);-webkit-transition:all .4s ease;-o-transition:all .4s ease;transition:all .4s ease;cursor:pointer}.ch-login-window .ch-login-btn:hover{background:transparent;color:#0377ff}.ch-login-window .ch-login-name-container{margin-bottom:10px;padding:15px 20px;margin-top:15px;border-bottom:1px solid #ccc}.ch-login-window .ch-login-name-container .ch-login-error{display:none;font-size:85%;color:red;margin-top:2px}.ch-login-window .ch-login-name-container input{outline:none;padding:10px;width:100%;background:transparent;border:1px solid #ccc;border-radius:4px;box-shadow:none;box-sizing:border-box}.ch-login-window .ch-login-name-container .ch-login-name{font-size:14px;margin-bottom:6px;color:#545454}.ch-recent-window{right:1%;top:35%;bottom:0;width:22%;box-shadow:rgba(0,0,0,0.3) 0 0 1.2em;background-color:#fff}.ch-recent-window .ch-header{background-color:#fff}.ch-recent-window .ch-header .ch-header-title{display:inline-block;vertical-align:middle;max-width:150px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;padding-right:5px;color:#545454;font-size:14px;cursor:default;margin-top:6px}.ch-recent-window .ch-header .ch-header-option{display:inline-block;float:right;margin-top:5px}.ch-recent-window .ch-header .ch-header-option i{color:#999;vertical-align:middle;margin-right:5px}.ch-recent-window .ch-header .ch-header-option i:last-child{margin-right:0}.ch-recent-window .ch-header .ch-header-option i:hover{color:#000}.ch-recent-window .ch-recent-listing{height:calc(100% - 50px);overflow:auto}.ch-recent-window .ch-recent-listing .ch-recent-ul{margin:0;padding:3px 0 0 0}.ch-recent-window .ch-recent-listing .ch-recent-ul li{min-height:40px;cursor:pointer;list-style:none;position:relative;padding:10px;border-bottom:1px solid rgba(90,122,190,0.08);background-color:#fff}.ch-recent-window .ch-recent-listing .ch-recent-ul li .ch-conversation-image{position:relative;float:left;height:32px;width:32px;border-radius:50%;background-size:cover;margin-right:10px;margin-top:3px}.ch-recent-window .ch-recent-listing .ch-recent-ul li .ch-conversation-image .ch-online-icon{background:#64ba00;border-radius:50%;border:2px solid #fff;bottom:0;position:absolute;right:1px;width:6px;height:6px;display:none}.ch-recent-window .ch-recent-listing .ch-recent-ul li .ch-conversation-image .ch-user-blocked{background:red !important;display:block !important}.ch-recent-window .ch-recent-listing .ch-recent-ul li:hover{background-color:#fafafa}.ch-recent-window .ch-recent-listing .ch-recent-ul li:last-child{margin-bottom:0}.ch-recent-window .ch-recent-listing .ch-recent-ul li #ch_title{width:55%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;padding-right:5px;font-size:13px;display:block;float:left;color:#4a505a;font-weight:400;margin-top:4px;text-transform:capitalize}.ch-recent-window .ch-recent-listing .ch-recent-ul li .ch-created-at{font-size:10px;float:right;color:#969391;margin-top:2px;position:absolute;right:5px;top:14px}.ch-recent-window .ch-recent-listing .ch-recent-ul li .ch-last-msg-box{width:55%;float:left;margin-top:4px}.ch-recent-window .ch-recent-listing .ch-recent-ul li .ch-last-msg-box img{height:10px;width:12px;margin:2px 5px 0 1px;float:left;vertical-align:middle}.ch-recent-window .ch-recent-listing .ch-recent-ul li .ch-last-msg-box .ch-last-message{font-size:12px;color:#3a3c4c;padding-left:0;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;height:auto}.ch-search-window{right:1%;top:35%;bottom:0;width:22%;background-color:#fff}.ch-search-window .ch-header{line-height:35px;text-align:center;color:#545454}.ch-search-window .ch-header i#ch_search_close_btn{position:absolute;left:10px;top:17px;color:#999}.ch-search-window .ch-header i#ch_search_close_btn:hover{color:#000}.ch-search-window .ch-search-box{position:relative;background:#0377ff}.ch-search-window .ch-search-box .ch-search-input-box{background:transparent;outline:none;border:none;color:white;width:100%;padding:15px 25px 15px 15px;box-sizing:border-box}.ch-search-window .ch-search-box ::placeholder{color:white;opacity:1}.ch-search-window .ch-search-box :-ms-input-placeholder{color:white}.ch-search-window .ch-search-box ::-ms-input-placeholder{color:white}.ch-search-window .ch-search-box .ch-clear-search-icon{color:#ffffff;cursor:pointer;font-size:20px;position:absolute;top:12px;right:8px}.ch-search-window .ch-friends-box{height:calc(100% - 92px);overflow:auto}.ch-search-window .ch-friends-box li{cursor:pointer;list-style:none;position:relative;padding:10px;border-bottom:1px solid rgba(90,122,190,0.08)}.ch-search-window .ch-friends-box li .ch-contact-img{height:32px;width:32px;border-radius:50%;margin-right:10px;vertical-align:middle}.ch-search-window .ch-friends-box li .ch-friend-name{width:180px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;padding-right:5px;font-size:13px;display:inline-block;vertical-align:middle;color:#4a505a;font-weight:400;text-transform:capitalize}.ch-search-window .ch-friends-box .ch-more-users{display:none;color:#4a505a;margin-left:10px;margin-top:10px;font-size:13px}.ch-search-window .ch-friends-box .ch-suggested{color:#4a505a;margin-left:10px;margin-top:10px;font-size:13px}.ch-conv-window{bottom:0;top:35%;right:24%;width:22%;box-shadow:rgba(0,0,0,0.3) 0 0 1.2em}.ch-conv-window .ch-header{background-color:#fff}.ch-conv-window .ch-header .ch-conv-details-wrapper{display:inline-block}.ch-conv-window .ch-header .ch-conv-details-wrapper .ch-conv-title{display:inline-block;vertical-align:middle;max-width:120px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;color:#545454;text-transform:capitalize;font-size:14px}.ch-conv-window .ch-header .ch-conv-details-wrapper .ch-conv-options{vertical-align:middle;color:#545454}.ch-conv-window .ch-header .ch-conv-details-wrapper .ch-conv-status{font-size:10px;color:#999}.ch-conv-window .ch-header .ch-conv-drop-down{position:absolute;display:none;box-shadow:0 5px 5px -3px rgba(0,0,0,0.2),0 8px 10px 1px rgba(0,0,0,0.14),0 3px 14px 2px rgba(0,0,0,0.12);z-index:8;background:#fff;min-width:100px;max-width:250px;border-radius:5px}.ch-conv-window .ch-header .ch-conv-drop-down div{color:#4a505a;padding:4px 12px;height:auto;margin:0;line-height:20px;font-size:12px}.ch-conv-window .ch-header .ch-conv-drop-down div:hover{background:#0000000a;cursor:pointer}.ch-conv-window .ch-header i#ch_conv_close_btn{color:#999;position:absolute;right:10px;top:14px}.ch-conv-window .ch-header i#ch_conv_close_btn:hover{color:#000}.ch-conv-window .ch-messages-box{height:calc(100% - 115px);overflow:auto;background-color:#fff;padding-top:5px}.ch-conv-window .ch-messages-box .ch-loader-bg{background:#fff}.ch-conv-window .ch-messages-box .ch-msg-loader{float:right;padding:5px 0;background-size:70px;position:relative;background-position:center;background-repeat:no-repeat;height:140px;min-width:180px;border:1px solid #eee;border-radius:6px 6px 0}.ch-conv-window .ch-messages-box .ch-admin-msg{text-align:center;color:#969391;margin-bottom:4px;padding:0 10px;font-size:11px}.ch-conv-window .ch-messages-box .ch-msg-list{position:relative;float:left;width:100%;padding:5px 0}.ch-conv-window .ch-messages-box .ch-msg-list .ch-msg-container{clear:both;margin-bottom:0;position:relative;overflow:hidden}.ch-conv-window .ch-messages-box .ch-msg-list .ch-msg-container audio#ch_audio_message{margin-top:-10px;width:295px;height:38px;margin-left:-33px;margin-right:-33px;margin-bottom:-14px;background-color:#f1f3f4;transform:scaleX(0.9)}.ch-conv-window .ch-messages-box .ch-msg-list i.ch-msg-more-option{color:#6e7174;font-size:15px;margin-top:2px;cursor:pointer}.ch-conv-window .ch-messages-box .ch-msg-list .ch-msg-option-container{position:absolute;box-shadow:rgba(0,0,0,0.3) 0 0 1.2em;z-index:8;background:#fff;min-width:100px;max-width:250px;border-radius:4px}.ch-conv-window .ch-messages-box .ch-msg-list .ch-msg-option-container div{color:#4a505a;padding:4px 12px;height:auto;margin:0;line-height:20px;font-size:12px}.ch-conv-window .ch-messages-box .ch-msg-list .ch-msg-option-container div:hover{background:#0000000a;cursor:pointer}.ch-conv-window .ch-messages-box .ch-msg-list .ch-sender-name{font-size:13px;margin-left:7px;margin-bottom:5px;text-transform:capitalize;color:#545454}.ch-conv-window .ch-messages-box .ch-msg-list .ch-msg-container.left{float:left;max-width:220px;margin-left:8px}.ch-conv-window .ch-messages-box .ch-msg-list .ch-msg-container.left span.ch-msg-time{font-size:10px;display:inline-block;vertical-align:middle;color:#969391}.ch-conv-window .ch-messages-box .ch-msg-list .ch-msg-container.left .ch-message{overflow:hidden;background:#f5f5f5;border-radius:6px 6px 6px 0;position:relative;color:#545454;padding:10px;word-break:break-word}.ch-conv-window .ch-messages-box .ch-msg-list .ch-msg-container.left .ch-message .ch-video-message,.ch-conv-window .ch-messages-box .ch-msg-list .ch-msg-container.left .ch-message .ch-image-message,.ch-conv-window .ch-messages-box .ch-msg-list .ch-msg-container.left .ch-message .ch-location-message,.ch-conv-window .ch-messages-box .ch-msg-list .ch-msg-container.left .ch-message .ch-sticker-message{background-size:cover;position:relative;cursor:pointer;background-position:center;background-repeat:no-repeat;height:140px;min-width:180px;margin:-10px;border:1px solid #eee;border-radius:6px 6px 6px 0}.ch-conv-window .ch-messages-box .ch-msg-list .ch-msg-container.left .ch-message .ch-video-message .ch-play-icon,.ch-conv-window .ch-messages-box .ch-msg-list .ch-msg-container.left .ch-message .ch-image-message .ch-play-icon,.ch-conv-window .ch-messages-box .ch-msg-list .ch-msg-container.left .ch-message .ch-location-message .ch-play-icon,.ch-conv-window .ch-messages-box .ch-msg-list .ch-msg-container.left .ch-message .ch-sticker-message .ch-play-icon{position:absolute;left:0;right:0;top:28%;text-align:center;color:#fff;font-size:55px}.ch-conv-window .ch-messages-box .ch-msg-list .ch-msg-container.left .ch-message .ch-audio-message{width:220px;margin:-10px}.ch-conv-window .ch-messages-box .ch-msg-list .ch-msg-container.right{float:right;max-width:220px;color:#969391;margin-right:8px;text-align:right}.ch-conv-window .ch-messages-box .ch-msg-list .ch-msg-container.right .ch-msg-time{margin-right:5px;font-size:10px;display:inline-block;vertical-align:middle;color:#969391}.ch-conv-window .ch-messages-box .ch-msg-list .ch-msg-container.right i.ch-msg-status{font-size:10px;display:inline-block;vertical-align:middle;color:#969391;margin-right:5px}.ch-conv-window .ch-messages-box .ch-msg-list .ch-msg-container.right .ch-message{background-color:#0377ff;border-radius:6px 6px 0;overflow:hidden;display:block;color:#fff;margin-bottom:1px;text-align:left;padding:10px;word-break:break-word}.ch-conv-window .ch-messages-box .ch-msg-list .ch-msg-container.right .ch-video-message,.ch-conv-window .ch-messages-box .ch-msg-list .ch-msg-container.right .ch-image-message,.ch-conv-window .ch-messages-box .ch-msg-list .ch-msg-container.right .ch-location-message,.ch-conv-window .ch-messages-box .ch-msg-list .ch-msg-container.right .ch-sticker-message{background-size:cover;position:relative;cursor:pointer;background-position:center;background-repeat:no-repeat;height:140px;min-width:180px;margin:-10px;border:1px solid #eee;border-radius:6px 6px 0}.ch-conv-window .ch-messages-box .ch-msg-list .ch-msg-container.right .ch-video-message .ch-play-icon,.ch-conv-window .ch-messages-box .ch-msg-list .ch-msg-container.right .ch-image-message .ch-play-icon,.ch-conv-window .ch-messages-box .ch-msg-list .ch-msg-container.right .ch-location-message .ch-play-icon,.ch-conv-window .ch-messages-box .ch-msg-list .ch-msg-container.right .ch-sticker-message .ch-play-icon{position:absolute;left:0;right:0;top:28%;text-align:center;color:#fff;font-size:55px}.ch-conv-window .ch-send-box{padding:8px 10px 0;border-top:1px solid rgba(90,122,190,0.08);min-height:50px;background:#fff;font-size:13px;position:relative}.ch-conv-window .ch-send-box textarea{outline:none;border:none;width:calc(100% - 54px);color:#545454;padding:0px 5px 0 0;resize:none;font-size:13px;vertical-align:bottom;font-family:\\"Roboto\\",sans-serif;background:transparent}.ch-conv-window .ch-send-box button{padding:11px 0 0 0;margin:0;background:transparent;border:none;outline:none;vertical-align:super;cursor:pointer}.ch-conv-window .ch-send-box button i.ch-send-icon{font-size:20px;color:#0377ff}.ch-conv-window .ch-send-box .ch-attachment-btn{margin-right:5px;display:inline-block;vertical-align:super;font-size:22px;cursor:pointer;color:#0377ff}.ch-conv-window .ch-send-box .ch-media-docker{position:absolute;opacity:0;visibility:hidden;bottom:-100px;left:0;right:0;background:#fff;padding:10px;z-index:99;transition:.5s;-webkit-box-shadow:0 -4px 8px 0 rgba(0,0,0,0.2);-webkit-transition:.5s;box-shadow:0 -4px 8px 0 rgba(0,0,0,0.2);border-radius:10px 10px 0 0;overflow:hidden;text-align:center}.ch-conv-window .ch-send-box .ch-media-docker .ch-video-option{margin-right:0 !important}.ch-conv-window .ch-send-box .ch-media-docker .ch-image-option,.ch-conv-window .ch-send-box .ch-media-docker .ch-audio-option,.ch-conv-window .ch-send-box .ch-media-docker .ch-video-option{display:inline-block;position:relative;text-align:center;margin-right:35px;color:#545454}.ch-conv-window .ch-send-box .ch-media-docker .ch-image-option .ch-image-icon-span,.ch-conv-window .ch-send-box .ch-media-docker .ch-audio-option .ch-image-icon-span,.ch-conv-window .ch-send-box .ch-media-docker .ch-video-option .ch-image-icon-span{background-color:#64b5f6}.ch-conv-window .ch-send-box .ch-media-docker .ch-image-option .ch-audio-icon-span,.ch-conv-window .ch-send-box .ch-media-docker .ch-audio-option .ch-audio-icon-span,.ch-conv-window .ch-send-box .ch-media-docker .ch-video-option .ch-audio-icon-span{background-color:#ff8a65}.ch-conv-window .ch-send-box .ch-media-docker .ch-image-option .ch-video-icon-span,.ch-conv-window .ch-send-box .ch-media-docker .ch-audio-option .ch-video-icon-span,.ch-conv-window .ch-send-box .ch-media-docker .ch-video-option .ch-video-icon-span{background-color:#f7dc6f}.ch-conv-window .ch-send-box .ch-media-docker .ch-image-option .ch-image-icon-span,.ch-conv-window .ch-send-box .ch-media-docker .ch-image-option .ch-audio-icon-span,.ch-conv-window .ch-send-box .ch-media-docker .ch-image-option .ch-video-icon-span,.ch-conv-window .ch-send-box .ch-media-docker .ch-audio-option .ch-image-icon-span,.ch-conv-window .ch-send-box .ch-media-docker .ch-audio-option .ch-audio-icon-span,.ch-conv-window .ch-send-box .ch-media-docker .ch-audio-option .ch-video-icon-span,.ch-conv-window .ch-send-box .ch-media-docker .ch-video-option .ch-image-icon-span,.ch-conv-window .ch-send-box .ch-media-docker .ch-video-option .ch-audio-icon-span,.ch-conv-window .ch-send-box .ch-media-docker .ch-video-option .ch-video-icon-span{height:45px;width:45px;display:block;text-align:center;line-height:53px;border-radius:50%;margin-bottom:2px;cursor:pointer}.ch-conv-window .ch-send-box .ch-media-docker .ch-image-option .ch-image-icon-span img,.ch-conv-window .ch-send-box .ch-media-docker .ch-image-option .ch-audio-icon-span img,.ch-conv-window .ch-send-box .ch-media-docker .ch-image-option .ch-video-icon-span img,.ch-conv-window .ch-send-box .ch-media-docker .ch-audio-option .ch-image-icon-span img,.ch-conv-window .ch-send-box .ch-media-docker .ch-audio-option .ch-audio-icon-span img,.ch-conv-window .ch-send-box .ch-media-docker .ch-audio-option .ch-video-icon-span img,.ch-conv-window .ch-send-box .ch-media-docker .ch-video-option .ch-image-icon-span img,.ch-conv-window .ch-send-box .ch-media-docker .ch-video-option .ch-audio-icon-span img,.ch-conv-window .ch-send-box .ch-media-docker .ch-video-option .ch-video-icon-span img{width:16px}.ch-conv-window .ch-send-box .ch-media-docker .ch-image-option input,.ch-conv-window .ch-send-box .ch-media-docker .ch-audio-option input,.ch-conv-window .ch-send-box .ch-media-docker .ch-video-option input{opacity:0;width:50px;height:50px;position:absolute;top:0;cursor:pointer;left:0}.ch-conv-window .ch-send-box .ch-show-docker.ch-media-docker{opacity:1;bottom:100%;visibility:visible}\\n", ""]);\n// Exports\nmodule.exports = exports;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9zY3NzL21haW4uc2Nzcz9mZDE5Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIEltcG9ydHNcbnZhciBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gPSByZXF1aXJlKFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiKTtcbmV4cG9ydHMgPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oZmFsc2UpO1xuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiQGltcG9ydCB1cmwoaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3M/ZmFtaWx5PVJvYm90byZkaXNwbGF5PXN3YXApO1wiXSk7XG4vLyBNb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcImJvZHl7Zm9udC1mYW1pbHk6XFxcIlJvYm90b1xcXCIsc2Fucy1zZXJpZjtmb250LXNpemU6MTNweH11bHtwYWRkaW5nLWxlZnQ6MDttYXJnaW46MH0ubGVmdHtmbG9hdDpsZWZ0fS5yaWdodHtmbG9hdDpyaWdodH0uY2gtbG9hZGVyLWJne3Bvc2l0aW9uOmFic29sdXRlO2hlaWdodDppbmhlcml0O3dpZHRoOjEwMCU7ZGlzcGxheTpub25lO3otaW5kZXg6OTk7YmFja2dyb3VuZDpyZ2JhKDAsMCwwLDAuMyl9LmNoLWxvYWRlcntwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7cmlnaHQ6MDttYXJnaW46MCBhdXRvO3RvcDo0MCU7Ym9yZGVyOjVweCBzb2xpZCAjZjNmM2YzO2JvcmRlci1yYWRpdXM6NTAlO2JvcmRlci10b3A6NXB4IHNvbGlkICMwMzc3ZmY7d2lkdGg6MzBweDtoZWlnaHQ6MzBweDstd2Via2l0LWFuaW1hdGlvbjpzcGluIDFzIGxpbmVhciBpbmZpbml0ZTthbmltYXRpb246c3BpbiAxcyBsaW5lYXIgaW5maW5pdGV9QC13ZWJraXQta2V5ZnJhbWVzIHNwaW57MCV7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDBkZWcpfTEwMCV7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDM2MGRlZyl9fUBrZXlmcmFtZXMgc3BpbnswJXt0cmFuc2Zvcm06cm90YXRlKDBkZWcpfTEwMCV7dHJhbnNmb3JtOnJvdGF0ZSgzNjBkZWcpfX0uY2gtbm8tbXNne3Bvc2l0aW9uOnJlbGF0aXZlO3RvcDo1MCU7dGV4dC1hbGlnbjpjZW50ZXI7Y29sb3I6IzU0NTQ1NH0uY2gtc2hvdy1lbGVtZW50e2Rpc3BsYXk6YmxvY2sgIWltcG9ydGFudH0uY2gtbGF1bmNoZXJ7cG9zaXRpb246Zml4ZWQ7Ym90dG9tOjMlO3JpZ2h0OjElO3dpZHRoOjU1cHg7aGVpZ2h0OjU1cHg7Y3Vyc29yOnBvaW50ZXI7Ym9yZGVyLXJhZGl1czo1MCU7YmFja2dyb3VuZDojMDM3N2ZmO2JveC1zaGFkb3c6cmdiYSgwLDAsMCwwLjMpIDAgMCAxLjJlbTtsaW5lLWhlaWdodDo4MHB4O3RleHQtYWxpZ246Y2VudGVyO2JhY2tncm91bmQtc2l6ZTpjb3Zlcn0uY2gtbGF1bmNoZXIgLmNoLWxhdW5jaGVyLWltYWdle2hlaWdodDozNXB4O3dpZHRoOjM1cHh9LmNoLWhlYWRlcntmb250LXNpemU6MTVweDtsZXR0ZXItc3BhY2luZzouNXB4O3BhZGRpbmc6MTBweDtoZWlnaHQ6MzBweDtib3gtc2hhZG93OjAgNXB4IDE1cHggcmdiYSgwLDAsMCwwLjEpO2JvcmRlci10b3AtbGVmdC1yYWRpdXM6OHB4O2JvcmRlci10b3AtcmlnaHQtcmFkaXVzOjhweDtwb3NpdGlvbjpyZWxhdGl2ZTt6LWluZGV4OjF9LmNoLWhlYWRlciBpe2N1cnNvcjpwb2ludGVyO2ZvbnQtc2l6ZToyMHB4fS5jaC1oZWFkZXIgLmNoLWNvbnZlcnNhdGlvbi1pbWFnZXttYXJnaW4tdG9wOjA7dmVydGljYWwtYWxpZ246bWlkZGxlO2Rpc3BsYXk6aW5saW5lLWJsb2NrO2Zsb2F0OmxlZnQ7cG9zaXRpb246cmVsYXRpdmU7aGVpZ2h0OjMycHg7d2lkdGg6MzJweDtib3JkZXItcmFkaXVzOjUwJTtiYWNrZ3JvdW5kLXNpemU6Y292ZXI7bWFyZ2luLXJpZ2h0OjEwcHh9I2NoX3NuYWNrYmFye21pbi13aWR0aDoyNTBweDttYXJnaW4tbGVmdDotMTI1cHg7YmFja2dyb3VuZC1jb2xvcjojMzMzO2NvbG9yOiNmZmY7dGV4dC1hbGlnbjpjZW50ZXI7Ym9yZGVyLXJhZGl1czo0cHg7cGFkZGluZzoxM3B4O3Bvc2l0aW9uOmZpeGVkO3otaW5kZXg6MTtsZWZ0OjUwJTtib3R0b206MzBweDtmb250LXNpemU6MTRweDstd2Via2l0LWFuaW1hdGlvbjpmYWRlaW4gMC41cywgZmFkZW91dCAwLjVzIDIuNXM7YW5pbWF0aW9uOmZhZGVpbiAwLjVzLCBmYWRlb3V0IDAuNXMgMi41c31ALXdlYmtpdC1rZXlmcmFtZXMgZmFkZWlue2Zyb217Ym90dG9tOjA7b3BhY2l0eTowfXRve2JvdHRvbTozMHB4O29wYWNpdHk6MX19QGtleWZyYW1lcyBmYWRlaW57ZnJvbXtib3R0b206MDtvcGFjaXR5OjB9dG97Ym90dG9tOjMwcHg7b3BhY2l0eToxfX1ALXdlYmtpdC1rZXlmcmFtZXMgZmFkZW91dHtmcm9te2JvdHRvbTozMHB4O29wYWNpdHk6MX10b3tib3R0b206MDtvcGFjaXR5OjB9fUBrZXlmcmFtZXMgZmFkZW91dHtmcm9te2JvdHRvbTozMHB4O29wYWNpdHk6MX10b3tib3R0b206MDtvcGFjaXR5OjB9fS5jaC1tZXNzYWdlcy1ib3g6Oi13ZWJraXQtc2Nyb2xsYmFyLC5jaC1yZWNlbnQtbGlzdGluZzo6LXdlYmtpdC1zY3JvbGxiYXIsLmNoLWZyaWVuZHMtYm94Ojotd2Via2l0LXNjcm9sbGJhcnt3aWR0aDouNGVtO292ZXJmbG93OnZpc2libGU7Ym9yZGVyLXJhZGl1czo0cHh9LmNoLW1lc3NhZ2VzLWJveDo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIsLmNoLXJlY2VudC1saXN0aW5nOjotd2Via2l0LXNjcm9sbGJhci10aHVtYiwuY2gtZnJpZW5kcy1ib3g6Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1ie292ZXJmbG93OnZpc2libGU7Ym9yZGVyLXJhZGl1czo0cHg7YmFja2dyb3VuZDpyZ2JhKDAsMCwwLDAuMil9LmNoLWxvZ2luLXdpbmRvdywuY2gtY29udi13aW5kb3csLmNoLXNlYXJjaC13aW5kb3csLmNoLXJlY2VudC13aW5kb3d7Ym9yZGVyLXRvcC1sZWZ0LXJhZGl1czo4cHg7Ym9yZGVyLXRvcC1yaWdodC1yYWRpdXM6OHB4O3Bvc2l0aW9uOmZpeGVkfS5jaC1sb2dpbi13aW5kb3d7Ym94LXNoYWRvdzpyZ2JhKDAsMCwwLDAuMykgMCAwIDEuMmVtO3JpZ2h0OjElO3RvcDozNSU7Ym90dG9tOjA7d2lkdGg6MjIlO2JhY2tncm91bmQtY29sb3I6I2ZmZn0uY2gtbG9naW4td2luZG93IC5jaC1oZWFkZXJ7Y29sb3I6IzRhNTA1YTtsaW5lLWhlaWdodDozNHB4O3BhZGRpbmctbGVmdDoyMHB4fS5jaC1sb2dpbi13aW5kb3cgLmNoLWhlYWRlciAuY2gtbG9naW4tY2xvc2UtYnRue2NvbG9yOiM5OTk7ZmxvYXQ6cmlnaHQ7bWFyZ2luLXRvcDo1cHh9LmNoLWxvZ2luLXdpbmRvdyAuY2gtaGVhZGVyIC5jaC1sb2dpbi1jbG9zZS1idG46aG92ZXJ7Y29sb3I6IzAwMH0uY2gtbG9naW4td2luZG93IC5jaC1sb2FkZXItYmd7aGVpZ2h0OjEwMCV9LmNoLWxvZ2luLXdpbmRvdyAuY2gtZHVtbXktY29udGFpbmVye3BhZGRpbmc6MTVweCAyMHB4O3RleHQtYWxpZ246Y2VudGVyfS5jaC1sb2dpbi13aW5kb3cgLmNoLWR1bW15LWNvbnRhaW5lciAuY2gtY29udGFpbmVyLXRleHR7Y29sb3I6IzU0NTQ1NDttYXJnaW4tYm90dG9tOjIwcHh9LmNoLWxvZ2luLXdpbmRvdyAuY2gtZHVtbXktY29udGFpbmVyIC5jaC1kdW1teS1pbWd7Ym9yZGVyLXJhZGl1czo1MCU7Y3Vyc29yOnBvaW50ZXI7aGVpZ2h0OjQwcHg7bWFyZ2luLXJpZ2h0OjEwcHg7d2lkdGg6NDBweH0uY2gtbG9naW4td2luZG93IC5jaC1kdW1teS1jb250YWluZXIgLmNoLWR1bW15LWltZzpsYXN0LWNoaWxke21hcmdpbjowfS5jaC1sb2dpbi13aW5kb3cgLmNoLWxvZ2luLWJ0bntiYWNrZ3JvdW5kOiMwMzc3ZmY7b3V0bGluZTpub25lO21hcmdpbjowIGF1dG87ZGlzcGxheTppbmhlcml0O2JvcmRlcjoxcHggc29saWQgIzAzNzdmZjtib3JkZXItcmFkaXVzOjI1cHg7Y29sb3I6I2ZmZjtwYWRkaW5nOjEwcHggMzBweDtmb250LXNpemU6MTRweDt0ZXh0LXRyYW5zZm9ybTp1cHBlcmNhc2U7Ym94LXNoYWRvdzowIDFweCAxMHB4IDAgcmdiYSgwLDAsMCwwLjEyKTstd2Via2l0LXRyYW5zaXRpb246YWxsIC40cyBlYXNlOy1vLXRyYW5zaXRpb246YWxsIC40cyBlYXNlO3RyYW5zaXRpb246YWxsIC40cyBlYXNlO2N1cnNvcjpwb2ludGVyfS5jaC1sb2dpbi13aW5kb3cgLmNoLWxvZ2luLWJ0bjpob3ZlcntiYWNrZ3JvdW5kOnRyYW5zcGFyZW50O2NvbG9yOiMwMzc3ZmZ9LmNoLWxvZ2luLXdpbmRvdyAuY2gtbG9naW4tbmFtZS1jb250YWluZXJ7bWFyZ2luLWJvdHRvbToxMHB4O3BhZGRpbmc6MTVweCAyMHB4O21hcmdpbi10b3A6MTVweDtib3JkZXItYm90dG9tOjFweCBzb2xpZCAjY2NjfS5jaC1sb2dpbi13aW5kb3cgLmNoLWxvZ2luLW5hbWUtY29udGFpbmVyIC5jaC1sb2dpbi1lcnJvcntkaXNwbGF5Om5vbmU7Zm9udC1zaXplOjg1JTtjb2xvcjpyZWQ7bWFyZ2luLXRvcDoycHh9LmNoLWxvZ2luLXdpbmRvdyAuY2gtbG9naW4tbmFtZS1jb250YWluZXIgaW5wdXR7b3V0bGluZTpub25lO3BhZGRpbmc6MTBweDt3aWR0aDoxMDAlO2JhY2tncm91bmQ6dHJhbnNwYXJlbnQ7Ym9yZGVyOjFweCBzb2xpZCAjY2NjO2JvcmRlci1yYWRpdXM6NHB4O2JveC1zaGFkb3c6bm9uZTtib3gtc2l6aW5nOmJvcmRlci1ib3h9LmNoLWxvZ2luLXdpbmRvdyAuY2gtbG9naW4tbmFtZS1jb250YWluZXIgLmNoLWxvZ2luLW5hbWV7Zm9udC1zaXplOjE0cHg7bWFyZ2luLWJvdHRvbTo2cHg7Y29sb3I6IzU0NTQ1NH0uY2gtcmVjZW50LXdpbmRvd3tyaWdodDoxJTt0b3A6MzUlO2JvdHRvbTowO3dpZHRoOjIyJTtib3gtc2hhZG93OnJnYmEoMCwwLDAsMC4zKSAwIDAgMS4yZW07YmFja2dyb3VuZC1jb2xvcjojZmZmfS5jaC1yZWNlbnQtd2luZG93IC5jaC1oZWFkZXJ7YmFja2dyb3VuZC1jb2xvcjojZmZmfS5jaC1yZWNlbnQtd2luZG93IC5jaC1oZWFkZXIgLmNoLWhlYWRlci10aXRsZXtkaXNwbGF5OmlubGluZS1ibG9jazt2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7bWF4LXdpZHRoOjE1MHB4O3doaXRlLXNwYWNlOm5vd3JhcDt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzO292ZXJmbG93OmhpZGRlbjtwYWRkaW5nLXJpZ2h0OjVweDtjb2xvcjojNTQ1NDU0O2ZvbnQtc2l6ZToxNHB4O2N1cnNvcjpkZWZhdWx0O21hcmdpbi10b3A6NnB4fS5jaC1yZWNlbnQtd2luZG93IC5jaC1oZWFkZXIgLmNoLWhlYWRlci1vcHRpb257ZGlzcGxheTppbmxpbmUtYmxvY2s7ZmxvYXQ6cmlnaHQ7bWFyZ2luLXRvcDo1cHh9LmNoLXJlY2VudC13aW5kb3cgLmNoLWhlYWRlciAuY2gtaGVhZGVyLW9wdGlvbiBpe2NvbG9yOiM5OTk7dmVydGljYWwtYWxpZ246bWlkZGxlO21hcmdpbi1yaWdodDo1cHh9LmNoLXJlY2VudC13aW5kb3cgLmNoLWhlYWRlciAuY2gtaGVhZGVyLW9wdGlvbiBpOmxhc3QtY2hpbGR7bWFyZ2luLXJpZ2h0OjB9LmNoLXJlY2VudC13aW5kb3cgLmNoLWhlYWRlciAuY2gtaGVhZGVyLW9wdGlvbiBpOmhvdmVye2NvbG9yOiMwMDB9LmNoLXJlY2VudC13aW5kb3cgLmNoLXJlY2VudC1saXN0aW5ne2hlaWdodDpjYWxjKDEwMCUgLSA1MHB4KTtvdmVyZmxvdzphdXRvfS5jaC1yZWNlbnQtd2luZG93IC5jaC1yZWNlbnQtbGlzdGluZyAuY2gtcmVjZW50LXVse21hcmdpbjowO3BhZGRpbmc6M3B4IDAgMCAwfS5jaC1yZWNlbnQtd2luZG93IC5jaC1yZWNlbnQtbGlzdGluZyAuY2gtcmVjZW50LXVsIGxpe21pbi1oZWlnaHQ6NDBweDtjdXJzb3I6cG9pbnRlcjtsaXN0LXN0eWxlOm5vbmU7cG9zaXRpb246cmVsYXRpdmU7cGFkZGluZzoxMHB4O2JvcmRlci1ib3R0b206MXB4IHNvbGlkIHJnYmEoOTAsMTIyLDE5MCwwLjA4KTtiYWNrZ3JvdW5kLWNvbG9yOiNmZmZ9LmNoLXJlY2VudC13aW5kb3cgLmNoLXJlY2VudC1saXN0aW5nIC5jaC1yZWNlbnQtdWwgbGkgLmNoLWNvbnZlcnNhdGlvbi1pbWFnZXtwb3NpdGlvbjpyZWxhdGl2ZTtmbG9hdDpsZWZ0O2hlaWdodDozMnB4O3dpZHRoOjMycHg7Ym9yZGVyLXJhZGl1czo1MCU7YmFja2dyb3VuZC1zaXplOmNvdmVyO21hcmdpbi1yaWdodDoxMHB4O21hcmdpbi10b3A6M3B4fS5jaC1yZWNlbnQtd2luZG93IC5jaC1yZWNlbnQtbGlzdGluZyAuY2gtcmVjZW50LXVsIGxpIC5jaC1jb252ZXJzYXRpb24taW1hZ2UgLmNoLW9ubGluZS1pY29ue2JhY2tncm91bmQ6IzY0YmEwMDtib3JkZXItcmFkaXVzOjUwJTtib3JkZXI6MnB4IHNvbGlkICNmZmY7Ym90dG9tOjA7cG9zaXRpb246YWJzb2x1dGU7cmlnaHQ6MXB4O3dpZHRoOjZweDtoZWlnaHQ6NnB4O2Rpc3BsYXk6bm9uZX0uY2gtcmVjZW50LXdpbmRvdyAuY2gtcmVjZW50LWxpc3RpbmcgLmNoLXJlY2VudC11bCBsaSAuY2gtY29udmVyc2F0aW9uLWltYWdlIC5jaC11c2VyLWJsb2NrZWR7YmFja2dyb3VuZDpyZWQgIWltcG9ydGFudDtkaXNwbGF5OmJsb2NrICFpbXBvcnRhbnR9LmNoLXJlY2VudC13aW5kb3cgLmNoLXJlY2VudC1saXN0aW5nIC5jaC1yZWNlbnQtdWwgbGk6aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjojZmFmYWZhfS5jaC1yZWNlbnQtd2luZG93IC5jaC1yZWNlbnQtbGlzdGluZyAuY2gtcmVjZW50LXVsIGxpOmxhc3QtY2hpbGR7bWFyZ2luLWJvdHRvbTowfS5jaC1yZWNlbnQtd2luZG93IC5jaC1yZWNlbnQtbGlzdGluZyAuY2gtcmVjZW50LXVsIGxpICNjaF90aXRsZXt3aWR0aDo1NSU7d2hpdGUtc3BhY2U6bm93cmFwO3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXM7b3ZlcmZsb3c6aGlkZGVuO3BhZGRpbmctcmlnaHQ6NXB4O2ZvbnQtc2l6ZToxM3B4O2Rpc3BsYXk6YmxvY2s7ZmxvYXQ6bGVmdDtjb2xvcjojNGE1MDVhO2ZvbnQtd2VpZ2h0OjQwMDttYXJnaW4tdG9wOjRweDt0ZXh0LXRyYW5zZm9ybTpjYXBpdGFsaXplfS5jaC1yZWNlbnQtd2luZG93IC5jaC1yZWNlbnQtbGlzdGluZyAuY2gtcmVjZW50LXVsIGxpIC5jaC1jcmVhdGVkLWF0e2ZvbnQtc2l6ZToxMHB4O2Zsb2F0OnJpZ2h0O2NvbG9yOiM5NjkzOTE7bWFyZ2luLXRvcDoycHg7cG9zaXRpb246YWJzb2x1dGU7cmlnaHQ6NXB4O3RvcDoxNHB4fS5jaC1yZWNlbnQtd2luZG93IC5jaC1yZWNlbnQtbGlzdGluZyAuY2gtcmVjZW50LXVsIGxpIC5jaC1sYXN0LW1zZy1ib3h7d2lkdGg6NTUlO2Zsb2F0OmxlZnQ7bWFyZ2luLXRvcDo0cHh9LmNoLXJlY2VudC13aW5kb3cgLmNoLXJlY2VudC1saXN0aW5nIC5jaC1yZWNlbnQtdWwgbGkgLmNoLWxhc3QtbXNnLWJveCBpbWd7aGVpZ2h0OjEwcHg7d2lkdGg6MTJweDttYXJnaW46MnB4IDVweCAwIDFweDtmbG9hdDpsZWZ0O3ZlcnRpY2FsLWFsaWduOm1pZGRsZX0uY2gtcmVjZW50LXdpbmRvdyAuY2gtcmVjZW50LWxpc3RpbmcgLmNoLXJlY2VudC11bCBsaSAuY2gtbGFzdC1tc2ctYm94IC5jaC1sYXN0LW1lc3NhZ2V7Zm9udC1zaXplOjEycHg7Y29sb3I6IzNhM2M0YztwYWRkaW5nLWxlZnQ6MDt3aGl0ZS1zcGFjZTpub3dyYXA7dGV4dC1vdmVyZmxvdzplbGxpcHNpcztvdmVyZmxvdzpoaWRkZW47aGVpZ2h0OmF1dG99LmNoLXNlYXJjaC13aW5kb3d7cmlnaHQ6MSU7dG9wOjM1JTtib3R0b206MDt3aWR0aDoyMiU7YmFja2dyb3VuZC1jb2xvcjojZmZmfS5jaC1zZWFyY2gtd2luZG93IC5jaC1oZWFkZXJ7bGluZS1oZWlnaHQ6MzVweDt0ZXh0LWFsaWduOmNlbnRlcjtjb2xvcjojNTQ1NDU0fS5jaC1zZWFyY2gtd2luZG93IC5jaC1oZWFkZXIgaSNjaF9zZWFyY2hfY2xvc2VfYnRue3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6MTBweDt0b3A6MTdweDtjb2xvcjojOTk5fS5jaC1zZWFyY2gtd2luZG93IC5jaC1oZWFkZXIgaSNjaF9zZWFyY2hfY2xvc2VfYnRuOmhvdmVye2NvbG9yOiMwMDB9LmNoLXNlYXJjaC13aW5kb3cgLmNoLXNlYXJjaC1ib3h7cG9zaXRpb246cmVsYXRpdmU7YmFja2dyb3VuZDojMDM3N2ZmfS5jaC1zZWFyY2gtd2luZG93IC5jaC1zZWFyY2gtYm94IC5jaC1zZWFyY2gtaW5wdXQtYm94e2JhY2tncm91bmQ6dHJhbnNwYXJlbnQ7b3V0bGluZTpub25lO2JvcmRlcjpub25lO2NvbG9yOndoaXRlO3dpZHRoOjEwMCU7cGFkZGluZzoxNXB4IDI1cHggMTVweCAxNXB4O2JveC1zaXppbmc6Ym9yZGVyLWJveH0uY2gtc2VhcmNoLXdpbmRvdyAuY2gtc2VhcmNoLWJveCA6OnBsYWNlaG9sZGVye2NvbG9yOndoaXRlO29wYWNpdHk6MX0uY2gtc2VhcmNoLXdpbmRvdyAuY2gtc2VhcmNoLWJveCA6LW1zLWlucHV0LXBsYWNlaG9sZGVye2NvbG9yOndoaXRlfS5jaC1zZWFyY2gtd2luZG93IC5jaC1zZWFyY2gtYm94IDo6LW1zLWlucHV0LXBsYWNlaG9sZGVye2NvbG9yOndoaXRlfS5jaC1zZWFyY2gtd2luZG93IC5jaC1zZWFyY2gtYm94IC5jaC1jbGVhci1zZWFyY2gtaWNvbntjb2xvcjojZmZmZmZmO2N1cnNvcjpwb2ludGVyO2ZvbnQtc2l6ZToyMHB4O3Bvc2l0aW9uOmFic29sdXRlO3RvcDoxMnB4O3JpZ2h0OjhweH0uY2gtc2VhcmNoLXdpbmRvdyAuY2gtZnJpZW5kcy1ib3h7aGVpZ2h0OmNhbGMoMTAwJSAtIDkycHgpO292ZXJmbG93OmF1dG99LmNoLXNlYXJjaC13aW5kb3cgLmNoLWZyaWVuZHMtYm94IGxpe2N1cnNvcjpwb2ludGVyO2xpc3Qtc3R5bGU6bm9uZTtwb3NpdGlvbjpyZWxhdGl2ZTtwYWRkaW5nOjEwcHg7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgcmdiYSg5MCwxMjIsMTkwLDAuMDgpfS5jaC1zZWFyY2gtd2luZG93IC5jaC1mcmllbmRzLWJveCBsaSAuY2gtY29udGFjdC1pbWd7aGVpZ2h0OjMycHg7d2lkdGg6MzJweDtib3JkZXItcmFkaXVzOjUwJTttYXJnaW4tcmlnaHQ6MTBweDt2ZXJ0aWNhbC1hbGlnbjptaWRkbGV9LmNoLXNlYXJjaC13aW5kb3cgLmNoLWZyaWVuZHMtYm94IGxpIC5jaC1mcmllbmQtbmFtZXt3aWR0aDoxODBweDt3aGl0ZS1zcGFjZTpub3dyYXA7dGV4dC1vdmVyZmxvdzplbGxpcHNpcztvdmVyZmxvdzpoaWRkZW47cGFkZGluZy1yaWdodDo1cHg7Zm9udC1zaXplOjEzcHg7ZGlzcGxheTppbmxpbmUtYmxvY2s7dmVydGljYWwtYWxpZ246bWlkZGxlO2NvbG9yOiM0YTUwNWE7Zm9udC13ZWlnaHQ6NDAwO3RleHQtdHJhbnNmb3JtOmNhcGl0YWxpemV9LmNoLXNlYXJjaC13aW5kb3cgLmNoLWZyaWVuZHMtYm94IC5jaC1tb3JlLXVzZXJze2Rpc3BsYXk6bm9uZTtjb2xvcjojNGE1MDVhO21hcmdpbi1sZWZ0OjEwcHg7bWFyZ2luLXRvcDoxMHB4O2ZvbnQtc2l6ZToxM3B4fS5jaC1zZWFyY2gtd2luZG93IC5jaC1mcmllbmRzLWJveCAuY2gtc3VnZ2VzdGVke2NvbG9yOiM0YTUwNWE7bWFyZ2luLWxlZnQ6MTBweDttYXJnaW4tdG9wOjEwcHg7Zm9udC1zaXplOjEzcHh9LmNoLWNvbnYtd2luZG93e2JvdHRvbTowO3RvcDozNSU7cmlnaHQ6MjQlO3dpZHRoOjIyJTtib3gtc2hhZG93OnJnYmEoMCwwLDAsMC4zKSAwIDAgMS4yZW19LmNoLWNvbnYtd2luZG93IC5jaC1oZWFkZXJ7YmFja2dyb3VuZC1jb2xvcjojZmZmfS5jaC1jb252LXdpbmRvdyAuY2gtaGVhZGVyIC5jaC1jb252LWRldGFpbHMtd3JhcHBlcntkaXNwbGF5OmlubGluZS1ibG9ja30uY2gtY29udi13aW5kb3cgLmNoLWhlYWRlciAuY2gtY29udi1kZXRhaWxzLXdyYXBwZXIgLmNoLWNvbnYtdGl0bGV7ZGlzcGxheTppbmxpbmUtYmxvY2s7dmVydGljYWwtYWxpZ246bWlkZGxlO21heC13aWR0aDoxMjBweDt3aGl0ZS1zcGFjZTpub3dyYXA7dGV4dC1vdmVyZmxvdzplbGxpcHNpcztvdmVyZmxvdzpoaWRkZW47Y29sb3I6IzU0NTQ1NDt0ZXh0LXRyYW5zZm9ybTpjYXBpdGFsaXplO2ZvbnQtc2l6ZToxNHB4fS5jaC1jb252LXdpbmRvdyAuY2gtaGVhZGVyIC5jaC1jb252LWRldGFpbHMtd3JhcHBlciAuY2gtY29udi1vcHRpb25ze3ZlcnRpY2FsLWFsaWduOm1pZGRsZTtjb2xvcjojNTQ1NDU0fS5jaC1jb252LXdpbmRvdyAuY2gtaGVhZGVyIC5jaC1jb252LWRldGFpbHMtd3JhcHBlciAuY2gtY29udi1zdGF0dXN7Zm9udC1zaXplOjEwcHg7Y29sb3I6Izk5OX0uY2gtY29udi13aW5kb3cgLmNoLWhlYWRlciAuY2gtY29udi1kcm9wLWRvd257cG9zaXRpb246YWJzb2x1dGU7ZGlzcGxheTpub25lO2JveC1zaGFkb3c6MCA1cHggNXB4IC0zcHggcmdiYSgwLDAsMCwwLjIpLDAgOHB4IDEwcHggMXB4IHJnYmEoMCwwLDAsMC4xNCksMCAzcHggMTRweCAycHggcmdiYSgwLDAsMCwwLjEyKTt6LWluZGV4Ojg7YmFja2dyb3VuZDojZmZmO21pbi13aWR0aDoxMDBweDttYXgtd2lkdGg6MjUwcHg7Ym9yZGVyLXJhZGl1czo1cHh9LmNoLWNvbnYtd2luZG93IC5jaC1oZWFkZXIgLmNoLWNvbnYtZHJvcC1kb3duIGRpdntjb2xvcjojNGE1MDVhO3BhZGRpbmc6NHB4IDEycHg7aGVpZ2h0OmF1dG87bWFyZ2luOjA7bGluZS1oZWlnaHQ6MjBweDtmb250LXNpemU6MTJweH0uY2gtY29udi13aW5kb3cgLmNoLWhlYWRlciAuY2gtY29udi1kcm9wLWRvd24gZGl2OmhvdmVye2JhY2tncm91bmQ6IzAwMDAwMDBhO2N1cnNvcjpwb2ludGVyfS5jaC1jb252LXdpbmRvdyAuY2gtaGVhZGVyIGkjY2hfY29udl9jbG9zZV9idG57Y29sb3I6Izk5OTtwb3NpdGlvbjphYnNvbHV0ZTtyaWdodDoxMHB4O3RvcDoxNHB4fS5jaC1jb252LXdpbmRvdyAuY2gtaGVhZGVyIGkjY2hfY29udl9jbG9zZV9idG46aG92ZXJ7Y29sb3I6IzAwMH0uY2gtY29udi13aW5kb3cgLmNoLW1lc3NhZ2VzLWJveHtoZWlnaHQ6Y2FsYygxMDAlIC0gMTE1cHgpO292ZXJmbG93OmF1dG87YmFja2dyb3VuZC1jb2xvcjojZmZmO3BhZGRpbmctdG9wOjVweH0uY2gtY29udi13aW5kb3cgLmNoLW1lc3NhZ2VzLWJveCAuY2gtbG9hZGVyLWJne2JhY2tncm91bmQ6I2ZmZn0uY2gtY29udi13aW5kb3cgLmNoLW1lc3NhZ2VzLWJveCAuY2gtbXNnLWxvYWRlcntmbG9hdDpyaWdodDtwYWRkaW5nOjVweCAwO2JhY2tncm91bmQtc2l6ZTo3MHB4O3Bvc2l0aW9uOnJlbGF0aXZlO2JhY2tncm91bmQtcG9zaXRpb246Y2VudGVyO2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtoZWlnaHQ6MTQwcHg7bWluLXdpZHRoOjE4MHB4O2JvcmRlcjoxcHggc29saWQgI2VlZTtib3JkZXItcmFkaXVzOjZweCA2cHggMH0uY2gtY29udi13aW5kb3cgLmNoLW1lc3NhZ2VzLWJveCAuY2gtYWRtaW4tbXNne3RleHQtYWxpZ246Y2VudGVyO2NvbG9yOiM5NjkzOTE7bWFyZ2luLWJvdHRvbTo0cHg7cGFkZGluZzowIDEwcHg7Zm9udC1zaXplOjExcHh9LmNoLWNvbnYtd2luZG93IC5jaC1tZXNzYWdlcy1ib3ggLmNoLW1zZy1saXN0e3Bvc2l0aW9uOnJlbGF0aXZlO2Zsb2F0OmxlZnQ7d2lkdGg6MTAwJTtwYWRkaW5nOjVweCAwfS5jaC1jb252LXdpbmRvdyAuY2gtbWVzc2FnZXMtYm94IC5jaC1tc2ctbGlzdCAuY2gtbXNnLWNvbnRhaW5lcntjbGVhcjpib3RoO21hcmdpbi1ib3R0b206MDtwb3NpdGlvbjpyZWxhdGl2ZTtvdmVyZmxvdzpoaWRkZW59LmNoLWNvbnYtd2luZG93IC5jaC1tZXNzYWdlcy1ib3ggLmNoLW1zZy1saXN0IC5jaC1tc2ctY29udGFpbmVyIGF1ZGlvI2NoX2F1ZGlvX21lc3NhZ2V7bWFyZ2luLXRvcDotMTBweDt3aWR0aDoyOTVweDtoZWlnaHQ6MzhweDttYXJnaW4tbGVmdDotMzNweDttYXJnaW4tcmlnaHQ6LTMzcHg7bWFyZ2luLWJvdHRvbTotMTRweDtiYWNrZ3JvdW5kLWNvbG9yOiNmMWYzZjQ7dHJhbnNmb3JtOnNjYWxlWCgwLjkpfS5jaC1jb252LXdpbmRvdyAuY2gtbWVzc2FnZXMtYm94IC5jaC1tc2ctbGlzdCBpLmNoLW1zZy1tb3JlLW9wdGlvbntjb2xvcjojNmU3MTc0O2ZvbnQtc2l6ZToxNXB4O21hcmdpbi10b3A6MnB4O2N1cnNvcjpwb2ludGVyfS5jaC1jb252LXdpbmRvdyAuY2gtbWVzc2FnZXMtYm94IC5jaC1tc2ctbGlzdCAuY2gtbXNnLW9wdGlvbi1jb250YWluZXJ7cG9zaXRpb246YWJzb2x1dGU7Ym94LXNoYWRvdzpyZ2JhKDAsMCwwLDAuMykgMCAwIDEuMmVtO3otaW5kZXg6ODtiYWNrZ3JvdW5kOiNmZmY7bWluLXdpZHRoOjEwMHB4O21heC13aWR0aDoyNTBweDtib3JkZXItcmFkaXVzOjRweH0uY2gtY29udi13aW5kb3cgLmNoLW1lc3NhZ2VzLWJveCAuY2gtbXNnLWxpc3QgLmNoLW1zZy1vcHRpb24tY29udGFpbmVyIGRpdntjb2xvcjojNGE1MDVhO3BhZGRpbmc6NHB4IDEycHg7aGVpZ2h0OmF1dG87bWFyZ2luOjA7bGluZS1oZWlnaHQ6MjBweDtmb250LXNpemU6MTJweH0uY2gtY29udi13aW5kb3cgLmNoLW1lc3NhZ2VzLWJveCAuY2gtbXNnLWxpc3QgLmNoLW1zZy1vcHRpb24tY29udGFpbmVyIGRpdjpob3ZlcntiYWNrZ3JvdW5kOiMwMDAwMDAwYTtjdXJzb3I6cG9pbnRlcn0uY2gtY29udi13aW5kb3cgLmNoLW1lc3NhZ2VzLWJveCAuY2gtbXNnLWxpc3QgLmNoLXNlbmRlci1uYW1le2ZvbnQtc2l6ZToxM3B4O21hcmdpbi1sZWZ0OjdweDttYXJnaW4tYm90dG9tOjVweDt0ZXh0LXRyYW5zZm9ybTpjYXBpdGFsaXplO2NvbG9yOiM1NDU0NTR9LmNoLWNvbnYtd2luZG93IC5jaC1tZXNzYWdlcy1ib3ggLmNoLW1zZy1saXN0IC5jaC1tc2ctY29udGFpbmVyLmxlZnR7ZmxvYXQ6bGVmdDttYXgtd2lkdGg6MjIwcHg7bWFyZ2luLWxlZnQ6OHB4fS5jaC1jb252LXdpbmRvdyAuY2gtbWVzc2FnZXMtYm94IC5jaC1tc2ctbGlzdCAuY2gtbXNnLWNvbnRhaW5lci5sZWZ0IHNwYW4uY2gtbXNnLXRpbWV7Zm9udC1zaXplOjEwcHg7ZGlzcGxheTppbmxpbmUtYmxvY2s7dmVydGljYWwtYWxpZ246bWlkZGxlO2NvbG9yOiM5NjkzOTF9LmNoLWNvbnYtd2luZG93IC5jaC1tZXNzYWdlcy1ib3ggLmNoLW1zZy1saXN0IC5jaC1tc2ctY29udGFpbmVyLmxlZnQgLmNoLW1lc3NhZ2V7b3ZlcmZsb3c6aGlkZGVuO2JhY2tncm91bmQ6I2Y1ZjVmNTtib3JkZXItcmFkaXVzOjZweCA2cHggNnB4IDA7cG9zaXRpb246cmVsYXRpdmU7Y29sb3I6IzU0NTQ1NDtwYWRkaW5nOjEwcHg7d29yZC1icmVhazpicmVhay13b3JkfS5jaC1jb252LXdpbmRvdyAuY2gtbWVzc2FnZXMtYm94IC5jaC1tc2ctbGlzdCAuY2gtbXNnLWNvbnRhaW5lci5sZWZ0IC5jaC1tZXNzYWdlIC5jaC12aWRlby1tZXNzYWdlLC5jaC1jb252LXdpbmRvdyAuY2gtbWVzc2FnZXMtYm94IC5jaC1tc2ctbGlzdCAuY2gtbXNnLWNvbnRhaW5lci5sZWZ0IC5jaC1tZXNzYWdlIC5jaC1pbWFnZS1tZXNzYWdlLC5jaC1jb252LXdpbmRvdyAuY2gtbWVzc2FnZXMtYm94IC5jaC1tc2ctbGlzdCAuY2gtbXNnLWNvbnRhaW5lci5sZWZ0IC5jaC1tZXNzYWdlIC5jaC1sb2NhdGlvbi1tZXNzYWdlLC5jaC1jb252LXdpbmRvdyAuY2gtbWVzc2FnZXMtYm94IC5jaC1tc2ctbGlzdCAuY2gtbXNnLWNvbnRhaW5lci5sZWZ0IC5jaC1tZXNzYWdlIC5jaC1zdGlja2VyLW1lc3NhZ2V7YmFja2dyb3VuZC1zaXplOmNvdmVyO3Bvc2l0aW9uOnJlbGF0aXZlO2N1cnNvcjpwb2ludGVyO2JhY2tncm91bmQtcG9zaXRpb246Y2VudGVyO2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtoZWlnaHQ6MTQwcHg7bWluLXdpZHRoOjE4MHB4O21hcmdpbjotMTBweDtib3JkZXI6MXB4IHNvbGlkICNlZWU7Ym9yZGVyLXJhZGl1czo2cHggNnB4IDZweCAwfS5jaC1jb252LXdpbmRvdyAuY2gtbWVzc2FnZXMtYm94IC5jaC1tc2ctbGlzdCAuY2gtbXNnLWNvbnRhaW5lci5sZWZ0IC5jaC1tZXNzYWdlIC5jaC12aWRlby1tZXNzYWdlIC5jaC1wbGF5LWljb24sLmNoLWNvbnYtd2luZG93IC5jaC1tZXNzYWdlcy1ib3ggLmNoLW1zZy1saXN0IC5jaC1tc2ctY29udGFpbmVyLmxlZnQgLmNoLW1lc3NhZ2UgLmNoLWltYWdlLW1lc3NhZ2UgLmNoLXBsYXktaWNvbiwuY2gtY29udi13aW5kb3cgLmNoLW1lc3NhZ2VzLWJveCAuY2gtbXNnLWxpc3QgLmNoLW1zZy1jb250YWluZXIubGVmdCAuY2gtbWVzc2FnZSAuY2gtbG9jYXRpb24tbWVzc2FnZSAuY2gtcGxheS1pY29uLC5jaC1jb252LXdpbmRvdyAuY2gtbWVzc2FnZXMtYm94IC5jaC1tc2ctbGlzdCAuY2gtbXNnLWNvbnRhaW5lci5sZWZ0IC5jaC1tZXNzYWdlIC5jaC1zdGlja2VyLW1lc3NhZ2UgLmNoLXBsYXktaWNvbntwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7cmlnaHQ6MDt0b3A6MjglO3RleHQtYWxpZ246Y2VudGVyO2NvbG9yOiNmZmY7Zm9udC1zaXplOjU1cHh9LmNoLWNvbnYtd2luZG93IC5jaC1tZXNzYWdlcy1ib3ggLmNoLW1zZy1saXN0IC5jaC1tc2ctY29udGFpbmVyLmxlZnQgLmNoLW1lc3NhZ2UgLmNoLWF1ZGlvLW1lc3NhZ2V7d2lkdGg6MjIwcHg7bWFyZ2luOi0xMHB4fS5jaC1jb252LXdpbmRvdyAuY2gtbWVzc2FnZXMtYm94IC5jaC1tc2ctbGlzdCAuY2gtbXNnLWNvbnRhaW5lci5yaWdodHtmbG9hdDpyaWdodDttYXgtd2lkdGg6MjIwcHg7Y29sb3I6Izk2OTM5MTttYXJnaW4tcmlnaHQ6OHB4O3RleHQtYWxpZ246cmlnaHR9LmNoLWNvbnYtd2luZG93IC5jaC1tZXNzYWdlcy1ib3ggLmNoLW1zZy1saXN0IC5jaC1tc2ctY29udGFpbmVyLnJpZ2h0IC5jaC1tc2ctdGltZXttYXJnaW4tcmlnaHQ6NXB4O2ZvbnQtc2l6ZToxMHB4O2Rpc3BsYXk6aW5saW5lLWJsb2NrO3ZlcnRpY2FsLWFsaWduOm1pZGRsZTtjb2xvcjojOTY5MzkxfS5jaC1jb252LXdpbmRvdyAuY2gtbWVzc2FnZXMtYm94IC5jaC1tc2ctbGlzdCAuY2gtbXNnLWNvbnRhaW5lci5yaWdodCBpLmNoLW1zZy1zdGF0dXN7Zm9udC1zaXplOjEwcHg7ZGlzcGxheTppbmxpbmUtYmxvY2s7dmVydGljYWwtYWxpZ246bWlkZGxlO2NvbG9yOiM5NjkzOTE7bWFyZ2luLXJpZ2h0OjVweH0uY2gtY29udi13aW5kb3cgLmNoLW1lc3NhZ2VzLWJveCAuY2gtbXNnLWxpc3QgLmNoLW1zZy1jb250YWluZXIucmlnaHQgLmNoLW1lc3NhZ2V7YmFja2dyb3VuZC1jb2xvcjojMDM3N2ZmO2JvcmRlci1yYWRpdXM6NnB4IDZweCAwO292ZXJmbG93OmhpZGRlbjtkaXNwbGF5OmJsb2NrO2NvbG9yOiNmZmY7bWFyZ2luLWJvdHRvbToxcHg7dGV4dC1hbGlnbjpsZWZ0O3BhZGRpbmc6MTBweDt3b3JkLWJyZWFrOmJyZWFrLXdvcmR9LmNoLWNvbnYtd2luZG93IC5jaC1tZXNzYWdlcy1ib3ggLmNoLW1zZy1saXN0IC5jaC1tc2ctY29udGFpbmVyLnJpZ2h0IC5jaC12aWRlby1tZXNzYWdlLC5jaC1jb252LXdpbmRvdyAuY2gtbWVzc2FnZXMtYm94IC5jaC1tc2ctbGlzdCAuY2gtbXNnLWNvbnRhaW5lci5yaWdodCAuY2gtaW1hZ2UtbWVzc2FnZSwuY2gtY29udi13aW5kb3cgLmNoLW1lc3NhZ2VzLWJveCAuY2gtbXNnLWxpc3QgLmNoLW1zZy1jb250YWluZXIucmlnaHQgLmNoLWxvY2F0aW9uLW1lc3NhZ2UsLmNoLWNvbnYtd2luZG93IC5jaC1tZXNzYWdlcy1ib3ggLmNoLW1zZy1saXN0IC5jaC1tc2ctY29udGFpbmVyLnJpZ2h0IC5jaC1zdGlja2VyLW1lc3NhZ2V7YmFja2dyb3VuZC1zaXplOmNvdmVyO3Bvc2l0aW9uOnJlbGF0aXZlO2N1cnNvcjpwb2ludGVyO2JhY2tncm91bmQtcG9zaXRpb246Y2VudGVyO2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtoZWlnaHQ6MTQwcHg7bWluLXdpZHRoOjE4MHB4O21hcmdpbjotMTBweDtib3JkZXI6MXB4IHNvbGlkICNlZWU7Ym9yZGVyLXJhZGl1czo2cHggNnB4IDB9LmNoLWNvbnYtd2luZG93IC5jaC1tZXNzYWdlcy1ib3ggLmNoLW1zZy1saXN0IC5jaC1tc2ctY29udGFpbmVyLnJpZ2h0IC5jaC12aWRlby1tZXNzYWdlIC5jaC1wbGF5LWljb24sLmNoLWNvbnYtd2luZG93IC5jaC1tZXNzYWdlcy1ib3ggLmNoLW1zZy1saXN0IC5jaC1tc2ctY29udGFpbmVyLnJpZ2h0IC5jaC1pbWFnZS1tZXNzYWdlIC5jaC1wbGF5LWljb24sLmNoLWNvbnYtd2luZG93IC5jaC1tZXNzYWdlcy1ib3ggLmNoLW1zZy1saXN0IC5jaC1tc2ctY29udGFpbmVyLnJpZ2h0IC5jaC1sb2NhdGlvbi1tZXNzYWdlIC5jaC1wbGF5LWljb24sLmNoLWNvbnYtd2luZG93IC5jaC1tZXNzYWdlcy1ib3ggLmNoLW1zZy1saXN0IC5jaC1tc2ctY29udGFpbmVyLnJpZ2h0IC5jaC1zdGlja2VyLW1lc3NhZ2UgLmNoLXBsYXktaWNvbntwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7cmlnaHQ6MDt0b3A6MjglO3RleHQtYWxpZ246Y2VudGVyO2NvbG9yOiNmZmY7Zm9udC1zaXplOjU1cHh9LmNoLWNvbnYtd2luZG93IC5jaC1zZW5kLWJveHtwYWRkaW5nOjhweCAxMHB4IDA7Ym9yZGVyLXRvcDoxcHggc29saWQgcmdiYSg5MCwxMjIsMTkwLDAuMDgpO21pbi1oZWlnaHQ6NTBweDtiYWNrZ3JvdW5kOiNmZmY7Zm9udC1zaXplOjEzcHg7cG9zaXRpb246cmVsYXRpdmV9LmNoLWNvbnYtd2luZG93IC5jaC1zZW5kLWJveCB0ZXh0YXJlYXtvdXRsaW5lOm5vbmU7Ym9yZGVyOm5vbmU7d2lkdGg6Y2FsYygxMDAlIC0gNTRweCk7Y29sb3I6IzU0NTQ1NDtwYWRkaW5nOjBweCA1cHggMCAwO3Jlc2l6ZTpub25lO2ZvbnQtc2l6ZToxM3B4O3ZlcnRpY2FsLWFsaWduOmJvdHRvbTtmb250LWZhbWlseTpcXFwiUm9ib3RvXFxcIixzYW5zLXNlcmlmO2JhY2tncm91bmQ6dHJhbnNwYXJlbnR9LmNoLWNvbnYtd2luZG93IC5jaC1zZW5kLWJveCBidXR0b257cGFkZGluZzoxMXB4IDAgMCAwO21hcmdpbjowO2JhY2tncm91bmQ6dHJhbnNwYXJlbnQ7Ym9yZGVyOm5vbmU7b3V0bGluZTpub25lO3ZlcnRpY2FsLWFsaWduOnN1cGVyO2N1cnNvcjpwb2ludGVyfS5jaC1jb252LXdpbmRvdyAuY2gtc2VuZC1ib3ggYnV0dG9uIGkuY2gtc2VuZC1pY29ue2ZvbnQtc2l6ZToyMHB4O2NvbG9yOiMwMzc3ZmZ9LmNoLWNvbnYtd2luZG93IC5jaC1zZW5kLWJveCAuY2gtYXR0YWNobWVudC1idG57bWFyZ2luLXJpZ2h0OjVweDtkaXNwbGF5OmlubGluZS1ibG9jazt2ZXJ0aWNhbC1hbGlnbjpzdXBlcjtmb250LXNpemU6MjJweDtjdXJzb3I6cG9pbnRlcjtjb2xvcjojMDM3N2ZmfS5jaC1jb252LXdpbmRvdyAuY2gtc2VuZC1ib3ggLmNoLW1lZGlhLWRvY2tlcntwb3NpdGlvbjphYnNvbHV0ZTtvcGFjaXR5OjA7dmlzaWJpbGl0eTpoaWRkZW47Ym90dG9tOi0xMDBweDtsZWZ0OjA7cmlnaHQ6MDtiYWNrZ3JvdW5kOiNmZmY7cGFkZGluZzoxMHB4O3otaW5kZXg6OTk7dHJhbnNpdGlvbjouNXM7LXdlYmtpdC1ib3gtc2hhZG93OjAgLTRweCA4cHggMCByZ2JhKDAsMCwwLDAuMik7LXdlYmtpdC10cmFuc2l0aW9uOi41cztib3gtc2hhZG93OjAgLTRweCA4cHggMCByZ2JhKDAsMCwwLDAuMik7Ym9yZGVyLXJhZGl1czoxMHB4IDEwcHggMCAwO292ZXJmbG93OmhpZGRlbjt0ZXh0LWFsaWduOmNlbnRlcn0uY2gtY29udi13aW5kb3cgLmNoLXNlbmQtYm94IC5jaC1tZWRpYS1kb2NrZXIgLmNoLXZpZGVvLW9wdGlvbnttYXJnaW4tcmlnaHQ6MCAhaW1wb3J0YW50fS5jaC1jb252LXdpbmRvdyAuY2gtc2VuZC1ib3ggLmNoLW1lZGlhLWRvY2tlciAuY2gtaW1hZ2Utb3B0aW9uLC5jaC1jb252LXdpbmRvdyAuY2gtc2VuZC1ib3ggLmNoLW1lZGlhLWRvY2tlciAuY2gtYXVkaW8tb3B0aW9uLC5jaC1jb252LXdpbmRvdyAuY2gtc2VuZC1ib3ggLmNoLW1lZGlhLWRvY2tlciAuY2gtdmlkZW8tb3B0aW9ue2Rpc3BsYXk6aW5saW5lLWJsb2NrO3Bvc2l0aW9uOnJlbGF0aXZlO3RleHQtYWxpZ246Y2VudGVyO21hcmdpbi1yaWdodDozNXB4O2NvbG9yOiM1NDU0NTR9LmNoLWNvbnYtd2luZG93IC5jaC1zZW5kLWJveCAuY2gtbWVkaWEtZG9ja2VyIC5jaC1pbWFnZS1vcHRpb24gLmNoLWltYWdlLWljb24tc3BhbiwuY2gtY29udi13aW5kb3cgLmNoLXNlbmQtYm94IC5jaC1tZWRpYS1kb2NrZXIgLmNoLWF1ZGlvLW9wdGlvbiAuY2gtaW1hZ2UtaWNvbi1zcGFuLC5jaC1jb252LXdpbmRvdyAuY2gtc2VuZC1ib3ggLmNoLW1lZGlhLWRvY2tlciAuY2gtdmlkZW8tb3B0aW9uIC5jaC1pbWFnZS1pY29uLXNwYW57YmFja2dyb3VuZC1jb2xvcjojNjRiNWY2fS5jaC1jb252LXdpbmRvdyAuY2gtc2VuZC1ib3ggLmNoLW1lZGlhLWRvY2tlciAuY2gtaW1hZ2Utb3B0aW9uIC5jaC1hdWRpby1pY29uLXNwYW4sLmNoLWNvbnYtd2luZG93IC5jaC1zZW5kLWJveCAuY2gtbWVkaWEtZG9ja2VyIC5jaC1hdWRpby1vcHRpb24gLmNoLWF1ZGlvLWljb24tc3BhbiwuY2gtY29udi13aW5kb3cgLmNoLXNlbmQtYm94IC5jaC1tZWRpYS1kb2NrZXIgLmNoLXZpZGVvLW9wdGlvbiAuY2gtYXVkaW8taWNvbi1zcGFue2JhY2tncm91bmQtY29sb3I6I2ZmOGE2NX0uY2gtY29udi13aW5kb3cgLmNoLXNlbmQtYm94IC5jaC1tZWRpYS1kb2NrZXIgLmNoLWltYWdlLW9wdGlvbiAuY2gtdmlkZW8taWNvbi1zcGFuLC5jaC1jb252LXdpbmRvdyAuY2gtc2VuZC1ib3ggLmNoLW1lZGlhLWRvY2tlciAuY2gtYXVkaW8tb3B0aW9uIC5jaC12aWRlby1pY29uLXNwYW4sLmNoLWNvbnYtd2luZG93IC5jaC1zZW5kLWJveCAuY2gtbWVkaWEtZG9ja2VyIC5jaC12aWRlby1vcHRpb24gLmNoLXZpZGVvLWljb24tc3BhbntiYWNrZ3JvdW5kLWNvbG9yOiNmN2RjNmZ9LmNoLWNvbnYtd2luZG93IC5jaC1zZW5kLWJveCAuY2gtbWVkaWEtZG9ja2VyIC5jaC1pbWFnZS1vcHRpb24gLmNoLWltYWdlLWljb24tc3BhbiwuY2gtY29udi13aW5kb3cgLmNoLXNlbmQtYm94IC5jaC1tZWRpYS1kb2NrZXIgLmNoLWltYWdlLW9wdGlvbiAuY2gtYXVkaW8taWNvbi1zcGFuLC5jaC1jb252LXdpbmRvdyAuY2gtc2VuZC1ib3ggLmNoLW1lZGlhLWRvY2tlciAuY2gtaW1hZ2Utb3B0aW9uIC5jaC12aWRlby1pY29uLXNwYW4sLmNoLWNvbnYtd2luZG93IC5jaC1zZW5kLWJveCAuY2gtbWVkaWEtZG9ja2VyIC5jaC1hdWRpby1vcHRpb24gLmNoLWltYWdlLWljb24tc3BhbiwuY2gtY29udi13aW5kb3cgLmNoLXNlbmQtYm94IC5jaC1tZWRpYS1kb2NrZXIgLmNoLWF1ZGlvLW9wdGlvbiAuY2gtYXVkaW8taWNvbi1zcGFuLC5jaC1jb252LXdpbmRvdyAuY2gtc2VuZC1ib3ggLmNoLW1lZGlhLWRvY2tlciAuY2gtYXVkaW8tb3B0aW9uIC5jaC12aWRlby1pY29uLXNwYW4sLmNoLWNvbnYtd2luZG93IC5jaC1zZW5kLWJveCAuY2gtbWVkaWEtZG9ja2VyIC5jaC12aWRlby1vcHRpb24gLmNoLWltYWdlLWljb24tc3BhbiwuY2gtY29udi13aW5kb3cgLmNoLXNlbmQtYm94IC5jaC1tZWRpYS1kb2NrZXIgLmNoLXZpZGVvLW9wdGlvbiAuY2gtYXVkaW8taWNvbi1zcGFuLC5jaC1jb252LXdpbmRvdyAuY2gtc2VuZC1ib3ggLmNoLW1lZGlhLWRvY2tlciAuY2gtdmlkZW8tb3B0aW9uIC5jaC12aWRlby1pY29uLXNwYW57aGVpZ2h0OjQ1cHg7d2lkdGg6NDVweDtkaXNwbGF5OmJsb2NrO3RleHQtYWxpZ246Y2VudGVyO2xpbmUtaGVpZ2h0OjUzcHg7Ym9yZGVyLXJhZGl1czo1MCU7bWFyZ2luLWJvdHRvbToycHg7Y3Vyc29yOnBvaW50ZXJ9LmNoLWNvbnYtd2luZG93IC5jaC1zZW5kLWJveCAuY2gtbWVkaWEtZG9ja2VyIC5jaC1pbWFnZS1vcHRpb24gLmNoLWltYWdlLWljb24tc3BhbiBpbWcsLmNoLWNvbnYtd2luZG93IC5jaC1zZW5kLWJveCAuY2gtbWVkaWEtZG9ja2VyIC5jaC1pbWFnZS1vcHRpb24gLmNoLWF1ZGlvLWljb24tc3BhbiBpbWcsLmNoLWNvbnYtd2luZG93IC5jaC1zZW5kLWJveCAuY2gtbWVkaWEtZG9ja2VyIC5jaC1pbWFnZS1vcHRpb24gLmNoLXZpZGVvLWljb24tc3BhbiBpbWcsLmNoLWNvbnYtd2luZG93IC5jaC1zZW5kLWJveCAuY2gtbWVkaWEtZG9ja2VyIC5jaC1hdWRpby1vcHRpb24gLmNoLWltYWdlLWljb24tc3BhbiBpbWcsLmNoLWNvbnYtd2luZG93IC5jaC1zZW5kLWJveCAuY2gtbWVkaWEtZG9ja2VyIC5jaC1hdWRpby1vcHRpb24gLmNoLWF1ZGlvLWljb24tc3BhbiBpbWcsLmNoLWNvbnYtd2luZG93IC5jaC1zZW5kLWJveCAuY2gtbWVkaWEtZG9ja2VyIC5jaC1hdWRpby1vcHRpb24gLmNoLXZpZGVvLWljb24tc3BhbiBpbWcsLmNoLWNvbnYtd2luZG93IC5jaC1zZW5kLWJveCAuY2gtbWVkaWEtZG9ja2VyIC5jaC12aWRlby1vcHRpb24gLmNoLWltYWdlLWljb24tc3BhbiBpbWcsLmNoLWNvbnYtd2luZG93IC5jaC1zZW5kLWJveCAuY2gtbWVkaWEtZG9ja2VyIC5jaC12aWRlby1vcHRpb24gLmNoLWF1ZGlvLWljb24tc3BhbiBpbWcsLmNoLWNvbnYtd2luZG93IC5jaC1zZW5kLWJveCAuY2gtbWVkaWEtZG9ja2VyIC5jaC12aWRlby1vcHRpb24gLmNoLXZpZGVvLWljb24tc3BhbiBpbWd7d2lkdGg6MTZweH0uY2gtY29udi13aW5kb3cgLmNoLXNlbmQtYm94IC5jaC1tZWRpYS1kb2NrZXIgLmNoLWltYWdlLW9wdGlvbiBpbnB1dCwuY2gtY29udi13aW5kb3cgLmNoLXNlbmQtYm94IC5jaC1tZWRpYS1kb2NrZXIgLmNoLWF1ZGlvLW9wdGlvbiBpbnB1dCwuY2gtY29udi13aW5kb3cgLmNoLXNlbmQtYm94IC5jaC1tZWRpYS1kb2NrZXIgLmNoLXZpZGVvLW9wdGlvbiBpbnB1dHtvcGFjaXR5OjA7d2lkdGg6NTBweDtoZWlnaHQ6NTBweDtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtjdXJzb3I6cG9pbnRlcjtsZWZ0OjB9LmNoLWNvbnYtd2luZG93IC5jaC1zZW5kLWJveCAuY2gtc2hvdy1kb2NrZXIuY2gtbWVkaWEtZG9ja2Vye29wYWNpdHk6MTtib3R0b206MTAwJTt2aXNpYmlsaXR5OnZpc2libGV9XFxuXCIsIFwiXCJdKTtcbi8vIEV4cG9ydHNcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0cztcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///3\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return "@media ".concat(item[2], " {").concat(content, "}");\n      }\n\n      return content;\n    }).join(\'\');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === \'string\') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, \'\']];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = "".concat(mediaQuery, " and ").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || \'\'; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === \'function\') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return "/*# sourceURL=".concat(cssMapping.sourceRoot || \'\').concat(source, " */");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join(\'\\n\');\n  }\n\n  return [content].join(\'\\n\');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = "sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(base64);\n  return "/*# ".concat(data, " */");\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanM/MjRmYiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuLypcbiAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcbiAgQXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbi8vIGNzcyBiYXNlIGNvZGUsIGluamVjdGVkIGJ5IHRoZSBjc3MtbG9hZGVyXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodXNlU291cmNlTWFwKSB7XG4gIHZhciBsaXN0ID0gW107IC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcblxuICBsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICB2YXIgY29udGVudCA9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKTtcblxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgcmV0dXJuIFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpLmNvbmNhdChjb250ZW50LCBcIn1cIik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH0pLmpvaW4oJycpO1xuICB9OyAvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuXG5cbiAgbGlzdC5pID0gZnVuY3Rpb24gKG1vZHVsZXMsIG1lZGlhUXVlcnksIGRlZHVwZSkge1xuICAgIGlmICh0eXBlb2YgbW9kdWxlcyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgbW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgJyddXTtcbiAgICB9XG5cbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXG4gICAgaWYgKGRlZHVwZSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItZGVzdHJ1Y3R1cmluZ1xuICAgICAgICB2YXIgaWQgPSB0aGlzW2ldWzBdO1xuXG4gICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IG1vZHVsZXMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW19pXSk7XG5cbiAgICAgIGlmIChkZWR1cGUgJiYgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29udGludWVcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChtZWRpYVF1ZXJ5KSB7XG4gICAgICAgIGlmICghaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMl0gPSBcIlwiLmNvbmNhdChtZWRpYVF1ZXJ5LCBcIiBhbmQgXCIpLmNvbmNhdChpdGVtWzJdKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBsaXN0O1xufTtcblxuZnVuY3Rpb24gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApIHtcbiAgdmFyIGNvbnRlbnQgPSBpdGVtWzFdIHx8ICcnOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWRlc3RydWN0dXJpbmdcblxuICB2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG5cbiAgaWYgKCFjc3NNYXBwaW5nKSB7XG4gICAgcmV0dXJuIGNvbnRlbnQ7XG4gIH1cblxuICBpZiAodXNlU291cmNlTWFwICYmIHR5cGVvZiBidG9hID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdmFyIHNvdXJjZU1hcHBpbmcgPSB0b0NvbW1lbnQoY3NzTWFwcGluZyk7XG4gICAgdmFyIHNvdXJjZVVSTHMgPSBjc3NNYXBwaW5nLnNvdXJjZXMubWFwKGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgIHJldHVybiBcIi8qIyBzb3VyY2VVUkw9XCIuY29uY2F0KGNzc01hcHBpbmcuc291cmNlUm9vdCB8fCAnJykuY29uY2F0KHNvdXJjZSwgXCIgKi9cIik7XG4gICAgfSk7XG4gICAgcmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbignXFxuJyk7XG4gIH1cblxuICByZXR1cm4gW2NvbnRlbnRdLmpvaW4oJ1xcbicpO1xufSAvLyBBZGFwdGVkIGZyb20gY29udmVydC1zb3VyY2UtbWFwIChNSVQpXG5cblxuZnVuY3Rpb24gdG9Db21tZW50KHNvdXJjZU1hcCkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSk7XG4gIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgcmV0dXJuIFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbn0iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///4\n')},function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./src/scss/main.scss\nvar main = __webpack_require__(1);\n\n// CONCATENATED MODULE: ./src/js/adapter.js\nclass ChannelizeAdapter {\n\n\tconstructor(publicKey) {\n\t\tthis.channelize = window.channelize = new Channelize.client({publicKey: publicKey});\n\t}\n\n\tloginWithEmail(email, password, cb) {\n\t\tthis.channelize.loginWithEmailPassword(email, password, function (err, res) {\n\t\t\tif(err) return cb(err);\n\n\t\t\treturn cb(null, res);\n\t\t});\n\t}\n\n\tloginWithUserId(userId, pmClientServerToken, cb) {\n\t\tthis.channelize.loginWithUserId(userId, pmClientServerToken, function (err, res) {\n\t\t\tif(err) return cb(err);\n\n\t\t\treturn cb(null, res);\n\t\t});\n\t}\n\n\tgetLoginUser() {\n\t\treturn this.channelize.getLoginUser();\n\t}\n\n\tconnect(userId, accessToken, cb) {\n\t\tthis.channelize.connect(userId, accessToken, function (err, res) {\n\t\t\tif(err) return cb(err);\n\n\t\t\treturn cb(null, res);\n\t\t});\n\t}\n\n\tdisconnect(deviceId, cb) {\n\t\tthis.channelize.disconnect(deviceId, function (err, res) {\n\t\t\tif(err) return cb(err);\n\n\t\t\treturn cb(null, res)\n\t\t});\n\t}\n\n\tcreateUser(name, email, password, cb) {\n\t\tlet data = {\n\t\t\tdisplayName : name,\n\t\t\temail : email,\n\t\t\tpassword : password\n\t\t}\n\t\tthis.channelize.User.createUser(data, function (err, user) {\n\t\t\tif(err) return cb(err);\n\n\t\t\treturn cb(null, user);\n\t\t});\n\t}\n\n\tgetUser(userId, cb) {\n\t\tthis.channelize.User.get(userId, function (err, user) {\n\t\t\tif(err) return cb(err);\n\n\t\t\treturn cb(null, user);\n\t\t});\n\t}\n\n\tgetConversationsList(limit, skip, memberIds, include, convIds, convType, search, isGroup, customTypes, cb) {\n\t\tlet conversationListQuery = this.channelize.Conversation.createConversationListQuery();\n\t\tconversationListQuery.limit = limit;\n\t\tconversationListQuery.skip = skip;\n\t\tconversationListQuery.include = include;\n\t\tconversationListQuery.ids = convIds;\n\t\tconversationListQuery.type = convType;\n\t\tconversationListQuery.search = search;\n\t\tconversationListQuery.isGroup = isGroup;\n\t\tconversationListQuery.customTypes = customTypes;\n\n\t\tif(memberIds)\n\t\t\tconversationListQuery.membersExactly = memberIds;\n\n\t\tconversationListQuery.list(function (err, conversations) {\n\t\t\tif(err) return cb(err);\n\n\t\t\tcb(null, conversations);\n\t\t});\n\t}\n\n\tgetConversation(conversationId, cb) {\n\t\tthis.channelize.Conversation.getConversation(conversationId, "members", function (err, conversation) {\n\t\t\tif(err) return cb(err);\n\n\t\t\treturn cb(null, conversation);\n\t\t});\n\t}\n\n\tcreateConversation(data, cb) {\n\t\tthis.channelize.Conversation.createConversation(data, function (err, conversation) {\n\t\t\tif(err) return cb(err);\n\n\t\t\treturn cb(null, conversation);\n\t\t});\n\t}\n\n\taddMember(conversation, memberIds, cb) {\n\t    conversation.addMembers(memberIds, function (err, res) {\n\t    \tif (err) return cb(err);\n\n\t    \treturn cb(null, res);\n\t    });\n\t}\n\n\tremoveMember(conversation, memberIds, cb) {\n\t    conversation.removeMembers(memberIds, function (err, res) {\n\t    \tif (err) return cb(err);\n\n\t    \treturn cb(null, res);\n\t    });\n\t}\n\n\tblockMember(userId, cb) {\n\t\tthis.channelize.User.block(userId, function (err, res) {\n\t\t\tif (err) return cb(err);\n\n\t    \treturn cb(null, res);\n\t    });\n\t}\n\n\tunblockMember(userId, cb) {\n\t\tthis.channelize.User.unblock(userId, function (err, res) {\n\t\t\tif (err) return cb(err);\n\n\t    \treturn cb(null, res);\n\t    });\n\t}\n\n\tclearConversation(conversation, cb) {\n\t    conversation.clear(function (err, res) {\n\t    \tif (err) return cb(err);\n\n\t    \treturn cb(null, res);\n\t    });\n\t}\n\n\tleaveConversation(conversation, cb) {\n\t    conversation.leave(function (err, res) {\n\t    \tif (err) return cb(err);\n\n\t    \treturn cb(null, res);\n\t    });\n\t}\n\n\tmuteConversation(conversation, cb) {\n\t\tconversation.muteConversation(function (err, res) {\n\t\t\tif (err) return cb(err);\n\n    \treturn cb(null, res);\n\t\t});\n\t}\n\n\tunmuteConversation(conversation, cb) {\n\t\tconversation.unmuteConversation(function (err, res) {\n\t\t\tif (err) return cb(err);\n\n    \treturn cb(null, res);\n\t\t});\n\t}\n\n\tdeleteConversation(conversation, cb) {\n\t    conversation.delete(function (err, res) {\n\t    \tif (err) return cb(err);\n\n\t    \treturn cb(null, res);\n\t    });\n\t}\n\n\tmarkAsReadConversation(conversation, timestamp, cb) {\n\t    conversation.markAsRead(timestamp, function (err, res) {\n\t    \tif (err) return cb(err);\n\n\t    \treturn cb(null, res);\n\t    });\n\t}\n\n\tasync sendMessage(conversation, data, cb) {\n\t    conversation.sendMessage(data, function (err, res) {\n\t    \tif (err) return cb(err);\n\n\t    \treturn cb(null, res);\n\t    });\n\t}\n\n\tasync sendMessageToUser(data, cb) {\n\t    this.channelize.Message.sendMessage(data, function (err, message) {\n\t    \tif (err) return cb(err);\n\n\t    \treturn cb(null, message);\n\t    });\n\t}\n\n\tasync uploadFile(file, createThumbnail, cb) {\n\t    this.channelize.Message.uploadFile(file, createThumbnail, function(err, message) {\n\t    \tif (err) return cb(err);\n\n\t    \treturn cb(null, message);\n\t    });\n\t}\n\n\tgetConversationMembers(conversation, cb) {\n\t    conversation.getMembers(function(err, members) {\n\t    \tif (err) return cb(err);\n\n\t    \treturn cb(null, message);\n\t    });\n\t}\n\n\tgetMessageReadMembers(conversation, message) {\n\t    return conversation.getReadMembers(message);\n\t}\n\n\treadByAllMembers(conversation, message) {\n\t    return conversation.readByAllMembers(message);\n\t}\n\n\tgetMessages(conversation, limit, skip, ids, types, attachmentTypes, ownerIds, cb) {\n\t\tlet messageListQuery = conversation.createMessageListQuery();\n\t\tmessageListQuery.sort = \'createdAt DESC\';\n\t\tmessageListQuery.limit = limit ? limit : 50;\n\t\tmessageListQuery.skip = skip;\n\t\tmessageListQuery.ids = ids;\n\t\tmessageListQuery.types = types;\n\t\tmessageListQuery.attachmentTypes = attachmentTypes;\n\t\tmessageListQuery.ownerIds = ownerIds;\n\n\t\tmessageListQuery.list(function (err, messages) {\n\t\t\tif (err) return cb(err);\n\n\t\t\treturn cb(null, messages);\n\t\t});\n\t}\n\n\tdeleteMessagesForMe(messageIds, cb) {\n\t\tthis.channelize.Message.deleteMessagesForMe(messageIds, function (err, res) {\n\t\t\tif(err) return cb(err);\n\n\t\t\treturn cb(null, res);\n\t\t});\n\t}\n\n\tdeleteMessagesForEveryone(messageIds, cb) {\n\t\tthis.channelize.Message.deleteMessagesForEveryone(messageIds, function (err, res) {\n\t\t\tif(err) return cb(err);\n\n\t\t\treturn cb(null, res);\n\t\t});\n\t}\n\n\taddFriend(userId, type, cb) {\n\t\tthis.channelize.User.addFriend(userId, type, function (err, res) {\n\t\t\tif(err) return cb(err);\n\n\t\t\treturn cb(null, res);\n\t\t});\n\t}\n\n\tgetFriends(searchTerm, limit, skip, isOnline, includeBlocked, cb) {\n\t\tlet userListQuery = this.channelize.User.createUserListQuery();\n\t\tuserListQuery.search = searchTerm;\n\t\tuserListQuery.limit = limit;\n\t\tuserListQuery.skip = skip;\n\t\tuserListQuery.sort = "displayName ASC";\n\t\tuserListQuery.isOnline = isOnline;\n\t\tuserListQuery.includeBlocked = includeBlocked;\n\n\t\tuserListQuery.friendsList(function (err, users) {\n\t\t\tif(err) return cb(err);\n\n\t\t\treturn cb(null, users);\n\t\t});\n\t}\n\n\tgetAllUsers(searchValue, limit, skip, role, includeDeleted, cb) {\n\t\tlet userListQuery = this.channelize.User.createUserListQuery();\n\t\tuserListQuery.search = searchValue;\n\t\tuserListQuery.limit = limit;\n\t\tuserListQuery.skip = skip;\n\t\tuserListQuery.role = role;\n\t\tuserListQuery.includeDeleted = includeDeleted;\n\n\t\tuserListQuery.usersList(function (err, users) {\n\t\t\tif(err) return cb(err);\n\n\t\t\treturn cb(null, users);\n\t\t});\n\t}\n}\n\n\n// CONCATENATED MODULE: ./src/js/utility.js\nclass Utility {\n\tconstructor() {}\n\n\tcreateElement(tagName, attributes = null, data = null, parentTag = null) {\n\t\tlet element = document.createElement(tagName);\n        if(data)\n            element.innerHTML = data;\n        \n        if(parentTag)\n            parentTag.appendChild(element);\n\n\t\tif(attributes && Array.isArray(attributes)) {\n\t\t\tattributes.forEach(attribute => {\n\t\t\t\tlet keys = Object.keys(attribute);\n\t\t\t\tlet values = Object.values(attribute);\n\t\t\t\telement.setAttribute(keys[0], values[0]);\n\t\t\t});\n\t\t}\n\t\treturn element;\n\t}\n\n\tupdateTimeFormat(time) {\n      \tconst months = ["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];\n\n        var _getDay = val => {\n            let day = parseInt(val);\n            if (day == 1) {\n                return day + "st";\n            } else if (day == 2) {\n                return day + "nd";\n            } else if (day == 3) {\n                return day + "rd";\n            } else {\n                return day + "th";\n            }\n        };\n\n        var _checkTime = val => {\n            return +val < 10 ? "0" + val : val;\n        };\n\n        if (time) {\n            const LAST_MESSAGE_YESTERDAY = "Yesterday";\n            var _nowDate = new Date();\n            var _date = new Date(time);\n            if (_nowDate.getDate() - _date.getDate() == 1) {\n                return LAST_MESSAGE_YESTERDAY;\n            } else if (\n                _nowDate.getFullYear() == _date.getFullYear() &&\n                _nowDate.getMonth() == _date.getMonth() &&\n                _nowDate.getDate() == _date.getDate()\n            ) {\n                return (\n                    _checkTime(_date.getHours()) + ":" + _checkTime(_date.getMinutes())\n                );\n            } else {\n                return months[_date.getMonth()] + " " + _getDay(_date.getDate());\n            }\n        }\n        return "";\n    }\n\n    showWarningMsg(text) {\n        // Create snackbar for warnings\n        let windowDiv = document.getElementById("ch_frame");\n        let snackbarAttributes = [{"id":"ch_snackbar"}];\n        this.createElement("div", snackbarAttributes, null, windowDiv);\n\n        // Show size limit exceed message\n        let snackbar = document.getElementById("ch_snackbar");\n        snackbar.innerText = text;\n        setTimeout(function() {\n            snackbar.remove();\n        }, 3000);\n    }\n}\n\n\n// CONCATENATED MODULE: ./src/js/constants.js\nconst LANGUAGE_PHRASES = {\n\tCHAT : "Chat",\n\tCLOSE : "Close",\n\tONLINE : "Online",\n\tNO_CONV_FOUND : "No conversations found!",\n\tNO_MESSAGES_FOUND : "No messages found!",\n\tDELETED_MEMBER : "Deleted Member",\n\tMESSAGE_DELETED : "This message was deleted",\n\tLAST_SEEN : "Last Seen ",\n\tMUTE_CONV : "Mute Conversation",\n\tCLEAR_CONV : "Clear Conversation",\n\tDELETE_CONV : "Delete Conversation",\n\tBLOCK_USER : "Block User",\n\tUNBLOCK_USER : "Unblock User",\n\tSEND_MESSAGE : "Send a message",\n\tDELETE : "Delete",\n\tIMAGE : "Image",\n\tAUDIO : "Audio",\n\tVIDEO : "Video",\n\tLOCATION : "Location",\n\tSTICKER : "Sticker",\n\tGIF : "GIF",\n\tATTACHMENT : "Attachment",\n\tSEND_ATTACHMENTS : "Send Attachments",\n\tMEMBERS : "Members",\n\tFILE_SIZE_WARNING : "File size should be less then 25mb",\n\tSEARCH : "Search",\n\tSEARCH_MEMBERS : "Search Members",\n\tSUGGESTED : "Suggested",\n\tMORE_USERS : "More Users",\n\tLOGIN : "Login",\n\tLOGOUT : "Logout",\n\tNAME : "Name",\n\tSTART : "Start",\n\tLOGIN_WITH_TEST_USERS : "OR Login with Test users",\n\tENTER_NAME : "Please enter a name",\n\tUSER_EXIST : "User already exist with this username",\n\tDELETE_FOR_ME : "Delete for me",\n\tDELETE_FOR_EVERYONE : "Delete for everyone",\n\tGROUP_CREATED : "Group created",\n\tGROUP_PHOTO_CHANGED : "Group photo updated",\n\tGROUP_TITLE_CHANGED : "Group title updated",\n\tGROUP_MEMBER_ADDED : "New member added in group",\n\tGROUP_MEMBER_REMOVED : "One member removed from group",\n\tGROUP_ADMIN_UPDATED : "Group admin updated",\n\tCONVERSATION_NOT_FOUND : "Conversation not fond"\n}\n\nconst IMAGES = {\n\tLAUNCHER_ICON : "https://cdn.channelize.io/apps/web-widget/1.0.0/images/launcher-icon.svg",\n\tANNA_SMITH : "https://cdn.channelize.io/apps/web-widget/1.0.0/images/anna-smith.jpg",\n\tKATRINA_CHARLEY : "https://cdn.channelize.io/apps/web-widget/1.0.0/images/katrina-charley.png",\n\tNATALIE_IVANOVIC : "https://cdn.channelize.io/apps/web-widget/1.0.0/images/natalie-ivanovic.jpeg",\n\tERIC_ANDREWS : "https://cdn.channelize.io/apps/web-widget/1.0.0/images/eric-andrews.jpeg",\n\tGALLERY_ICON : "https:/cdn.channelize.io/apps/web-widget/1.0.0/images/gallery.png",\n\tAUDIO_ICON : "https://cdn.channelize.io/apps/web-widget/1.0.0/images/audio.png",\n\tVIDEO_ICON : "https://cdn.channelize.io/apps/web-widget/1.0.0/images/video.svg",\n\tLOCATION_ICON : "https://cdn.channelize.io/apps/web-widget/1.0.0/images/location.svg",\n\tSTICKER_ICON : "https://cdn.channelize.io/apps/web-widget/1.0.0/images/sticker.png",\n\tGIF_ICON : "https://cdn.channelize.io/apps/web-widget/1.0.0/images/gif.png",\n\tAVTAR : "https://cdn.channelize.io/apps/web-widget/1.0.0/images/avtar.png",\n\tGROUP : "https://cdn.channelize.io/apps/web-widget/1.0.0/images/group.png",\n\tMESSAGE_LOADER : "https://cdn.channelize.io/apps/web-widget/1.0.0/images/image-loader.gif"\n}\n\nconst SETTINGS = {\n\tLOCATION_API_KEY : "AIzaSyBzrL8FaUvmYPIxEUd_VTPpqcACtPdniik",\n\tLOCATION_IMG_URL : "https://maps.googleapis.com/maps/api/staticmap"\n}\n// CONCATENATED MODULE: ./src/js/components/conversation-window.js\n\n\n\nclass conversation_window_ConversationWindow {\n\n\tconstructor(widget) {\n\t\t// Initialize dependencies\n\t\tthis.chAdapter = widget.chAdapter;\n\t\tthis.widget = widget;\n\t\tthis.utility = new Utility();\n\n\t\tthis.loadCount = 0;\n\t\tthis.limit = 25;\n\t\tthis.skip = 0;\n\t\tthis.messages = [];\n\t}\n\n\tinit(conversation = null, data = null) {\n\t\tif(!conversation && data) {\n\t\t\tthis._createDummyConversation(data);\n\t\t\treturn;\n\t\t}\n\n\t\tthis.conversation = this.modifyConversation(conversation);\n\t\tthis._openConversationWindow(this.conversation, true);\n\t\tthis._registerClickEventHandlers();\n\t\tthis._markAsRead(this.conversation);\n\t}\n\n\t_createDummyConversation(member) {\n\t\tlet dummyObject = {\n\t\t\tuserId: member.id,\n\t\t\tprofileImageUrl: member.profileImageUrl ? member.profileImageUrl : IMAGES.AVTAR,\n\t\t\ttitle: member.displayName,\n\t\t\tisGroup: false,\n\t\t\tisDummyObject: true\n\t\t}\n\n\t\tif(member.isOnline)\n\t\t\tdummyObject.status = "online";\n\t\telse if(!member.isOnline && member.lastSeen)\n\t\t\tdummyObject.status = LANGUAGE_PHRASES.LAST_SEEN + this.utility.updateTimeFormat(member.lastSeen);\n\n\t\tthis.conversation = dummyObject;\n\t\tthis._openConversationWindow(this.conversation, false);\n\t\tthis._registerClickEventHandlers();\n\t}\n\n\t_openConversationWindow(conversation, loadMessages) {\n\t\t// Create Window frame\n\t\tlet chFrame = document.getElementById("ch_frame");\n\t\tlet windowAttributes = [{"id":"ch_conv_window"},{"class":"ch-conv-window"}];\n\t\tvar windowDiv = this.utility.createElement("div", windowAttributes, null, chFrame);\n\n\t\t// Create header\n\t\tlet headerAttributes = [{"class":"ch-header"}];\n\t\tlet header = this.utility.createElement("div", headerAttributes, null, windowDiv);\n\n\t\t// Create conversation images div\n\t\tlet imgAttributes = [{"class":"ch-conversation-image"}];\n\t\tlet memberImg = this.utility.createElement("div", imgAttributes, null, header);\n\t\tmemberImg.style.backgroundImage = "url(" + conversation.profileImageUrl + ")";\n\n\t\t// Create conversation details wrapper\n\t\tlet detailsAttributes = [{"class":"ch-conv-details-wrapper"}];\n\t\tlet detailsWrapper = this.utility.createElement("div", detailsAttributes, null, header);\n\n\t\t// Create conversation header title\n\t\tlet titleAttributes = [{"class":"ch-conv-title"}];\n\t\tthis.utility.createElement("div", titleAttributes, conversation.title, detailsWrapper);\n\n\t\t// Create option button\n\t\tlet optionAttributes = [{"id":"ch_conv_options"}];\n\t\tlet optionBtn = this.utility.createElement("i", optionAttributes, "keyboard_arrow_down", detailsWrapper);\n\t\toptionBtn.classList.add("material-icons", "ch-conv-options");\n\n\t\t// Create status div\n\t\tlet statusAttributes = [{"id":"ch_conv_status"},{"class":"ch-conv-status"}];\n\t\tlet status =this.utility.createElement("div", statusAttributes, conversation.status, detailsWrapper);\n\n\t\t// Create drop down\n\t\tlet dropDownAttributes = [{"id":"ch_conv_drop_down"},{"class":"ch-conv-drop-down"}];\n\t\tlet dropDown = this.utility.createElement("div", dropDownAttributes, null, header);\n\n\t\t// Create clear option\n\t\tlet clearOptionAttributes = [{"id":"ch_conv_clear"},{"class":"ch-conv-clear"}];\n\t\tthis.utility.createElement("div", clearOptionAttributes, LANGUAGE_PHRASES.CLEAR_CONV, dropDown);\n\n\t\t// Create delete option\n\t\tlet deleteOptionAttributes = [{"id":"ch_conv_delete"},{"class":"ch-conv-delete"}];\n\t\tthis.utility.createElement("div", deleteOptionAttributes, LANGUAGE_PHRASES.DELETE_CONV, dropDown);\n\n\t\t// Create block user option\n\t\tlet blockOptionAttributes = [{"id":"ch_conv_block"}];\n\t\tlet blockOption = this.utility.createElement("div", blockOptionAttributes, LANGUAGE_PHRASES.BLOCK_USER, dropDown);\n\t\tblockOption.style.display = "none";\n\n\t\t// Create unblock user option\n\t\tlet unblockOptionAttributes = [{"id":"ch_conv_unblock"}];\n\t\tlet unblockOption = this.utility.createElement("div", unblockOptionAttributes, LANGUAGE_PHRASES.UNBLOCK_USER, dropDown);\n\t\tunblockOption.style.display = "none";\n\n\t\tif(!conversation.isGroup) {\n\t\t\tif(conversation.blockedByUser) \n\t\t\t\tunblockOption.style.display = "block";\n\t\t\telse\n\t\t\t\tblockOption.style.display = "block";\n\t\t}\n\n\t\t// Create conversation close button\n\t\tlet closeBtnAttributes = [{"id":"ch_conv_close_btn"},{"title":LANGUAGE_PHRASES.CLOSE}];\n\t\tlet closeBtn = this.utility.createElement("i", closeBtnAttributes, "close", header);\n\t\tcloseBtn.classList.add("material-icons", "ch-close-btn");\n\n\t\t// Create message box\n\t\tlet msgsBoxAttributes = [{"id":"ch_messages_box"},{"class":"ch-messages-box"}];\n\t\tlet messagesBox = this.utility.createElement("div", msgsBoxAttributes, null, windowDiv);\n\n\t\tif(loadMessages) {\n\t\t\t// Create loader container\n\t\t\tlet loaderContainerAttributes = [{"id":"ch_conv_loader_container"},{"class":"ch-loader-bg"}];\n\t\t\tlet loaderContainer = this.utility.createElement("div", loaderContainerAttributes, null, messagesBox);\n\t\t\tloaderContainer.style.display = "block";\n\n\t\t\t// Create loader\n\t\t\tlet loaderAttributes = [{"id":"ch_conv_loader"},{"class":"ch-loader"}];\n\t\t\tlet loader = this.utility.createElement("div", loaderAttributes, null, loaderContainer);\n\t\t}\n\t\telse {\n\t\t\t// Create no message div\n\t\t\tlet noMessageDivAttributes = [{"id":"ch_no_msg"},{"class":"ch-no-msg"}];\n\t\t\tthis.utility.createElement("div", noMessageDivAttributes, LANGUAGE_PHRASES.NO_MESSAGES_FOUND, messagesBox);\n\t\t}\n\n\t\t// Create send message div\n\t\tlet sendBoxAttributes = [{"id":"ch_send_box"},{"class":"ch-send-box"}];\n\t\tlet sendBox = this.utility.createElement("div", sendBoxAttributes, null, windowDiv);\n\n\t\t// Create input box\n\t\tlet inputBoxAttributes = [{"id":"ch_input_box"},{"class":"ch-input-box"}, {"type":"text"}, {"placeholder":LANGUAGE_PHRASES.SEND_MESSAGE}];\n\t\tthis.utility.createElement("textarea", inputBoxAttributes, null, sendBox);\n\n\t\t// Create media messages docker\n\t\tlet mediaDockerAttributes = [{"id":"ch_media_docker"},{"class":"ch-media-docker"}];\n\t\tlet mediaDocker = this.utility.createElement("div", mediaDockerAttributes, null, sendBox);\n\n\t\t// Create image messages option\n\t\tlet imageOptionAttributes = [{"id":"ch_image_option"},{"class":"ch-image-option"}];\n\t\tlet imageOption = this.utility.createElement("div", imageOptionAttributes, null, mediaDocker);\n\n\t\t// Create option icon span\n\t\tlet imageIconSpanAttributes = [{"id":"ch_image_icon_span"},{"class":"ch-image-icon-span"}];\n\t\tlet imageIconSpan = this.utility.createElement("span", imageIconSpanAttributes, null, imageOption);\n\n\t\t// Create image messages option icon\n\t\tlet imageIconAttributes = [{"id":"ch_image_option_icon"},{"class":"ch-image-option-icon"},{"src":IMAGES.GALLERY_ICON}];\n\t\tthis.utility.createElement("img", imageIconAttributes, null, imageIconSpan);\n\n\t\t// Create input for image\n\t\tlet imageInputAttributes = [{"id":"ch_image_input"},{"class":"ch-image-input"},{"type":"file"},{"accept":"image/*"}];\n\t\tthis.utility.createElement("input", imageInputAttributes, null, imageOption);\n\n\t\t// Create option name span for image\n\t\tlet imageNameAttributes = [{"id":"ch_image_option_name"},{"class":"ch-image-option-name"}];\n\t\tthis.utility.createElement("span", imageNameAttributes, LANGUAGE_PHRASES.IMAGE, imageOption);\n\n\t\t// Create audio messages option\n\t\tlet audioOptionAttributes = [{"id":"ch_audio_option"},{"class":"ch-audio-option"}];\n\t\tlet audioOption = this.utility.createElement("div", audioOptionAttributes, null, mediaDocker);\n\n\t\t// Create option icon span\n\t\tlet audioIconSpanAttributes = [{"id":"ch_audio_icon_span"},{"class":"ch-audio-icon-span"}];\n\t\tlet audioIconSpan = this.utility.createElement("span", audioIconSpanAttributes, null, audioOption);\n\n\t\t// Create audio messages option icon\n\t\tlet audioIconAttributes = [{"id":"ch_audio_option_icon"},{"class":"ch-audio-option-icon"},{"src":IMAGES.AUDIO_ICON}];\n\t\tthis.utility.createElement("img", audioIconAttributes, null, audioIconSpan);\n\n\t\t// Create input for audio\n\t\tlet audioInputAttributes = [{"id":"ch_audio_input"},{"class":"ch-audio-input"},{"type":"file"},{"accept":"audio/*"}];\n\t\tthis.utility.createElement("input", audioInputAttributes, null, audioOption);\n\n\t\t// Create option name span for audio\n\t\tlet audioNameAttributes = [{"id":"ch_audio_option_name"},{"class":"ch-audio-option-name"}];\n\t\tthis.utility.createElement("span", audioNameAttributes, LANGUAGE_PHRASES.AUDIO, audioOption);\n\n\t\t// Create video messages option\n\t\tlet videoOptionAttributes = [{"id":"ch_video_option"},{"class":"ch-video-option"}];\n\t\tlet videoOption = this.utility.createElement("div", videoOptionAttributes, null, mediaDocker);\n\n\t\t// Create option icon span\n\t\tlet videoIconSpanAttributes = [{"id":"ch_video_icon_span"},{"class":"ch-video-icon-span"}];\n\t\tlet videoIconSpan = this.utility.createElement("span", videoIconSpanAttributes, null, videoOption);\n\n\t\t// Create video messages option icon\n\t\tlet videoIconAttributes = [{"id":"ch_video_option_icon"},{"class":"ch-video-option-icon"},{"src":IMAGES.VIDEO_ICON}];\n\t\tthis.utility.createElement("img", videoIconAttributes, null, videoIconSpan);\n\n\t\t// Create input for video\n\t\tlet videoInputAttributes = [{"id":"ch_video_input"},{"class":"ch-video-input"},{"type":"file"},{"accept":"video/*"}];\n\t\tthis.utility.createElement("input", videoInputAttributes, null, videoOption);\n\n\t\t// Create option name span for video\n\t\tlet videoNameAttributes = [{"id":"ch_video_option_name"},{"class":"ch-video-option-name"}];\n\t\tthis.utility.createElement("span", videoNameAttributes, LANGUAGE_PHRASES.VIDEO, videoOption);\n\n\t\t// Create attachment button\n\t\tlet attachmentAttributes = [{"id":"ch_attachment_btn"},{"title":LANGUAGE_PHRASES.SEND_ATTACHMENTS}];\n\t\tlet attachment = this.utility.createElement("i", attachmentAttributes, "attachment", sendBox);\n\t\tattachment.classList.add("material-icons", "ch-attachment-btn");\n\n\t\t// Create send button\n\t\tlet sendButtonAttributes = [{"id":"ch_send_button"},{"class":"ch-send-button"}];\n\t\tlet sendButton = this.utility.createElement("button", sendButtonAttributes, null, sendBox);\n\n\t\t// Create send icon\n\t\tlet sendIconAttributes = [{"class":"ch-send-icon"}];\n\t\tlet sendIcon = this.utility.createElement("i", sendIconAttributes, "send", sendButton);\n\t\tsendIcon.classList.add("material-icons");\n\n\t\t// Hide send message box and status is blocked user\n\t\tif(conversation.blockedByUser || conversation.blockedByMember) {\n\t\t\tstatus.style.visibility = "hidden";\n\t\t\tsendBox.style.visibility = "hidden";\n\t\t}\n\n\t\tif(loadMessages)\n\t\t\tthis._createMessagesListing(conversation);\n\t}\n\n\t_createMessagesListing(conversation) {\n\t\t// Get conversation messages\n\t\tthis._getMessages(conversation, this.limit, this.skip, null, null, null, null, (err, messages) => {\n\t\t\tif(err) return console.error(err);\n\n\t\t\tthis.messages = messages;\n\t\t\t// Hide loader\n\t\t\tif(document.getElementById("ch_conv_loader_container"))\n\t\t\t\tdocument.getElementById("ch_conv_loader_container").remove();\n\n\t\t\tlet messagesBox = document.getElementById("ch_messages_box");\n\t\t\tif(!messages.length) {\n\t\t\t\t// Create no message div\n\t\t\t\tlet noMessageDivAttributes = [{"id":"ch_no_msg"},{"class":"ch-no-msg"}];\n\t\t\t\tthis.utility.createElement("div", noMessageDivAttributes, LANGUAGE_PHRASES.NO_MESSAGES_FOUND, messagesBox);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.messages.forEach(message => {\n\t\t\t\t// Update message object\n\t\t\t\tmessage = this._modifyMessage(message);\n\n\t\t\t\tif(message.type == "admin") {\n\t\t\t\t\tlet metaMessageAttributes = [{"class":"ch-admin-msg"}];\n\t\t\t\t\tthis.utility.createElement("div", metaMessageAttributes, message.body, messagesBox);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Create message list\n\t\t\t\tlet msgListAttributes = [{"id":message.id},{"class":"ch-msg-list"}];\n\t\t\t\tlet msgList = this.utility.createElement("div", msgListAttributes, null, messagesBox);\n\n\t\t\t\t// Create sender name div\n\t\t\t\tif(conversation.isGroup && message.ownerId != this.widget.userId) {\n\t\t\t\t\tlet senderAttributes = [{"class":"ch-sender-name"}];\n\t\t\t\t\tthis.utility.createElement("div", senderAttributes, message.owner.displayName, msgList);\n\t\t\t\t}\n\n\t\t\t\t// Create message container\n\t\t\t\tlet msgContainerAttributes = [{"class":"ch-msg-container"}];\n\t\t\t\tlet msgContainer = this.utility.createElement("div", msgContainerAttributes, null, msgList);\n\n\t\t\t\t// Create message more options\n\t\t\t\tlet moreOptionAttributes = [{"class":"ch-msg-more-option"}];\n\t\t\t\tlet moreOption = this.utility.createElement("i", moreOptionAttributes, "more_vert", msgList);\n\t\t\t\tmoreOption.classList.add("material-icons");\n\t\t\t\tthis._addListenerOnMoreOption(message, moreOption, msgList);\n\n\t\t\t\t// Create message div\n\t\t\t\tlet msgDivAttributes = [{"id":"ch_message_"+message.id},{"class":"ch-message"}];\n\t\t\t\tlet msgDiv = this.utility.createElement("div", msgDivAttributes, message.body, msgContainer);\n\n\t\t\t\t// Create media message frame\n\t\t\t\tthis._createMediaMessageFrame(message, msgDiv);\n\n\t\t\t\t// Create message time span\n\t\t\t\tlet msgTimeAttributes = [{"id":"ch_msg_time"},{"class":"ch-msg-time"}];\n\t\t\t\tlet msgTime = this.utility.createElement("span", msgTimeAttributes, message.createdAt, msgContainer);\n\n\t\t\t\tif(message.ownerId == this.widget.userId) {\n\t\t\t\t\tmsgContainer.classList.add("right");\n\t\t\t\t\tmoreOption.classList.add("left");\n\t\t\t\t\t// Create message read status\n\t\t\t\t\tlet statusAttributes = [{"id":"ch_msg_status"}];\n\t\t\t\t\tlet readIcon = message.readByAll ? "done_all" : "check";\n\t\t\t\t\tlet msgStatus = this.utility.createElement("i", statusAttributes, readIcon, msgContainer);\n\t\t\t\t\tmsgStatus.classList.add("material-icons", "ch-msg-status");\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tmsgContainer.classList.add("left");\n\t\t\t\t\tmoreOption.classList.add("right");\n\t\t\t\t}\n\t\t\t});\n\t\t\tmessagesBox.scrollTop = messagesBox.scrollHeight;\n\t\t});\n\t}\n\n\tmodifyConversation(conversation) {\n\n\t\tif(!conversation || conversation.isModified)\n\t\t\treturn conversation;\n\n\t\tif (!conversation.isGroup && conversation.user && Object.entries(conversation.user).length === 0) {\n\t\t\tconversation.title = LANGUAGE_PHRASES.DELETED_MEMBER;\n\t\t\tconversation.profileImageUrl = IMAGES.AVTAR;\n\t\t\treturn conversation;\n    \t}\n\n\t    // Set profile Image, title and status of conversation\n\t\tif(conversation.isGroup) {\n\t\t\tconversation.profileImageUrl = conversation.profileImageUrl ? conversation.profileImageUrl : IMAGES.GROUP;\n\t\t\tconversation.status = conversation.memberCount + " " + LANGUAGE_PHRASES.MEMBERS;\n\t\t}\n\t\telse {\n\t\t\tconversation.profileImageUrl = conversation.user.profileImageUrl ? conversation.user.profileImageUrl : IMAGES.AVTAR;\n\t\t\tconversation.title = conversation.user.displayName;\n\n\t\t\t// Set block user status\n\t\t\tlet member = conversation.members.find(member => member.userId == conversation.user.id);\n\t\t\tconversation.blockedByMember = member ? false : true;\n\n\t\t\tif(!conversation.isActive) {\n\t\t\t\tconversation.blockedByUser = true;\n\t\t\t}\n\n\t\t\tif(conversation.user.isOnline) {\n\t\t\t\tconversation.status = LANGUAGE_PHRASES.ONLINE;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tconversation.status = LANGUAGE_PHRASES.LAST_SEEN + this.utility.updateTimeFormat(member.user.lastSeen);\n\t\t\t}\n\t\t}\n\t\treturn conversation;\n\t}\n\n\t_loadMoreMessages() {\n\t\t++this.loadCount;\n\t\tthis.skip = this.loadCount * this.limit;\n\t\tthis._getMessages(this.conversation, this.limit, this.skip, null, null, null, null, (err, messages) => {\n\t\t\tif(err) return console.error(err);\n\n\t\t\tif(!messages && messages[0].conversationId != this.conversation.id)\n\t\t\t\treturn;\n\n\t\t\tthis.messages = this.messages.concat(messages);\n\n\t\t\t// Save first message to scroll\n\t\t\tlet messagesBox = document.getElementById("ch_messages_box");\n\t\t\tlet firstMessage = messagesBox.childNodes[0];\n\n\t\t\tmessages.forEach(message => {\n\n\t\t\t\t// Update message object\n\t\t\t\tmessage = this._modifyMessage(message);\n\n\t\t\t\tif(message.type == "admin") {\n\t\t\t\t\tlet metaMessageAttributes = [{"class":"ch-admin-msg"}];\n\t\t\t\t\tthis.utility.createElement("div", metaMessageAttributes, message.body, messagesBox);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Create message list\n\t\t\t\tlet msgListAttributes = [{"id":message.id},{"class":"ch-msg-list"}];\n\t\t\t\tlet msgList = this.utility.createElement("div", msgListAttributes, null, null);\n\n\t\t\t\t// Create message container\n\t\t\t\tlet msgContainerAttributes = [{"class":"ch-msg-container"}];\n\t\t\t\tlet msgContainer = this.utility.createElement("div", msgContainerAttributes, null, msgList);\n\n\t\t\t\t// Create message more options\n\t\t\t\tlet moreOptionAttributes = [{"class":"ch-msg-more-option"}];\n\t\t\t\tlet moreOption = this.utility.createElement("i", moreOptionAttributes, "more_vert", msgList);\n\t\t\t\tmoreOption.classList.add("material-icons");\n\t\t\t\tthis._addListenerOnMoreOption(message, moreOption, msgList);\n\n\t\t\t\t// Create message div\n\t\t\t\tlet msgDivAttributes = [{"id":"ch_message_"+message.id},{"class":"ch-message"}];\n\t\t\t\tlet msgDiv = this.utility.createElement("div", msgDivAttributes, message.body, msgContainer);\n\n\t\t\t\t// Create media message frame\n\t\t\t\tthis._createMediaMessageFrame(message, msgDiv);\n\n\t\t\t\t// Create message time span\n\t\t\t\tlet msgTimeAttributes = [{"id":"ch_msg_time"},{"class":"ch-msg-time"}];\n\t\t\t\tlet msgTime = this.utility.createElement("span", msgTimeAttributes, message.createdAt, msgContainer);\n\n\t\t\t\tif(message.ownerId == this.widget.userId) {\n\t\t\t\t\tmsgContainer.classList.add("right");\n\t\t\t\t\tmoreOption.classList.add("left");\n\t\t\t\t\t// Create message read status\n\t\t\t\t\tlet statusAttributes = [{"id":"ch_msg_status"}];\n\t\t\t\t\tlet readIcon = message.readByAll ? "done_all" : "check";\n\t\t\t\t\tlet msgStatus = this.utility.createElement("i", statusAttributes, readIcon, msgContainer);\n\t\t\t\t\tmsgStatus.classList.add("material-icons", "ch-msg-status");\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tmsgContainer.classList.add("left");\n\t\t\t\t\tmoreOption.classList.add("right");\n\t\t\t\t}\n\n\t\t\t\tmessagesBox.insertBefore(msgList, messagesBox.childNodes[0]);\n\t\t\t});\n\t\t\tif(firstMessage) {\n\t\t\t\tfirstMessage.scrollIntoView();\n\t\t\t}\n\t\t});\n\t}\n\n\t_registerClickEventHandlers() {\n\t\t// Close conversation button listener\n\t\tlet closeBtn = document.getElementById("ch_conv_close_btn");\n\t\tcloseBtn.addEventListener("click", (data) => {\n\t\t\tdocument.getElementById("ch_conv_window").remove();\n\t\t\tthis.widget.convWindows.pop();\n\t\t});\n\n\t\t// Conversation option button listener\n\t\tlet optionBtn = document.getElementById("ch_conv_options");\n\t\toptionBtn.addEventListener("click", (data) => {\n\t\t\tdocument.getElementById("ch_conv_drop_down").classList.toggle("ch-show-element");\n\t\t});\n\n\t\t// Conversation clear button listener\n\t\tlet clearBtn = document.getElementById("ch_conv_clear");\n\t\tclearBtn.addEventListener("click", (data) => {\n\t\t\tdocument.getElementById("ch_conv_drop_down").classList.toggle("ch-show-element");\n\t\t\tthis.clearConversation();\n\t\t});\n\n\t\t// Conversation delete button listener\n\t\tlet deleteBtn = document.getElementById("ch_conv_delete");\n\t\tdeleteBtn.addEventListener("click", (data) => {\n\t\t\tdocument.getElementById("ch_conv_drop_down").classList.toggle("ch-show-element");\n\t\t\tthis.deleteConversation();\n\t\t});\n\n\t\t// Member block  button listener\n\t\tlet blockBtn = document.getElementById("ch_conv_block");\n\t\tif(blockBtn) {\n\t\t\tblockBtn.addEventListener("click", (data) => {\n\t\t\t\tdocument.getElementById("ch_conv_drop_down").classList.toggle("ch-show-element");\n\t\t\t\tthis.chAdapter.blockMember(this.conversation.user.id, (err, res) => {\n\t\t\t\t\tif(err) return console.error(err);\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\t// Member unblock button listener\n\t\tlet unblockBtn = document.getElementById("ch_conv_unblock");\n\t\tif(unblockBtn) {\n\t\t\tunblockBtn.addEventListener("click", (data) => {\n\t\t\t\tdocument.getElementById("ch_conv_drop_down").classList.toggle("ch-show-element");\n\t\t\t\tthis.chAdapter.unblockMember(this.conversation.user.id, (err, res) => {\n\t\t\t\t\tif(err) return console.error(err);\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\t// Send message on Enter press\n\t\tlet input = document.getElementById("ch_input_box");\n\t\tinput.addEventListener("keydown", (data) => {\n\t\t\tif(data.keyCode === 13) {\n\t\t\t\tdata.preventDefault();\n\t\t\t\tthis.sendMessage("text");\n\t\t\t}\n\t\t});\n\n\t\t// Send button listener\n\t\tlet sendButton = document.getElementById("ch_send_button");\n\t\tsendButton.addEventListener("click", (data) => {\n\t\t\tthis.sendMessage("text");\n\t\t});\n\n\t\t// Scroll message box listener\n\t\tlet msgBox = document.getElementById("ch_messages_box");\n\t\tmsgBox.addEventListener("scroll", (data) => {\n\t\t\tif(msgBox.scrollTop == 0)\n\t\t\t\tthis._loadMoreMessages();\n\t\t});\n\n\t\t// Attachment button listener\n\t\tlet attachmentBtn = document.getElementById("ch_attachment_btn");\n\t\tattachmentBtn.addEventListener("click", (data) => {\n\t\t\tdocument.getElementById("ch_media_docker").classList.toggle("ch-show-docker");\n\t\t});\n\n\t\t// Send message on image choose\n\t\tlet imageInput = document.getElementById("ch_image_input");\n\t\timageInput.addEventListener("change", (data) => {\n\t\t\tif(data.target.files[0].size > 25000000) {\n\t\t\t\tthis.utility.showWarningMsg(LANGUAGE_PHRASES.FILE_SIZE_WARNING);\n\t\t\t\tdocument.getElementById("ch_media_docker").classList.remove("ch-show-docker");\n\t\t\t}\n\t\t\telse\n\t\t\t\tthis.sendMessage("image");\n\t\t});\n\n\t\t// Send message on audio choose\n\t\tlet audioInput = document.getElementById("ch_audio_input");\n\t\taudioInput.addEventListener("change", (data) => {\n\t\t\tif(data.target.files[0].size > 25000000) {\n\t\t\t\tthis.utility.showWarningMsg(LANGUAGE_PHRASES.FILE_SIZE_WARNING);\n\t\t\t\tdocument.getElementById("ch_media_docker").classList.remove("ch-show-docker");\n\t\t\t}\n\t\t\telse\n\t\t\t\tthis.sendMessage("audio");\n\t\t});\n\n\t\t// Send message on video choose\n\t\tlet videoInput = document.getElementById("ch_video_input");\n\t\tvideoInput.addEventListener("change", (data) => {\n\t\t\tif(data.target.files[0].size > 25000000) {\n\t\t\t\tthis.utility.showWarningMsg(LANGUAGE_PHRASES.FILE_SIZE_WARNING);\n\t\t\t\tdocument.getElementById("ch_media_docker").classList.remove("ch-show-docker");\n\t\t\t}\n\t\t\telse\n\t\t\t\tthis.sendMessage("video");\n\t\t});\n\t}\n\n\tsendMessage(msgType) {\n\t\t// Hide file picker\n\t\tdocument.getElementById("ch_media_docker").classList.remove("ch-show-docker");\n\n\t\t// Show loader image if media message\n\t\tif(msgType != "text") {\n\t\t\tif(document.getElementById("ch_no_msg"))\n\t\t\t\tdocument.getElementById("ch_no_msg").remove();\n\n\t\t\tlet messagesBox = document.getElementById("ch_messages_box");\n\t\t\tlet msgLoaderAttributes = [{"id":"ch_msg_loader"},{"class":"ch-msg-loader"}];\n\t\t\tlet imageMsg = this.utility.createElement("div", msgLoaderAttributes, null, messagesBox);\n\t\t\timageMsg.style.backgroundImage = "url(" + IMAGES.MESSAGE_LOADER + ")";\n\t\t\timageMsg.scrollIntoView();\n\t\t}\n\n\t\tif(msgType == "text") {\n\t\t\tlet inputValue = document.getElementById("ch_input_box").value;\n\t\t\tdocument.getElementById("ch_input_box").value = "";\n\n\t\t\tif(!inputValue.trim())\n\t\t\t\treturn;\n\n\t\t\tif(this.conversation.isDummyObject) {\n\t\t\t\tlet data = {\n\t\t\t\t\ttype : "normal",\n\t\t\t\t\tuserId : this.conversation.userId,\n\t\t\t\t\tbody : inputValue\n\t\t\t\t}\n\n\t\t\t\tthis.chAdapter.sendMessageToUser(data, (err, res) => {\n\t\t\t\t\tif(err) return console.error(err);\n\t\t\t\t});\n\t\t\t}\n\t\t\telse {\n\t\t\t\tlet data = {\n\t\t\t\t\ttype : "normal",\n\t\t\t\t\tbody : inputValue\n\t\t\t\t}\n\n\t\t\t\tthis.chAdapter.sendMessage(this.conversation, data, (err, res) => {\n\t\t\t\t\tif(err) return console.error(err);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\telse if(msgType == "image") {\n\t\t\tlet file = document.getElementById("ch_image_input").files[0];\n\n\t\t\t// Upload file on channelize server\n\t\t\tthis.chAdapter.uploadFile(file, true, (err, fileData) => {\n\t\t\t\tif(err) return console.error(err);\n\n\t\t\t\tthis._sendFileMessage(fileData);\n\t\t\t});\n\t\t}\n\t\telse if(msgType == "audio") {\n\t\t\tlet file = document.getElementById("ch_audio_input").files[0];\n\n\t\t\t// Upload file on channelize server\n\t\t\tthis.chAdapter.uploadFile(file, true, (err, fileData) => {\n\t\t\t\tif(err) return console.error(err);\n\n\t\t\t\tthis._sendFileMessage(fileData);\n\t\t\t});\n\t\t}\n\t\telse if(msgType == "video") {\n\t\t\tlet file = document.getElementById("ch_video_input").files[0];\n\t\t\t// Upload file on channelize server\n\t\t\tthis.chAdapter.uploadFile(file, true, (err, fileData) => {\n\t\t\t\tif(err) return console.error(err);\n\n\t\t\t\tthis._sendFileMessage(fileData);\n\t\t\t});\n\t\t}\n\t}\n\n\t_sendFileMessage(fileData) {\n\t\tfileData.type = fileData.attachmentType;\n\n\t\tlet data = {\n\t\t\ttype : "normal",\n\t\t\tattachments : [fileData]\n\t\t}\n\n\t\t// Send file message as attachment\n\t\tif(this.conversation.isDummyObject) {\n\t\t\tdata[\'userId\'] = this.conversation.userId;\n\t\t\tthis.chAdapter.sendMessageToUser(data, (err, message) => {\n\t\t\t\tif(err) return console.error(err);\n\t\t\t});\n\t\t}\n\t\telse {\n\t\t\tthis.chAdapter.sendMessage(this.conversation, data, (err, message) => {\n\t\t\t\tif(err) return console.error(err);\n\t\t\t});\n\t\t}\n\t}\n\n\tclearConversation() {\n\t\tthis.chAdapter.clearConversation(this.conversation, (err, res) => {\n\t\t\tif(err) return console.error(err);\n\t\t});\n\t}\n\n\tdeleteConversation() {\n\t\tthis.chAdapter.deleteConversation(this.conversation, (err, res) => {\n\t\t\tif(err) return console.error(err);\n\t\t});\n\t}\n\n\t_getMessages(conversation, limit, skip, ids, types, attachmentTypes, ownerIds, cb) {\n\t\tthis.chAdapter.getMessages(conversation, limit, skip,  ids, types, attachmentTypes, ownerIds, (err, messages) => {\n\t\t\tif(err) return cb(err);\n\n\t\t\tmessages.reverse();\n\t\t\treturn cb(null, messages);\n\t\t});\n\t}\n\n\t_modifyMessage(message) {\n\t\tif(!message)\n\t\t\treturn message;\n\n\t\t// Handle meta message\n\t\tif(message.type == "admin") {\n\n\t\t\t// adminMessageType\n\t\t\tswitch(message.body) {\n\t\t\t\tcase "admin_group_create" :\n\t\t\t\t\tmessage.body = LANGUAGE_PHRASES.GROUP_CREATED;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase "admin_group_change_photo" :\n\t\t\t\t\tmessage.body = LANGUAGE_PHRASES.GROUP_PHOTO_CHANGED;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase "admin_group_change_title" :\n\t\t\t\t\tmessage.body = LANGUAGE_PHRASES.GROUP_TITLE_CHANGED;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase "admin_group_add_members" :\n\t\t\t\t\tmessage.body = LANGUAGE_PHRASES.GROUP_MEMBER_ADDED;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase "admin_group_remove_members" :\n\t\t\t\t\tmessage.body = LANGUAGE_PHRASES.GROUP_MEMBER_REMOVED;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase "admin_group_make_admin" :\n\t\t\t\t\tmessage.body = LANGUAGE_PHRASES.GROUP_ADMIN_UPDATED;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\treturn message;\n\t\t}\n\n\t\t// Set read status of message\n\t\tif(!this.conversation.isDummyObject) {\n\t\t\tmessage.readByAll = this.chAdapter.readByAllMembers(this.conversation, message);\n\t\t}\n\n\t    message.createdAt = this.utility.updateTimeFormat(message.createdAt);\n\n\t    if(message.isDeleted) {\n\t    \tmessage.body = "<i>" + LANGUAGE_PHRASES.MESSAGE_DELETED;\n\t    }\n\n\t    return message;\n\t}\n\n\t_markAsRead(conversation) {\n\t\tlet currentDate = new Date();\n\t\tlet timestamp = currentDate.toISOString();\n\t  \tthis.chAdapter.markAsReadConversation(conversation, timestamp, (err, res) => {\n\t  \t\tif(err) return console.error(err);\n\t  \t});\n\t}\n\n\taddNewMessage(message) {\n\t\tmessage = this._modifyMessage(message);\n\t\tthis.messages.push(message);\n\n\t\tlet messagesBox = document.getElementById("ch_messages_box");\n\t\tif(message.type == "admin") {\n\t\t\tlet metaMessageAttributes = [{"class":"ch-admin-msg"}];\n\t\t\tthis.utility.createElement("div", metaMessageAttributes, message.body, messagesBox);\n\t\t\treturn;\n\t\t}\n\n\t\t// Hide message loader\n\t\tif(document.getElementById("ch_msg_loader") && message.ownerId == this.widget.userId) {\n\t\t\tdocument.getElementById("ch_msg_loader").remove();\n\t\t}\n\n\t\tif(message.conversationId != this.conversation.id || !messagesBox)\n\t\t\treturn;\n\n\t\tmessage.createdAt = this.utility.updateTimeFormat(Date());\n\n\t\t// Remove no message tag\n\t\tif(messagesBox.firstChild && messagesBox.firstChild.id == "ch_no_msg")\n\t\t\tmessagesBox.firstChild.remove();\n\n\t\t// Create message list\n\t\tlet msgListAttributes = [{"id":message.id},{"class":"ch-msg-list"}];\n\t\tlet msgList = this.utility.createElement("div", msgListAttributes, null, messagesBox);\n\n\t\t// Create message container\n\t\tlet msgContainerAttributes = [{"class":"ch-msg-container"}];\n\t\tlet msgContainer = this.utility.createElement("div", msgContainerAttributes, null, msgList);\n\n\t\t// Create message more options\n\t\tlet moreOptionAttributes = [{"class":"ch-msg-more-option"}];\n\t\tlet moreOption = this.utility.createElement("i", moreOptionAttributes, "more_vert", msgList);\n\t\tmoreOption.classList.add("material-icons");\n\t\tthis._addListenerOnMoreOption(message, moreOption, msgList);\n\n\t\t// Create message div\n\t\tlet msgDivAttributes = [{"id":"ch_message_"+message.id},{"class":"ch-message"}];\n\t\tlet msgDiv = this.utility.createElement("div", msgDivAttributes, message.body, msgContainer);\n\n\t\t// Create media message frame\n\t\tthis._createMediaMessageFrame(message, msgDiv);\n\n\t\t// Create message time span\n\t\tlet msgTimeAttributes = [{"id":"ch_msg_time"},{"class":"ch-msg-time"}];\n\t\tlet msgTime = this.utility.createElement("span", msgTimeAttributes, message.createdAt, msgContainer);\n\n\n\t\tif(message.ownerId == this.widget.userId) {\n\t\t\tmsgContainer.classList.add("right");\n\t\t\tmoreOption.classList.add("left");\n\t\t\t// Create message read status\n\t\t\tlet statusAttributes = [{"id":"ch_msg_status"}];\n\t\t\tlet readIcon = message.readByAll ? "done_all" : "check";\n\t\t\tlet msgStatus = this.utility.createElement("i", statusAttributes, readIcon, msgContainer);\n\t\t\tmsgStatus.classList.add("material-icons", "ch-msg-status");\n\t\t}\n\t\telse {\n\t\t\tmsgContainer.classList.add("left");\n\t\t\tmoreOption.classList.add("right");\n\n\t\t\t// Message mark a read\n\t\t\tthis._markAsRead(this.conversation);\n\t\t}\n\n\t\t// Scroll to new message\n\t\tif(messagesBox)\n\t\t\tmessagesBox.scrollTop = messagesBox.scrollHeight;\n\t}\n\n\tupdateMsgStatus(data) {\n\t\tif(data.conversation.id != this.conversation.id)\n\t\t\treturn;\n\n\t\tif(!this.conversation.isGroup) {\n\t\t\tif(this.messages[this.messages.length-2].readByAll) {\n\t\t\t\tlet lastMessage = this.messages[this.messages.length-1];\n\t\t\t\tlastMessage.readByAll = true;\n\n\t\t\t\t// Update read tag icon\n\t\t\t\tlet msgDiv = document.getElementById(lastMessage.id);\n\t\t\t\tif(msgDiv) {\n\t\t\t\t\tlet statusDiv = msgDiv.querySelector("#ch_msg_status");\n\n\t\t\t\t\tif(statusDiv) {\n\t\t\t\t\t\tstatusDiv.innerHTML = "done_all";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.messages.forEach(msg => {\n\t\t\t\t\tmsg.readByAll = true;\n\n\t\t\t\t\t// Update read tag icon\n\t\t\t\t\tlet msgDiv = document.getElementById(msg.id);\n\t\t\t\t\tif(msgDiv) {\n\t\t\t\t\t\tlet statusDiv = msgDiv.querySelector("#ch_msg_status");\n\n\t\t\t\t\t\tif(statusDiv) {\n\t\t\t\t\t\t\tstatusDiv.innerHTML = "done_all";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\tupdateUserStatus(user) {\n\t\tif(this.conversation.isGroup || !this.conversation.user || (this.conversation.user.id != user.id))\n\t\t\treturn;\n\n\t\tif(user.isOnline) {\n\t\t\tthis.conversation.status = LANGUAGE_PHRASES.ONLINE;\n\t\t}\n\t\telse if(!user.isOnline && user.lastSeen) {\n\t\t\tthis.conversation.status = LANGUAGE_PHRASES.LAST_SEEN + this.utility.updateTimeFormat(user.lastSeen);\n\t\t}\n\t\tdocument.getElementById("ch_conv_status").innerText = this.conversation.status;\n\t}\n\n\t_createMediaMessageFrame(message, parentDiv) {\n\n\t  \t// Create message div\n\t  \tif(!message.body && Object.keys(message.attachments).length != 0) {\n\t  \t\tmessage.attachments.forEach(attachment => {\n\n\t\t  \t\tif(attachment.type == "audio") {\n\t\t  \t\t\tlet audioMsgAttributes = [{"id":"ch_audio_message"},{"class":"ch-audio-message"},{"src":attachment.fileUrl}];\n\t\t\t\t\tlet audioTag = this.utility.createElement("audio", audioMsgAttributes, null, parentDiv);\n\t\t\t\t\taudioTag.setAttribute("controls",true);\n\t\t  \t\t}\n\t\t  \t\telse if(attachment.type == "video") {\n\t\t  \t\t\tlet videoMsgAttributes = [{"id":"ch_video_message"},{"class":"ch-video-message"}];\n\t\t\t\t\tlet videoMessage = this.utility.createElement("div", videoMsgAttributes, null, parentDiv);\n\t\t\t\t\tvideoMessage.style.backgroundImage = "url(" + attachment.thumbnailUrl + ")";\n\n\t\t\t\t\t// Create play icon\n\t\t\t\t\tlet playIconAttributes = [{"id":"ch_play_icon"}];\n\t\t\t\t\tlet playIcon = this.utility.createElement("i", playIconAttributes, "play_circle_outline", videoMessage);\n\t\t\t\t\tplayIcon.classList.add("material-icons", "ch-play-icon");\n\n\t\t\t\t\t// Set video message listener\n\t\t\t\t\tvideoMessage.addEventListener("click", data => {\n\t\t\t\t\t\twindow.open(attachment.fileUrl, "_blank");\n\t\t\t\t\t});\n\t\t  \t\t}\n\t\t  \t\telse if(attachment.type == "sticker") {\n\t\t  \t\t\tlet stickerMsgAttributes = [{"id":"ch_sticker_message"},{"class":"ch-sticker-message"}];\n\t\t\t\t\tlet stickerMsg = this.utility.createElement("div", stickerMsgAttributes, null, parentDiv);\n\t\t\t\t\tstickerMsg.style.backgroundImage = "url(" + attachment.originalUrl + ")";\n\t\t  \t\t}\n\t\t  \t\telse if(attachment.type == "gif") {\n\t\t  \t\t\tlet stickerMsgAttributes = [{"id":"ch_gif_message"},{"class":"ch-sticker-message"}];\n\t\t\t\t\tlet stickerMsg = this.utility.createElement("div", stickerMsgAttributes, null, parentDiv);\n\t\t\t\t\tstickerMsg.style.backgroundImage = "url(" + attachment.originalUrl + ")";\n\t\t  \t\t}\n\t\t  \t\telse if(attachment.type == "location") {\n\t\t  \t\t\tlet locationSrc = SETTINGS.LOCATION_IMG_URL + "?center=" +\n\t\t\t  \t\tattachment.latitude + "," + attachment.longitude + "&zoom=15&size=208x100&maptype=roadmap&markers=color:red%7C" +\n\t\t\t  \t\tattachment.latitude + "," + attachment.longitude + "&key=" + SETTINGS.LOCATION_API_KEY;\n\n\t\t\t  \t\tlet locationMsgAttributes = [{"id":"ch_location_message"},{"class":"ch-location-message"}];\n\t\t\t\t\tlet locationMsg = this.utility.createElement("div", locationMsgAttributes, null, parentDiv);\n\t\t\t\t\tlocationMsg.style.backgroundImage = "url(" + locationSrc + ")";\n\n\t\t\t\t\t// Set location message listener\n\t\t\t\t\tlocationMsg.addEventListener("click", data => {\n\t\t\t\t\t\tlet mapUrl = "https://www.google.com/maps?z=15&t=m&q=loc:"+attachment.latitude+","+attachment.longitude;\n\t\t\t\t\t\twindow.open(mapUrl, "_blank");\n\t\t\t\t\t});\n\t\t  \t\t}\n\t\t  \t\telse {\n\t\t  \t\t\tlet imageMsgAttributes = [{"id":"ch_image_message"},{"class":"ch-image-message"}];\n\t\t\t\t\tlet imageMsg = this.utility.createElement("div", imageMsgAttributes, null, parentDiv);\n\t\t\t\t\timageMsg.style.backgroundImage = "url(" + attachment.thumbnailUrl + ")";\n\n\t\t\t\t\t// Set image message listener\n\t\t\t\t\timageMsg.addEventListener("click", data => {\n\t\t\t\t\t\twindow.open(attachment.fileUrl, "_blank");\n\t\t\t\t\t});\n\t\t  \t\t}\n\t\t  \t});\n\t  \t}\n\t}\n\n\t_addListenerOnMoreOption(message, moreOption, msgList) {\n\t\tmoreOption.addEventListener("click", (data) => {\n\t\t\tif(document.getElementById("ch_msg_option_container")) {\n\t\t\t\tdocument.getElementById("ch_msg_option_container").remove();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Create message options container\n\t\t\tlet msgOptionsContainerAttributes = [{"id":"ch_msg_option_container"},{"class":"ch-msg-option-container"}];\n\t\t\tlet msgOptionsContainer = this.utility.createElement("div", msgOptionsContainerAttributes, null, msgList);\n\n\t\t\tif(message.ownerId == this.widget.userId)\n\t\t\t\tmsgOptionsContainer.style.left = "15px";\n\t\t\telse\n\t\t\t\tmsgOptionsContainer.style.right = "15px";\n\n\t\t\t// Create delete message for me option\n\t\t\tlet deleteMsgAttributes = [{"class":"ch-msg-delete-for-me"}];\n\t\t\tlet deleteMsgOption = this.utility.createElement("div", deleteMsgAttributes, LANGUAGE_PHRASES.DELETE_FOR_ME, msgOptionsContainer);\n\n\t\t\t// Add listener on delete message for me\n\t\t\tdeleteMsgOption.addEventListener("click", (data) => {\n\t\t\t\tmsgOptionsContainer.remove();\n\n\t\t\t\t// Delete message for me\n\t\t\t\tthis.chAdapter.deleteMessagesForMe([message.id], (err, res) => {\n\t\t\t\t\tif(err) console.error(err);\n\t\t\t\t})\n\t\t\t});\n\n\t\t\tif(!message.isDeleted && message.ownerId == this.widget.userId) {\n\t\t\t\t// Create delete message for everyone option\n\t\t\t\tlet deleteMsgEveryoneAttributes = [{"id":"ch_msg_delete_for_everyone"},{"class":"ch-msg-delete-for-everyone"}];\n\t\t\t\tlet deleteMsgEveryoneOption = this.utility.createElement("div", deleteMsgEveryoneAttributes, LANGUAGE_PHRASES.DELETE_FOR_EVERYONE, msgOptionsContainer);\n\n\t\t\t\t// Add listener on delete message for everyone\n\t\t\t\tdeleteMsgEveryoneOption.addEventListener("click", (data) => {\n\t\t\t\t\tmsgOptionsContainer.remove();\n\n\t\t\t\t\t// Delete message for me\n\t\t\t\t\tthis.chAdapter.deleteMessagesForEveryone([message.id], (err, res) => {\n\t\t\t\t\t\tif(err) console.error(err);\n\t\t\t\t\t})\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\tupdateDeleteForEveryoneMsg(data) {\n\t\tif(this.conversation.id != data.conversation.id)\n\t\t\treturn;\n\n\t  \t// Update text of deleted message\n\t  \tlet convTargetMsg = document.getElementById("ch_message_" + data.messages[0].id);\n\t\tif(convTargetMsg) {\n\t\t\tconvTargetMsg.innerHTML = "<i>" + LANGUAGE_PHRASES.MESSAGE_DELETED;\n\t\t}\n\n\t\t// Update listener of deleted message\n\t  \tlet deletedMsgOptionBtn = document.getElementById(data.messages[0].id).lastChild;\n\t  \tdeletedMsgOptionBtn.addEventListener("click", data => {\n\t  \t\t// Remove delete for everyone option\n\t  \t\tlet deleteForEveryoneBtn = document.getElementById("ch_msg_delete_for_everyone");\n\t  \t\tif(deleteForEveryoneBtn) {\n\t  \t\t\tdeleteForEveryoneBtn.remove();\n\t  \t\t}\n\t  \t});\n\t}\n\n\thandleBlock(data) {\n\t\tif(this.conversation.isGroup)\n\t\t\treturn;\n\n\t\tif(this.conversation.user.id == data.blockee.id) {\n\t\t\tdocument.getElementById("ch_conv_block").style.display = "none";;\n\t\t\tdocument.getElementById("ch_conv_unblock").style.display = "block";\n\t\t}\n\n\t\t// Hide status and input field\n\t\tdocument.getElementById("ch_conv_status").style.visibility = "hidden";\n\t\tdocument.getElementById("ch_send_box").style.visibility = "hidden";\n\t}\n\n\thandleUnblock(data) {\n\t\tif(this.conversation.isGroup)\n\t\t\treturn;\n\n\t\tif(this.conversation.user.id == data.unblockee.id) {\n\t\t\tdocument.getElementById("ch_conv_unblock").style.display = "none";\n\t  \t\tdocument.getElementById("ch_conv_block").style.display = "block";\n\t\t}\n\n\t\t// Show status and input field\n\t\tdocument.getElementById("ch_conv_status").style.visibility = "visible";\n\t\tdocument.getElementById("ch_send_box").style.visibility = "visible";\n\t}\n\n  \thandleClearConversation(conv) {\n  \t\tif(conv.id != this.conversation.id)\n  \t\t\treturn;\n\n  \t\tdocument.getElementById("ch_messages_box").innerHTML = "";\n  \t}\n}\n\n\n// CONCATENATED MODULE: ./src/js/components/search.js\n\n\n\n\nclass search_Search {\n\tconstructor(widget) {\n\t\t// Initialize dependencies\n\t\tthis.chAdapter = widget.chAdapter;\n\t\tthis.widget = widget;\n\t\tthis.utility = new Utility();\n\t\tthis.searchLimit = 10;\n\t\tthis.friendsLimit = 20;\n\t\tthis.friends = [];\n\t\tthis.users = [];\n\n\t\tthis.createSearchComponents();\n\t\tthis._registerClickEventHandlers();\n\t}\n\n\tcreateSearchComponents() {\n\t\t// Create search box components\n\t\tlet widget = document.getElementById("ch_frame");\n\t\tlet searchWindowAttributes = [{"id": "ch_search_window"},{"class":"ch-search-window"}];\n\t\tlet searchWindow = this.utility.createElement("div", searchWindowAttributes, null, widget);\n\n\t\t// Create search header\n\t\tlet searchHeaderAttributes = [{"id":"ch_search_header"},{"class":"ch-header"}];\n\t\tlet searchHeader = this.utility.createElement("div", searchHeaderAttributes, LANGUAGE_PHRASES.SEARCH_MEMBERS, searchWindow);\n\n\t\t// Create search Close button\n\t\tlet closeBtnAttributes = [{"id":"ch_search_close_btn"}];\n\t\tlet closeBtn = this.utility.createElement("i", closeBtnAttributes, "arrow_back", searchHeader);\n\t\tcloseBtn.classList.add("material-icons", "ch-close-btn");\n\n\t\t// Create search box\n\t\tlet searchBoxAttributes = [{"id":"ch_search_box"},{"class":"ch-search-box"}];\n\t\tlet searchBox = this.utility.createElement("div", searchBoxAttributes, null, searchWindow);\n\n\t\t// Create search input box\n\t\tlet inputBoxAttributes = [{"id":"ch_search_input_box"},{"class":"ch-search-input-box"},{"placeholder":LANGUAGE_PHRASES.SEARCH}];\n\t\tthis.utility.createElement("input", inputBoxAttributes, null, searchBox);\n\n\t\t// Create clear search icon\n\t\tlet clearAttributes = [{"id":"ch_clear_search_icon"}];\n\t\tlet clearBtn = this.utility.createElement("i", clearAttributes, "close", searchBox);\n\t\tclearBtn.classList.add("material-icons", "ch-clear-search-icon");\n\n\t\t// Create friends listing box\n\t\tlet friendsBoxAttributes = [{"id":"ch_friends_box"},{"class":"ch-friends-box"}];\n\t\tlet friendsBox = this.utility.createElement("div", friendsBoxAttributes, null, searchWindow);\n\n\t\t// Create loader container\n\t\tlet loaderContainerAttributes = [{"id":"ch_search_loader_container"},{"class":"ch-loader-bg"}];\n\t\tlet loaderContainer = this.utility.createElement("div", loaderContainerAttributes, null, friendsBox);\n\t\tloaderContainer.style.display = "block";\n\n\t\t// Create loader\n\t\tlet loaderAttributes = [{"id":"ch_search_loader"},{"class":"ch-loader"}];\n\t\tlet loader = this.utility.createElement("div", loaderAttributes, null, loaderContainer);\n\n\t\t// Create suggested friends listing box\n\t\tlet suggestedBoxAttributes = [{"id":"ch_suggested_box"}];\n\t\tlet suggestedBox = this.utility.createElement("div", suggestedBoxAttributes, null, friendsBox);\n\n\t\t// Create other users listing box\n\t\tlet usersBoxAttributes = [{"id":"ch_users_box"}];\n\t\tlet usersBox = this.utility.createElement("div", usersBoxAttributes, null, friendsBox);\n\n\t\t// Get user friends\n\t\tthis.chAdapter.getFriends(null, this.friendsLimit, null, null, null, (err, friends) => {\n\t\t\tif(err) return console.error(err);\n\n\t\t\t// Hide loader\n\t\t\tif(document.getElementById("ch_search_loader_container"))\n\t\t\t\tdocument.getElementById("ch_search_loader_container").style.display = "none";\n\n\t\t\tif(friends.length) {\n\t\t\t\t// Create suggested element\n\t\t\t\tlet suggestedAttributes = [{"id":"ch_suggested"},{"class":"ch-suggested"}];\n\t\t\t\tthis.utility.createElement("div", suggestedAttributes, LANGUAGE_PHRASES.SUGGESTED, suggestedBox);\n\t\t\t\tthis.friends = friends;\n\n\t\t\t\tfriends.forEach(friend => {\n\t\t\t\t\tthis._createFriendList(friend, "suggested");\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\t// Get more users\n\t\tthis.chAdapter.getAllUsers(null, this.searchLimit, 0, null, null, (err, users) => {\n\t\t\tif(err) return console.error(err);\n\n\t\t\tif(!users.length)\n\t\t\t\treturn;\n\n\t\t\t// Create more users element\n\t\t\tlet moreUsersAttributes = [{"id":"ch_more_users"},{"class":"ch-more-users"}];\n\t\t\tlet moreUsers = this.utility.createElement("div", moreUsersAttributes, LANGUAGE_PHRASES.MORE_USERS, usersBox);\n\n\t\t\tlet moreUsersCount = 0;\n\t\t\tusers.forEach(user => {\n\t\t\t\tif(!document.getElementById(user.id) && user.id != this.widget.userId) {\n\t\t\t\t\tthis._createFriendList(user, "users");\n\t\t\t\t\t++moreUsersCount;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif(moreUsersCount) {\n\t\t\t\t// Show more user header in other users found\n\t\t\t\tmoreUsers.style.display = "block";\n\t\t\t\tthis.users = users;\n\t\t\t}\n\n\t\t});\n\t}\n\n\t_createFriendList(friend, type) {\n\t\t// Create friends listing\n\t\tlet parentId = (type == "suggested") ? "ch_suggested_box" : "ch_users_box";\n\t\tlet parentBox = document.getElementById(parentId);\n\n\t\tlet friendListAttributes = [{"id":friend.id},{"class":"ch-friends-list"}];\n\t\tlet friendsBox = document.getElementById("ch_friends_box");\n\t\tlet friendsList = this.utility.createElement("li", friendListAttributes, null, parentBox);\n\n\t\t// Add click listener on friend list\n\t\tfriendsList.addEventListener("click", (data) => {\n\t\t\tif(document.getElementById("ch_conv_window")) {\n\t\t\t\tdocument.getElementById("ch_conv_window").remove();\n\t\t\t\tthis.widget.convWindows.pop();\n\t\t\t}\n\n\t\t\t// Check for exist conversation\n\t\t\tthis.chAdapter.getConversationsList(1, 0 , friend.id, "members", null, null, null, null, null, (err, conversation) => {\n\t\t\t\tif(err) return console.error(err);\n\n\t\t\t\tconversation = conversation[0];\n\n\t\t\t\tif(conversation) {\n\t\t\t\t\tconst conversationWindow = new conversation_window_ConversationWindow(this.widget);\n\t\t\t\t\tconversationWindow.init(conversation);\n\t\t\t\t\tthis.widget.convWindows.push(conversationWindow);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t// Open new conversation window\n\t\t\t\t\tconst conversationWindow = new conversation_window_ConversationWindow(this.widget);\n\t\t\t\t\tconversationWindow.init(null, friend);\n\t\t\t\t\tthis.widget.convWindows.push(conversationWindow);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\t// Create image tag\n\t\tfriend.profileImageUrl = friend.profileImageUrl ? friend.profileImageUrl : IMAGES.AVTAR;\n\t\tlet imageAttributes = [{"id":"ch_contact_img"},{"class":"ch-contact-img"},{"src":friend.profileImageUrl}];\n\t\tlet contactImg = this.utility.createElement("img", imageAttributes, null, friendsList);\n\n\t\t// Create name div\n\t\tlet nameAttributes = [{"id":"ch_friend_name"},{"class":"ch-friend-name"}];\n\t\tlet contactName = this.utility.createElement("div", nameAttributes, friend.displayName, friendsList);\n\t}\n\n\tsearchMember(searchTerm) {\n\t\t// Remove old friends from list\n\t\tlet suggestedbox = document.getElementById("ch_suggested_box");\n\t\tsuggestedbox.innerHTML = "";\n\n\t\tlet usersBox = document.getElementById("ch_users_box");\n\t\tusersBox.innerHTML = "";\n\n\t\tlet localFriendsCount = 0;\n\t\tlet localUersCount = 0;\n\n\t\tif(searchTerm == null) {\n\t\t\t// Show local friend\n\t\t\tthis.friends.forEach(friend => {\n\t\t\t\tthis._createFriendList(friend, "suggested");\n\t\t\t});\n\n\t\t\t// Show already loaded users\n\t\t\tthis.users.forEach(user => {\n\t\t\t\tthis._createFriendList(user, "users");\n\t\t\t});\n\n\t\t\tif(this.friends.length) {\n\t\t\t\t// Create suggested tag\n\t\t\t\tlet suggestedAttributes = [{"id":"ch_suggested"},{"class":"ch-suggested"}];\n\t\t\t\tlet suggested = this.utility.createElement("div", suggestedAttributes, LANGUAGE_PHRASES.SUGGESTED, suggestedbox);\n\t\t\t\tsuggestedbox.insertBefore(suggested, suggestedbox.childNodes[0]);\n\t\t\t}\n\n\t\t\tif(this.users.length) {\n\t\t\t\t// Create more users element\n\t\t\t\tlet moreUsersAttributes = [{"id":"ch_more_users"},{"class":"ch-more-users"}];\n\t\t\t\tlet moreUsers = this.utility.createElement("div", moreUsersAttributes, LANGUAGE_PHRASES.MORE_USERS, usersBox);\n\t\t\t\tmoreUsers.style.display = "block";\n\t\t\t\tusersBox.insertBefore(moreUsers, usersBox.childNodes[0]);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\t// else if(searchTerm == null && this.users.length) {\n\t\t// \t// Show already loaded users\n\t\t// \tthis.users.forEach(user => {\n\t\t// \t\tthis._createFriendList(user, "users");\n\t\t// \t});\n\n\t\t// \t// Create more users element\n\t\t// \tlet moreUsersAttributes = [{"id":"ch_more_users"},{"class":"ch-more-users"}];\n\t\t// \tlet moreUsers = this.utility.createElement("div", moreUsersAttributes, LANGUAGE_PHRASES.MORE_USERS, usersBox);\n\t\t// \tmoreUsers.style.display = "block";\n\t\t// \tusersBox.insertBefore(moreUsers, usersBox.childNodes[0]);\n\t\t// \treturn;\n\n\t\t// }\n\n\t\t// Show loader\n\t\tif(document.getElementById("ch_search_loader_container"))\n\t\t\tdocument.getElementById("ch_search_loader_container").style.display = "block";\n\n\t\t// Search in all friends by API call\n\t\tthis.chAdapter.getFriends(searchTerm, this.friendsLimit, null, null, null, (err, friends) => {\n\t\t\tif(err) return console.error(err);\n\n\t\t\t// Hide loader\n\t\t\tif(document.getElementById("ch_search_loader_container"))\n\t\t\t\tdocument.getElementById("ch_search_loader_container").style.display = "none";\n\n\t\t\tif(!friends.length)\n\t\t\t\treturn;\n\n\t\t\t// Create friends element\n\t\t\tlet suggested = document.getElementById("ch_suggested");\n\t\t\tif(!suggested) {\n\t\t\t\tlet suggestedAttributes = [{"id":"ch_suggested"},{"class":"ch-suggested"}];\n\t\t\t\tsuggested = this.utility.createElement("div", suggestedAttributes, LANGUAGE_PHRASES.SUGGESTED, usersBox);\n\t\t\t}\n\n\t\t\t// let suggestedCount = 0;\n\t\t\tfriends.forEach(friend => {\n\t\t\t\tthis._createFriendList(friend, "users");\n\t\t\t});\n\t\t});\n\n\t\t// Search in all users by API call\n\t\tthis.chAdapter.getAllUsers(searchTerm, this.searchLimit, 0, null, null, (err, users) => {\n\t\t\tif(err) return console.error(err);\n\n\t\t\tif(!users.length)\n\t\t\t\treturn;\n\n\t\t\t// Create more users element\n\t\t\tlet moreUsers = document.getElementById("ch_more_users");\n\t\t\tif(!moreUsers) {\n\t\t\t\tlet moreUsersAttributes = [{"id":"ch_more_users"},{"class":"ch-more-users"}];\n\t\t\t\tmoreUsers = this.utility.createElement("div", moreUsersAttributes, LANGUAGE_PHRASES.MORE_USERS, usersBox);\n\t\t\t}\n\n\t\t\tlet moreUsersCount = 0;\n\t\t\tusers.forEach(user => {\n\t\t\t\tif(!document.getElementById(user.id) && user.id != this.widget.userId) {\n\t\t\t\t\tthis._createFriendList(user, "users");\n\t\t\t\t\t++moreUsersCount;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif(moreUsersCount) {\n\t\t\t\t// Show more user header if other users found\n\t\t\t\tmoreUsers.style.display = "block";\n\t\t\t}\n\t\t});\n\t}\n\n\t_registerClickEventHandlers() {\n\t\t// Close search button listener\n\t\tlet closeBtn = document.getElementById("ch_search_close_btn");\n\t\tcloseBtn.addEventListener("click", (data) => {\n\t\t\tdocument.getElementById("ch_search_window").remove();\n\t\t});\n\n\t\t// Search on input value\n\t\tlet input = document.getElementById("ch_search_input_box");\n\t\tlet timeout = null;\n\t\tinput.addEventListener("keyup", (data) => {\n\t\t\t// Clear the previous timeout\n\t\t\tclearTimeout(timeout);\n\n\t\t\t// Make a new timeout set to go off in 1000ms (1 second)\n\t\t    timeout = setTimeout(() => {\n\t\t    \t// Search the member\n\t\t    \tthis.searchMember(input.value);\n\t\t    }, 1000);\n\t\t});\n\n\t\t// Clear search input value\n\t\tlet clear = document.getElementById("ch_clear_search_icon");\n\t\tclear.addEventListener("click", (data) => {\n\t\t\tdocument.getElementById("ch_search_input_box").value = "";\n\t\t\tthis.searchMember(null);\n\t\t});\n\t}\n}\n\n\n// CONCATENATED MODULE: ./src/js/components/recent-conversations.js\n\n\n\n\n\n\nclass recent_conversations_RecentConversations {\n\n\tconstructor(widget) {\n\t\t// Initialize dependencies\n\t\tthis.widget = widget;\n\t\tthis.widget.recentConversations = this;\n\t\tthis.chAdapter = widget.chAdapter;\n\t\tthis.utility = new Utility();\n\n\t\tthis.loadCount = 0;\n\t\tthis.limit = 25;\n\t\tthis.skip = 0;\n\n\t\t// Create recent conversation window\n\t\tthis._createRecentWindow();\n\t}\n\n\t_createRecentWindow() {\n\t\tlet frame = document.getElementById("ch_frame");\n\t\t// Create recent conversation window\n\t\tlet recentConvAttributes = [{"id":"ch_recent_window"},{"class":"ch-recent-window"}];\n\t\tlet recentConvWindow = this.utility.createElement("div", recentConvAttributes, null, frame);\n\n\t\t// Create Header\n\t\tlet headerAttributes = [{"id":"ch_recent_header"},{"class":"ch-header"}];\n\t\tlet header = this.utility.createElement("div", headerAttributes, null, recentConvWindow);\n\n\t\t// Create header title div\n\t\tlet titleAttributes = [{"id":"ch_header_title"},{"class":"ch-header-title"}];\n\t\tlet titleDiv = this.utility.createElement("div", titleAttributes, LANGUAGE_PHRASES.CHAT, header);\n\n\t\t// Create header options div\n\t\tlet optionAttributes = [{"id":"ch_header_option"},{"class":"ch-header-option"}];\n\t\tlet optionsDiv = this.utility.createElement("div", optionAttributes, null, header);\n\n\t\t// Create search button\n\t\tlet searchAttributes = [{"id":"ch_search"}];\n\t\tlet search = this.utility.createElement("i", searchAttributes, "search", optionsDiv);\n\t\tsearch.classList.add(\'material-icons\', \'ch-search-icon\');\n\n\t\t// Create option button\n\t\tlet optionsAttributes = [{"id":"ch_logout"},{"title":LANGUAGE_PHRASES.LOGOUT}];\n\t\tlet options = this.utility.createElement("i", optionsAttributes, "power_settings_new", optionsDiv);\n\t\toptions.classList.add(\'material-icons\', \'ch-options\');\n\n\t\t// Create minimize button\n\t\tlet minimizeBtnAttributes = [{"id":"ch_minimize_btn"},{"title":LANGUAGE_PHRASES.CLOSE}];\n\t\tlet minimizeBtn = this.utility.createElement("i", minimizeBtnAttributes, "close", optionsDiv);\n\t\tminimizeBtn.classList.add("material-icons", "ch-minimize-btn");\n\n\t\t// Create all conversation listing\n\t\tlet listingAttributes = [{"id":"ch_recent_listing"},{"class":"ch-recent-listing"}];\n\t\tlet convListing = this.utility.createElement("div", listingAttributes, null, recentConvWindow);\n\n\t\t// Create loader container\n\t\tlet loaderContainerAttributes = [{"id":"ch_recent_loader_container"},{"class":"ch-loader-bg"}];\n\t\tlet loaderContainer = this.utility.createElement("div", loaderContainerAttributes, null, convListing);\n\t\tloaderContainer.style.display = "block";\n\n\t\t// Create loader\n\t\tlet loaderAttributes = [{"id":"ch_recent_loader"},{"class":"ch-loader"}];\n\t\tlet loader = this.utility.createElement("div", loaderAttributes, null, loaderContainer);\n\n\t\t// Create ul for listing\n\t\tlet ulAttributes = [{"id":"ch_recent_ul"},{"class":"ch-recent-ul"}];\n\t\tlet ul = this.utility.createElement("ul", ulAttributes, null, convListing);\n\n\t\t// Invoke event listeners\n\t\t\tthis._registerClickEventHandlers();\n\n\t\t// Set user image in header\n\t\tthis.getUser(this.widget.userId, (err, user) => {\n\t\t\tif(err) return console.error(err);\n\n\t\t\tlet imgAttributes = [{"class":"ch-conversation-image"}];\n\t\t\tlet userImg = this.utility.createElement("div", imgAttributes, null, null);\n\t\t\theader.insertBefore(userImg, header.childNodes[0]);\n\t\t\tlet profileImageUrl = user.profileImageUrl ? user.profileImageUrl : IMAGES.AVTAR;\n\t\t\tuserImg.style.backgroundImage = "url(" + profileImageUrl + ")";\n\t\t});\n\n\t\t// Load recent conversations\n\t\tthis._loadConversations();\n\t}\n\n\t_loadConversations() {\n\t\t// Load conversations\n\t\tthis.chAdapter.getConversationsList(this.limit, this.skip, null, "members", null, null, null, null, null, (err, conversations) => {\n\t\t\tif(err) return console.error(err);\n\n\t\t\tthis.conversations = conversations;\n\t\t\t// Hide loader\n\t\t\tdocument.getElementById("ch_recent_loader_container").style.display = "none";\n\n\t\t\tif(!conversations.length) {\n\t\t\t\t// Create no message div\n\t\t\t\tlet convlisting = document.getElementById("ch_recent_listing");\n\t\t\t\tlet noMessageDivAttributes = [{"id":"ch_no_msg"},{"class":"ch-no-msg"}];\n\t\t\t\tthis.utility.createElement("div", noMessageDivAttributes, LANGUAGE_PHRASES.NO_CONV_FOUND, convlisting);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Create conversation listing elements\n\t\t\tthis._createConversationListing(conversations);\n\t\t});\n\t}\n\n\t_createConversationListing(conversations) {\n\t\tlet ul = document.getElementById("ch_recent_ul");\n\n\t\tconversations.forEach(conversation => {\n\t\t\t// modify conversation object\n\t\t\tconversation = this.modifyConversation(conversation);\n\n\t\t\t// Create list of conversations\n\t\t\tlet listAttributes = [{"id":conversation.id}];\n\t\t\tlet list = this.utility.createElement("li", listAttributes, null, ul);\n\n\t\t\t// Add listener on every conversation\n\t\t\tlist.addEventListener("click", (data) => {\n\t\t\t\tif(document.getElementById("ch_conv_window")) {\n\t\t\t\t\tdocument.getElementById("ch_conv_window").remove();\n\t\t\t\t\tthis.widget.convWindows.pop();\n\t\t\t\t}\n\n\t\t\t\tconst conversationWindow = new conversation_window_ConversationWindow(this.widget);\n\t\t\t\tconversationWindow.init(conversation);\n\t\t\t\tthis.widget.convWindows.push(conversationWindow);\n\t\t\t});\n\t\t\t\n\t\t\t// Create profile image tag\n\t\t\tlet imgAttributes = [{"class":"ch-conversation-image"}];\n\t\t\tlet imgDiv = this.utility.createElement("div", imgAttributes, null, list);\n\t\t\timgDiv.style.backgroundImage = "url(" + conversation.profileImageUrl + ")";\n\n\t\t\tif(!conversation.isGroup && conversation.user) {\n\t\t\t\t// Create online icon\n\t\t\t\tlet iconAttributes = [{"id":conversation.user.id+"_online_icon"},{"class":"ch-online-icon"}];\n\t\t\t\tlet icon = this.utility.createElement("span", iconAttributes, null, imgDiv);\n\n\t\t\t\t// Show block icon\n\t\t\t\tif(conversation.blockedByUser || conversation.blockedByMember) {\n\t\t\t\t\ticon.classList.add("ch-user-blocked");\n\t\t\t\t}\n\n\t\t\t\t// Show online icon\n\t\t\t\tif(conversation.user && conversation.user.isOnline) {\n\t\t\t\t\ticon.classList.add("ch-show-element");\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Create title div\n\t\t\tlet titleDivAttributes = [{"id":"ch_title"}];\n\t\t\tthis.utility.createElement("div", titleDivAttributes, conversation.title, list);\n\n\t\t\t// Create time div\n\t\t\tlet createdAtAttributes = [{"id":"ch_created_at"},{"class":"ch-created-at"}];\n\t\t\tthis.utility.createElement("div", createdAtAttributes, conversation.lastMessageTime, list);\n\n\t\t\t// Create last message box\n\t\t\tlet lastMsgBoxAttributes = [{"id":"ch_last_msg_box"},{"class":"ch-last-msg-box"}];\n\t\t\tlet lastMsgBox = this.utility.createElement("div", lastMsgBoxAttributes, null, list);\n\n\t\t\tif(conversation.lastMessageIcon) {\n\t\t\t\t// Create last message icon\n\t\t\t\tlet msgIconAttributes = [{"id":"ch_msg_type_icon"},{"class":"ch-msg-type-icon"},{"src":conversation.lastMessageIcon}];\n\t\t\t\tthis.utility.createElement("img", msgIconAttributes, null, lastMsgBox);\n\t\t\t}\n\n\t\t\t// Create last message\n\t\t\tlet lastMsgAttributes = [{"id":"ch_msg_"+conversation.lastMessageId},{"class":"ch-last-message"}];\n\t\t\tthis.utility.createElement("div", lastMsgAttributes, conversation.lastMessageBody, lastMsgBox);\n\t\t});\n\t}\n\n\tgetUser(userId, cb) {\n\t\tthis.chAdapter.getUser(userId, (err, user) => {\n\t\t\tif(err) return cb(err);\n\n\t\t\treturn cb(null, user);\n\t\t});\n\t}\n\n\tmodifyConversation(conversation) {\n\t\tif (!conversation.isGroup && Object.entries(conversation.user).length === 0) {\n\t\t\tconversation.title = LANGUAGE_PHRASES.DELETED_MEMBER;\n\t\t\tconversation.profileImageUrl = IMAGES.AVTAR;\n\t\t\treturn conversation;\n    \t}\n\n    \t// Set last message of conversation\n\t\tconversation = this._setLastMessage(conversation, conversation.lastMessage);\n\n\t    // Set profile Image, title and status of conversation\n\t\tif(conversation.isGroup) {\n\t\t\tconversation.profileImageUrl = conversation.profileImageUrl ? conversation.profileImageUrl : IMAGES.GROUP;\n\t\t\tconversation.status = conversation.memberCount + " " + LANGUAGE_PHRASES.MEMBERS;\n\t\t}\n\t\telse {\n\t\t\tconversation.profileImageUrl = conversation.user.profileImageUrl ? conversation.user.profileImageUrl : IMAGES.AVTAR;\n\t\t\tconversation.title = conversation.user.displayName;\n\n\t\t\t// Set block user status\n\t\t\tlet member = conversation.members.find(member => member.userId == conversation.user.id);\n\t\t\tif(!member) {\n\t\t\t\tconversation.blockedByMember = true;\n\t\t\t\tconversation.status = "";\n\t\t\t}\n\t\t\telse {\n\t\t\t\tconversation.blockedByMember = member ? false : true;\n\t\t\t\tif(!conversation.isActive) {\n\t\t\t\t\tconversation.blockedByUser = true;\n\t\t\t\t}\n\n\t\t\t\tif(conversation.user.isOnline) {\n\t\t\t\t\tconversation.status = LANGUAGE_PHRASES.ONLINE;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tconversation.status = LANGUAGE_PHRASES.LAST_SEEN + this.utility.updateTimeFormat(member.user.lastSeen);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tconversation.isModified = true;\n\t\treturn conversation;\n\t}\n\n\t_setLastMessage(conversation, message) {\n\t\tif(!message)\n\t\t\treturn conversation;\n\n\t\t// Set lastMessage of conersation\n\t\tconversation.lastMessage = message;\n\t\tif(message.isDeleted) {\n\t\t\tconversation.lastMessageIcon = null;\n\t\t\tconversation.lastMessageBody = "<i>" + LANGUAGE_PHRASES.MESSAGE_DELETED;\n\t\t}\n\t\telse if(message.type != "normal") {\n\t\t\tconversation.lastMessageIcon = null;\n\t\t\tconversation.lastMessageBody = this._modifyMessageBody(message);\n\t\t}\n\t\telse if(message.attachments && message.attachments.length) {\n\n\t\t\tswitch(message.attachments[0].type) {\n\t\t\t\tcase "image":\n\t\t\t\t\tconversation.lastMessageIcon = IMAGES.GALLERY_ICON;\n\t\t\t\t\tconversation.lastMessageBody = LANGUAGE_PHRASES.IMAGE;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase "audio":\n\t\t\t\t\tconversation.lastMessageIcon = IMAGES.AUDIO_ICON;\n\t\t\t\t\tconversation.lastMessageBody = LANGUAGE_PHRASES.AUDIO;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase "video":\n\t\t\t\t\tconversation.lastMessageIcon = IMAGES.GALLERY_ICON;\n\t\t\t\t\tconversation.lastMessageBody = LANGUAGE_PHRASES.VIDEO;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase "location":\n\t\t\t\t\tconversation.lastMessageIcon = IMAGES.LOCATION_ICON;\n\t\t\t\t\tconversation.lastMessageBody = LANGUAGE_PHRASES.LOCATION;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase "sticker":\n\t\t\t\t\tconversation.lastMessageIcon = IMAGES.STICKER_ICON;\n\t\t\t\t\tconversation.lastMessageBody = LANGUAGE_PHRASES.STICKER;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase "gif":\n\t\t\t\t\tconversation.lastMessageIcon = IMAGES.GIF_ICON;\n\t\t\t\t\tconversation.lastMessageBody = LANGUAGE_PHRASES.GIF;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase "text":\n\t\t\t\t\tconversation.lastMessageIcon = IMAGES.GALLERY_ICON;\n\t\t\t\t\tconversation.lastMessageBody = message.body;\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tconversation.lastMessageIcon = IMAGES.GALLERY_ICON;\n\t\t\t\t\tconversation.lastMessageBody = LANGUAGE_PHRASES.ATTACHMENT;\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tconversation.lastMessageIcon = null;\n\t\t\tconversation.lastMessageBody = message.body;\n\t\t}\n\n\t\t// Set Last Message time\n\t\tif(!message.updatedAt) {\n\t\t\tconversation.lastMessageTime = this.utility.updateTimeFormat(Date());\n\t\t}\n\t\telse {\n\t\t\tconversation.lastMessageTime = this.utility.updateTimeFormat(message.updatedAt);\n\t\t}\n\t\t\n\t\t// Set last message Id\n\t\tconversation.lastMessageId = message.id;\n\t\treturn conversation;\n\t}\n\n\tdeleteLastMessage(data, updatedLastMsg) {\n\t\tlet targetLastMsg = document.getElementById("ch_msg_" + data.messages[0].id);\n\t\tif(!updatedLastMsg) {\n\t\t\ttargetLastMsg.innerHTML = "";\n\t\t\treturn;\n\t\t}\n\n\t\tif(targetLastMsg) {\n\t\t\ttargetLastMsg.id = updatedLastMsg.id.replace("ch_message_", "ch_msg_");\n\t\t\tlet lastMsgBox = targetLastMsg.parentNode;\n\n\t\t\t// Remove last message icon if exist\n\t\t\tif(lastMsgBox.firstChild.id == "ch_msg_type_icon")\n\t\t\t\tlastMsgBox.firstChild.remove();\n\n\t\t\t// Update last message\n\t\t\tif(updatedLastMsg.firstChild.innerText == LANGUAGE_PHRASES.MESSAGE_DELETED) {\n\t\t\t\ttargetLastMsg.innerHTML = "<i>" + LANGUAGE_PHRASES.MESSAGE_DELETED;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tlet mediaMsg = updatedLastMsg.firstChild;\n\n\t\t\t\tif(mediaMsg.id == "ch_image_message") {\n\t\t\t\t\t// Create last message icon\n\t\t\t\t\tlet msgIconAttributes = [{"id":"ch_msg_type_icon"},{"class":"ch-msg-type-icon"},{"src":IMAGES.GALLERY_ICON}];\n\t\t\t\t\tlet msgIcon = this.utility.createElement("img", msgIconAttributes, null, null);\n\t\t\t\t\tlastMsgBox.insertBefore(msgIcon, targetLastMsg);\n\n\t\t\t\t\ttargetLastMsg.innerHTML = LANGUAGE_PHRASES.IMAGE;\n\t\t\t\t}\n\t\t\t\telse if(mediaMsg.id == "ch_audio_message") {\n\t\t\t\t\t// Create last message icon\n\t\t\t\t\tlet msgIconAttributes = [{"id":"ch_msg_type_icon"},{"class":"ch-msg-type-icon"},{"src":IMAGES.AUDIO_ICON}];\n\t\t\t\t\tlet msgIcon = this.utility.createElement("img", msgIconAttributes, null, null);\n\t\t\t\t\tlastMsgBox.insertBefore(msgIcon, targetLastMsg);\n\n\t\t\t\t\ttargetLastMsg.innerHTML = LANGUAGE_PHRASES.AUDIO;\n\t\t\t\t}\n\t\t\t\telse if(mediaMsg.id == "ch_video_message") {\n\t\t\t\t\t// Create last message icon\n\t\t\t\t\tlet msgIconAttributes = [{"id":"ch_msg_type_icon"},{"class":"ch-msg-type-icon"},{"src":IMAGES.VIDEO_ICON}];\n\t\t\t\t\tlet msgIcon = this.utility.createElement("img", msgIconAttributes, null, null);\n\t\t\t\t\tlastMsgBox.insertBefore(msgIcon, targetLastMsg);\n\n\t\t\t\t\ttargetLastMsg.innerHTML = LANGUAGE_PHRASES.VIDEO;\n\t\t\t\t}\n\t\t\t\telse if(mediaMsg.id == "ch_location_message") {\n\t\t\t\t\t// Create last message icon\n\t\t\t\t\tlet msgIconAttributes = [{"id":"ch_msg_type_icon"},{"class":"ch-msg-type-icon"},{"src":IMAGES.LOCATION_ICON}];\n\t\t\t\t\tlet msgIcon = this.utility.createElement("img", msgIconAttributes, null, null);\n\t\t\t\t\tlastMsgBox.insertBefore(msgIcon, targetLastMsg);\n\n\t\t\t\t\ttargetLastMsg.innerHTML = LANGUAGE_PHRASES.LOCATION;\n\t\t\t\t}\n\t\t\t\telse if(mediaMsg.id == "ch_sticker_message") {\n\t\t\t\t\t// Create last message icon\n\t\t\t\t\tlet msgIconAttributes = [{"id":"ch_msg_type_icon"},{"class":"ch-msg-type-icon"},{"src":IMAGES.STICKER_ICON}];\n\t\t\t\t\tlet msgIcon = this.utility.createElement("img", msgIconAttributes, null, null);\n\t\t\t\t\tlastMsgBox.insertBefore(msgIcon, targetLastMsg);\n\n\t\t\t\t\ttargetLastMsg.innerHTML = LANGUAGE_PHRASES.STICKER;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\ttargetLastMsg.innerHTML = updatedLastMsg.innerText;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tupdateNewMessage(message) {\n\t\tif(!message) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet convToUpdate = this.conversations.find(conv => conv.id == message.conversationId);\n\n\t\t// Update recent conversation list if exist\n\t\tif(convToUpdate && document.getElementById(convToUpdate.id)) {\n\t\t\tdocument.getElementById(convToUpdate.id).remove();\n\t\t\tconvToUpdate = this._setLastMessage(convToUpdate, message);\n\t\t\tthis._addNewConversationInList(convToUpdate);\n\t\t}\n\t\telse {\n\t\t\t// Get new conversation object\n\t\t\tthis.chAdapter.getConversation(message.conversationId, (err, conversation) => {\n\t\t\t\tif(err) return console.error(err);\n\n\t\t\t\t// Remove no message tag if exist\n\t\t\t\tif(document.getElementById("ch_no_msg"))\n\t\t\t\t\tdocument.getElementById("ch_no_msg").remove();\n\n\t\t\t\tconversation = this.modifyConversation(conversation);\n\t\t\t\tthis.conversations = this.conversations.concat(conversation);\n\t\t\t\tthis._addNewConversationInList(conversation);\n\n\t\t\t\t// Replace dummy conversation with new conversation\n\t\t\t\tthis.widget.convWindows.forEach(conversationWindow => {\n\t\t\t\t\tif(conversationWindow.conversation.isDummyObject) {\n\t\t\t\t\t\tif(document.getElementById("ch_conv_window")) {\n\t\t\t\t\t\t\tdocument.getElementById("ch_conv_window").remove();\n\t\t\t\t\t\t\tthis.widget.convWindows.pop();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst conversationWindow = new conversation_window_ConversationWindow(this.widget);\n\t\t\t\t\t\tconversationWindow.init(conversation);\n\t\t\t\t\t\tthis.widget.convWindows.push(conversationWindow);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n\n\t_modifyMessageBody(message) {\n\t\tif(!message)\n\t\t\treturn;\n\n\t\t// Handle meta message\n\t\tif(message.type == "admin") {\n\t\t\tlet body;\n\n\t\t\t// adminMessageType\n\t\t\tswitch(message.body) {\n\t\t\t\tcase "admin_group_create" :\n\t\t\t\t\tbody = "<i>" + LANGUAGE_PHRASES.GROUP_CREATED;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase "admin_group_change_photo" :\n\t\t\t\t\tbody = "<i>" + LANGUAGE_PHRASES.GROUP_PHOTO_CHANGED;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase "admin_group_change_title" :\n\t\t\t\t\tbody = "<i>" + LANGUAGE_PHRASES.GROUP_TITLE_CHANGED;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase "admin_group_add_members" :\n\t\t\t\t\tbody = "<i>" + LANGUAGE_PHRASES.GROUP_MEMBER_ADDED;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase "admin_group_remove_members" :\n\t\t\t\t\tbody = "<i>" + LANGUAGE_PHRASES.GROUP_MEMBER_REMOVED;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase "admin_group_make_admin" :\n\t\t\t\t\tbody = "<i>" + LANGUAGE_PHRASES.GROUP_ADMIN_UPDATED;\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tbody = "<i>" + message.type + " message";\n\t\t\t}\n\t\t\treturn body;\n\t\t}\n\t}\n\n\tupdateUserStatus(user) {\n\t\tif(!this.conversations)\n\t\t\treturn;\n\n\t\tconst index = this.conversations.findIndex(conversation => conversation.user.id == user.id);\n\t\tif(index != -1) {\n\t\t\tthis.conversations[index].user = user;\n\t\t\tif(user.isOnline) {\n\t\t\t\tthis.conversations[index].status = LANGUAGE_PHRASES.ONLINE;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.conversations[index].status = LANGUAGE_PHRASES.LAST_SEEN + this.utility.updateTimeFormat(user.lastSeen);\n\t\t\t}\n\t\t}\n\n\t\t// Update block/unblock icon\n\t\tlet userStatusIcon = document.getElementById(user.id+"_online_icon");\n\t\tif(!userStatusIcon)\n\t\t\treturn;\n\n\t\tif(user.isOnline) {\n\t\t\tuserStatusIcon.classList.add("ch-show-element");\n\t\t}\n\t\telse {\n\t\t\tuserStatusIcon.classList.remove("ch-show-element");\n\t\t}\n\t}\n\n\tupdateReadAt(data) {\n\t\tlet index = this.conversations.findIndex(conv => conv.id == data.conversation.id);\n\t\tif(index != -1) {\n\t\t\tthis.conversations[index].lastReadAt[data.userId] = data.timestamp;\n\t\t}\n\t}\n\n\t_addNewConversationInList(conversation) {\n\t\t// Add new conversation in recent conversation list\n\t\tlet ul = document.getElementById("ch_recent_ul");\n\t\tlet listAttributes = [{"id":conversation.id}];\n\t\tlet newConvlist = this.utility.createElement("li", listAttributes, null, null);\n\t\tul.insertBefore(newConvlist, ul.childNodes[0]);\n\n\t\t// Add event listener on new conversation list\n\t\tnewConvlist.addEventListener("click", (data) => {\n\t\t\tif(document.getElementById("ch_conv_window")) {\n\t\t\t\tdocument.getElementById("ch_conv_window").remove();\n\t\t\t\tthis.widget.convWindows.pop();\n\t\t\t}\n\n\t\t\tconst conversationWindow = new conversation_window_ConversationWindow(this.widget);\n\t\t\tconversationWindow.init(conversation);\n\t\t\tthis.widget.convWindows.push(conversationWindow);\n\t\t});\n\t\t\n\t\t// Create profile image tag\n\t\tlet imgAttributes = [{"class":"ch-conversation-image"}];\n\t\tlet imgDiv = this.utility.createElement("div", imgAttributes, null, newConvlist);\n\t\timgDiv.style.backgroundImage = "url(" + conversation.profileImageUrl + ")";\n\n\t\tif(!conversation.isGroup && conversation.user) {\n\t\t\t// Create online icon\n\t\t\tlet iconAttributes = [{"id":conversation.user.id+"_online_icon"},{"class":"ch-online-icon"}];\n\t\t\tlet icon = this.utility.createElement("span", iconAttributes, null, imgDiv);\n\n\t\t\t// Show block icon\n\t\t\tif(conversation.blockedByUser || conversation.blockedByMember) {\n\t\t\t\ticon.classList.add("ch-user-blocked");\n\t\t\t}\n\n\t\t\t// Show online icon\n\t\t\tif(conversation.user && conversation.user.isOnline) {\n\t\t\t\ticon.classList.add("ch-show-element");\n\t\t\t}\n\t\t}\n\n\t\t// Create title div\n\t\tlet titleAttributes = [{"id":"ch_title"}];\n\t\tthis.utility.createElement("div", titleAttributes, conversation.title, newConvlist);\n\n\t\t// Create time div\n\t\tlet createdAtAttributes = [{"id":"ch_created_at"},{"class":"ch-created-at"}];\n\t\tthis.utility.createElement("div", createdAtAttributes, conversation.lastMessageTime, newConvlist);\n\n\t\t// Create last message box\n\t\tlet lastMsgBoxAttributes = [{"id":"ch_last_msg_box"},{"class":"ch-last-msg-box"}];\n\t\tlet lastMsgBox = this.utility.createElement("div", lastMsgBoxAttributes, null, newConvlist);\n\n\t\tif(conversation.lastMessageIcon) {\n\t\t\t// Create last message icon\n\t\t\tlet msgIconAttributes = [{"id":"ch_msg_type_icon"},{"class":"ch-msg-type-icon"},{"src":conversation.lastMessageIcon}];\n\t\t\tthis.utility.createElement("img", msgIconAttributes, null, lastMsgBox);\n\t\t}\n\n\t\t// Create last message\n\t\tlet lastMsgAttributes = [{"id":"ch_msg_"+conversation.lastMessageId}, {"class":"ch-last-message"}];\n\t\tthis.utility.createElement("div", lastMsgAttributes, conversation.lastMessageBody, lastMsgBox);\n\t}\n\n\tremoveConversationList(id) {\n\t\tdocument.getElementById(id).remove();\n\t}\n\n\t_loadMoreConversations() {\n\t\t++this.loadCount;\n\t\tthis.skip = this.loadCount * this.limit;\n\t\tthis.chAdapter.getConversationsList(this.limit, this.skip, null, "members", null, null, null, null, null, (err, conversations) => {\n\t\t\tif(err) return console.error(err);\n\n\t\t\tthis._createConversationListing(conversations);\n\t\t\tthis.conversations = this.conversations.concat(conversations);\n\t\t});\n\t}\n\n\t_registerClickEventHandlers() {\n\t\t// Search button listener\n\t\tlet searchBtn = document.getElementById("ch_search");\n\t\tsearchBtn.addEventListener("click", (data) => {\n\t\t\tlet searchWindow = document.getElementById("ch_search_window");\n\t\t\tif(!searchWindow) {\n\t\t\t\tnew search_Search(this.widget);\n\t\t\t}\n\t\t});\n\n\t\t// Logout button listener\n\t\tlet logoutBtn = document.getElementById("ch_logout");\n\t\tlogoutBtn.addEventListener("click", (data) => {\n\t\t\t// Show loader\n\t\t\tdocument.getElementById("ch_recent_loader_container").style.display = "block";\n\n\t\t\t// Disconnect from channelize server\n\t\t\tthis.chAdapter.disconnect("", (err, res) => {\n\t\t\t\tif(err) return console.error(err);\n\n\t\t\t\t// Delete cookies\n\t\t\t\tthis.widget.setCookie("ch_user_id", "", -1);\n\t\t\t\tthis.widget.setCookie("ch_access_token", "", -1);\n\n\t\t\t\tdocument.getElementById("ch_recent_window").remove();\n\t\t\t\tif(document.getElementById("ch_conv_window"))\n\t\t\t\t\tdocument.getElementById("ch_conv_window").remove();\n\n\t\t\t\tthis.widget.recentConversations = null;\n\t\t\t\tthis.widget.convWindows = [];\n\t\t\t\t// Invoke login screen\n\t\t\t\tnew login_Login(this.widget);\n\t\t\t});\n\t\t});\n\n\t\t// Add minimize button listener\n\t\tlet minimizeBtn = document.getElementById("ch_minimize_btn");\n\t\tif(!minimizeBtn)\n\t\t\treturn;\n\n\t\tminimizeBtn.addEventListener("click", (data) => {\n\t\t\tdocument.getElementById("ch_recent_window").style.display = "none";\n\t\t});\n\n\t\t// Load more conversation on scroll\n\t\tlet convListing = document.getElementById("ch_recent_listing");\n\n\t\tconvListing.addEventListener("scroll", (data) => {\n\t\t\tif(convListing.scrollTop >= (convListing.scrollHeight - convListing.clientHeight)) {\n\t\t\t\tthis._loadMoreConversations();\n\t\t\t}\n\t\t});\n\t}\n\n\thandleBlock(data) {\n\t\tthis.conversations.forEach(conversation => {\n\t\t\tif(conversation.isGroup)\n\t\t\t\treturn;\n\n\t\t\tif(conversation.user.id == data.blocker.id) {\n\t\t\t\tconversation.blockedByMember = true;\n\t\t\t}\n\t\t\telse if(conversation.user.id == data.blockee.id) {\n\t\t\t\tconversation.blockedByUser = true;\n\t\t\t}\n\t\t});\n\n\t\tlet onlineIcon = document.getElementById(data.blockee.id+"_online_icon");\n\t\tif(onlineIcon) {\n\t\t\tonlineIcon.classList.add("ch-user-blocked");\n\t\t}\n\t}\n\n\thandleUnblock(data) {\n\t\tthis.conversations.forEach(conversation => {\n\t\t\tif(conversation.isGroup)\n\t\t\t\treturn;\n\n\t\t\tif(conversation.user.id == data.unblocker.id) {\n\t\t\t\tconversation.blockedByMember = false;\n\t\t\t}\n\t\t\telse if(conversation.user.id == data.unblockee.id) {\n\t\t\t\tconversation.blockedByUser = false;\n\t\t\t}\n\t\t});\n\n\t\tlet onlineIcon = document.getElementById(data.unblockee.id+"_online_icon");\n\t\tif(onlineIcon) {\n\t\t\tonlineIcon.classList.remove("ch-user-blocked");\n\t\t}\n\t}\n}\n\n\n// CONCATENATED MODULE: ./src/js/components/login.js\n\n\n\n\nclass login_Login {\n\tconstructor(widget) {\n\t\t// Initialize dependencies\n\t\tthis.chAdapter = widget.chAdapter;\n\t\tthis.utility = new Utility();\n\t\tthis.widget = widget;\n\n\t\tthis._createLoginWindow();\n\t\tthis._registerClickEventHandlers();\n\t}\n\n\t_createLoginWindow() {\n\t\t// Create Login window\n\t\tlet widget = document.getElementById("ch_frame");\n\t\tlet loginWindowAttributes = [{"id": "ch_login_window"},{"class":"ch-login-window"}];\n\t\tlet loginWindow = this.utility.createElement("div", loginWindowAttributes, null, widget);\n\n\t\t// Create login header\n\t\tlet loginHeaderAttributes = [{"id":"ch_login_header"},{"class":"ch-header"}];\n\t\tlet loginHeader = this.utility.createElement("div", loginHeaderAttributes, LANGUAGE_PHRASES.LOGIN, loginWindow);\n\n\t\t// Create loader container\n\t\tlet loaderContainerAttributes = [{"id":"ch_login_loader_container"},{"class":"ch-loader-bg"}];\n\t\tlet loaderContainer = this.utility.createElement("div", loaderContainerAttributes, null, loginWindow);\n\n\t\t// Create loader\n\t\tlet loaderAttributes = [{"id":"ch_login_loader"},{"class":"ch-loader"}];\n\t\tthis.utility.createElement("div", loaderAttributes, null, loaderContainer);\n\n\t\t// Create close button\n\t\tlet closeBtnAttributes = [{"id":"ch_login_close_btn"}];\n\t\tlet closeBtn = this.utility.createElement("i", closeBtnAttributes, "close", loginHeader);\n\t\tcloseBtn.classList.add("material-icons", "ch-login-close-btn");\n\n\t\t// Create login user name container\n\t\tlet loginNameContainerAttributes = [{"id":"ch_login_name_container"},{"class":"ch-login-name-container"}];\n\t\tlet loginNameContainer = this.utility.createElement("div", loginNameContainerAttributes, null, loginWindow);\n\n\t\t// Create name div\n\t\tlet loginNameAttributes = [{"id":"ch_login_name"},{"class":"ch-login-name"}];\n\t\tthis.utility.createElement("div", loginNameAttributes, LANGUAGE_PHRASES.NAME, loginNameContainer);\n\n\t\t// Create input div\n\t\tlet loginNameInputAttributes = [{"id":"ch_login_name_input"},{"class":"ch-login-name-input"},{"type":"text"},{"placeholder":"Enter a name"}];\n\t\tthis.utility.createElement("input", loginNameInputAttributes, null, loginNameContainer);\n\n\t\t// Create error div\n\t\tlet errorDivAttributes = [{"id":"ch_login_error"},{"class":"ch-login-error"}];\n\t\tthis.utility.createElement("div", errorDivAttributes, null, loginNameContainer);\n\n\t\t// Create dummy users list for login\n\t\tthis._createDummyUsersContainer(loginWindow);\n\n\t\t// Create Login button\n\t\tlet loginBtnAttributes = [{"id":"ch_login_btn"},{"class":"ch-login-btn"}];\n\t\tthis.utility.createElement("button", loginBtnAttributes, LANGUAGE_PHRASES.START, loginWindow);\n\t}\n\n\t_createDummyUsersContainer(parent) {\n\t\t// Create dummy users container\n\t\tlet dummyContainerAttributes = [{"id":"ch_dummy_container"},{"class":"ch-dummy-container"}];\n\t\tlet dummyContainer = this.utility.createElement("div", dummyContainerAttributes, null, parent);\n\n\t\t// Create dummy container text\n\t\tlet containerTextAttributes = [{"class":"ch_container_text"},{"class":"ch-container-text"}];\n\t\tthis.utility.createElement("div", containerTextAttributes, LANGUAGE_PHRASES.LOGIN_WITH_TEST_USERS, dummyContainer);\n\n\t\t// Create dummy user number 1 and its listener\n\t\tlet dummyUser1Attributes = [{"id":"ch_dummy_user1"},{"class":"ch-dummy-img"},{"title":"Anna Smith"},{"src":IMAGES.ANNA_SMITH}];\n\t\tlet user1 = this.utility.createElement("img", dummyUser1Attributes, null, dummyContainer);\n\n\t\tuser1.addEventListener("click", (data) => {\n\t\t\tconst email = "test1@seaddons.com";\n\t\t\tconst password = "123456";\n\t\t\tthis._loginUser(email, password, true);\n\t\t});\n\n\t\t// Create dummy user number 2\n\t\tlet dummyUser2Attributes = [{"id":"ch_dummy_user2"},{"class":"ch-dummy-img"},{"title":"Katrina Charle"},{"src":IMAGES.KATRINA_CHARLEY}];\n\t\tlet user2 = this.utility.createElement("img", dummyUser2Attributes, null, dummyContainer);\n\n\t\tuser2.addEventListener("click", (data) => {\n\t\t\tconst email = "test2@seaddons.com";\n\t\t\tconst password = "123456";\n\t\t\tthis._loginUser(email, password, true);\n\t\t});\n\n\t\t// Create dummy user number 3\n\t\tlet dummyUser3Attributes = [{"id":"ch_dummy_user3"},{"class":"ch-dummy-img"},{"title":"Natalie Ivanovic"},{"src":IMAGES.NATALIE_IVANOVIC}];\n\t\tlet user3 = this.utility.createElement("img", dummyUser3Attributes, null, dummyContainer);\n\n\t\tuser3.addEventListener("click", (data) => {\n\t\t\tconst email = "test@channelize.io";\n\t\t\tconst password = "Test@123456";\n\t\t\tthis._loginUser(email, password, true);\n\t\t});\n\n\t\t// Create dummy user number 4\n\t\tlet dummyUser4Attributes = [{"id":"ch_dummy_user4"},{"class":"ch-dummy-img"},{"title":"Eric Andrews"},{"src":IMAGES.ERIC_ANDREWS}];\n\t\tlet user4 = this.utility.createElement("img", dummyUser4Attributes, null, dummyContainer);\n\n\t\tuser4.addEventListener("click", (data) => {\n\t\t\tconst email = "heyley@channelize.io";\n\t\t\tconst password = "Test@123456";\n\t\t\tthis._loginUser(email, password, true);\n\t\t});\n\t}\n\n\t_createUser() {\n\t\tlet name = document.getElementById("ch_login_name_input").value;\n\t\tlet errorDiv = document.getElementById("ch_login_error");\n\t\terrorDiv.innerText = "";\n\n\t\tif(!name.trim()) {\n\t\t\terrorDiv.style.display = "block";\n\t\t\terrorDiv.innerText =  LANGUAGE_PHRASES.ENTER_NAME;\n\t\t\treturn;\n\t\t}\n\n\t\tdocument.getElementById("ch_login_loader_container").style.display = "block";\n\n\t\tvar email = name.replace(/\\s/g, \'\').toLowerCase() + "@channelize.io";\n\t\tconst password = "123456";\n\n\t\t// Create a new user\n\t\tthis.chAdapter.createUser(name, email, password, (err, user) => {\n\t\t\tif(err) {\n\t\t\t\tdocument.getElementById("ch_login_loader_container").style.display = "none";\n\t\t\t\terrorDiv.style.display = "block";\n\t\t\t\terrorDiv.innerText =  LANGUAGE_PHRASES.USER_EXIST;\n\t\t\t\tconsole.error(err);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._loginUser(email, password, false);\n\t\t});\n\t}\n\n\t_loginUser(email, password, isDummyUser = null) {\n\t\tdocument.getElementById("ch_login_loader_container").style.display = "block";\n\t\t// Login user\n\t\tthis.chAdapter.loginWithEmail(email, password, (err, res) => {\n\t\t\tif(err) console.error(err);\n\n\t\t\tconst userId = this.widget.userId =  res.user.id;\n\t\t\tconst accessToken = res.id;\n\t\t\t// Connect to Channelize Server\n\t\t\tthis.widget.connect(userId, accessToken, (err,res) => {\n\t\t\t\tif(err) console.error(err);\n\n\t\t\t\t// Set cookies\n\t\t\t\tthis.widget.setCookie(userId, accessToken, 30);\n\n\t\t\t\tif(isDummyUser) {\n\t\t\t\t\t// Open recent conversation window\n\t\t\t\t\tnew recent_conversations_RecentConversations(this.widget);\n\n\t\t\t\t\t// Close login window\n\t\t\t\t\tdocument.getElementById("ch_login_window").remove();\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tnew recent_conversations_RecentConversations(this.widget);\n\t\t\t\t\t// Add channelize.io team as a friend\n\t\t\t\t\t// const channelizeTeamId = "16d31770-8843-11e9-88fd-33cb21cf39cd"; // Channelize.io account ID\n\n\t\t\t\t\t// this.chAdapter.addFriend(channelizeTeamId, 2, (err, res) => {\n\t\t\t\t\t// \tif(err) return console.error(err);\n\n\t\t\t\t\t// \t// Open recent conversation window\n\t\t\t\t\t// \tnew RecentConversations(this.widget);\n\t\t\t\t\t// });\n\n\t\t\t\t\t// Close login window\n\t\t\t\t\tdocument.getElementById("ch_login_window").remove();\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\t_registerClickEventHandlers() {\n\t\t// Login button listener\n\t\tlet loginBtn = document.getElementById("ch_login_btn");\n\t\tloginBtn.addEventListener("click", data => {\n\t\t\tthis._createUser();\n\t\t});\n\n\t\t// Close button listener\n\t\tlet closeBtn = document.getElementById("ch_login_close_btn");\n\t\tcloseBtn.addEventListener("click", data => {\n\t\t\tdocument.getElementById("ch_login_window").remove();\n\t\t});\n\t}\n}\n\n\n// CONCATENATED MODULE: ./src/js/widget.js\n\n\n\n\n\n\n\n\nclass widget_ChannelizeWidget {\n\tconstructor(publicKey) {\n\t\tthis.utility = new Utility();\n\t\tthis._init(publicKey);\n\t}\n\n\t// Initialize the main contents\n\t_init(publicKey) {\n\t\t// Create script tag for material icons\n\t\tlet materialScriptAttributes = [{"href":"https://fonts.googleapis.com/icon?family=Material+Icons"},{"rel":"stylesheet"}];\n\t\tthis.utility.createElement("link", materialScriptAttributes, null, document.head);\n\n\t\t// Initialize Channelize Adapter\n\t\tthis.chAdapter = new ChannelizeAdapter(publicKey);\n\t\tthis.convWindows = [];\n\t}\n\n\t// Load channelize\n\tload() {\n\t\t// Check for already login user\n\t\tlet userId = this.getCookie("ch_user_id");\n\t\tlet accessToken = this.getCookie("ch_access_token");\n\n\t\tif(userId && accessToken) {\n\t\t\tthis.connect(userId, accessToken, (err, res) => {\n\t\t\t\tif(err) return console.error(err);\n\n\t\t\t\tthis.userId = userId;\n\t\t\t\tthis._createLauncher();\n\t\t\t});\n\t\t}\n\t\telse {\n\t\t\tthis._createLauncher();\n\t\t}\n\t}\n\n\tconnect(userId, accessToken, cb) {\n\t  \tthis.chAdapter.connect(userId, accessToken, (err, res) => {\n\t\t\tif(err) return cb(err);\n\n\t\t\tthis._registerChEventHandlers();\n\t\t\treturn cb(null, res);\n\t\t});\n\t}\n\n\t// Connect and load channelize\n\tloadWithUserId(userId, accessToken) {\n\t\tthis.connect(userId, accessToken, (err, res) => {\n\t\t\tif(err) return console.error(err);\n\n\t\t\tthis.userId = userId;\n\t\t\tthis.setCookie(userId, accessToken, 30);\n\t\t\tthis._createLauncher();\n\t\t});\n\t}\n\n\t// Create channelize frame and launcher\n\t_createLauncher() {\n\t\tlet widget = document.getElementById("ch_widget");\n\t\tlet launcher;\n\n\t\t// Create default launcher if not exist\n\t\tif(!document.getElementById("ch_launcher")) {\n\t\t\tlet launcherAttributes = [{"id":"ch_launcher"},{"class":"ch-launcher"}];\n\t\t\tlauncher = this.utility.createElement("div", launcherAttributes, null, widget);\n\n\t\t\t// Create launcher image\n\t\t\tlet launcherImageAttributes = [{"id":"ch_launcher_image"},{"class":"ch-launcher-image"},{"src":IMAGES.LAUNCHER_ICON}];\n\t\t\tthis.utility.createElement("img", launcherImageAttributes, null, launcher);\n\t\t}\n\n\t\t// Create channelize frame\n\t\tlet frameAttributes = [{"id":"ch_frame"},{"class":"ch-frame"}];\n\t\tlet frame = this.utility.createElement("div", frameAttributes, null, widget);\n\n\t\t// Channelize launcher listener\n\t\tlauncher.addEventListener("click", (data) => {\n\t\t\t// If login window already exist\n\t\t\tif(document.getElementById("ch_login_window"))\n\t\t\t\treturn;\n\n\t\t\t// Show recent conversation window if already exist\n\t\t\tif(document.getElementById("ch_recent_window")) {\n\t\t\t\tdocument.getElementById("ch_recent_window").style.display = "block";\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet user = this.chAdapter.getLoginUser();\n\t\t\tif(user) {\n\t\t\t\t// Invoke recent conversation window\n\t\t\t\tthis.recentConversations =  new recent_conversations_RecentConversations(this);\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// Invoke login screen\n\t\t\t\tnew login_Login(this);\n\t\t\t}\n\t\t});\n\t}\n\n\t// Handle all real time events of JS-SDK\n\t_registerChEventHandlers() {\n\t\t// Handle new message\n\t\twindow.channelize.chsocket.on(\'user.message_created\', (data) => {\n\t\t\tif(this.recentConversations) {\n\t\t\t\tthis.recentConversations.updateNewMessage(data.message);\n\t\t\t}\n\n\t\t\tthis.convWindows.forEach(conversationWindow => {\n\t\t\t\tconversationWindow.addNewMessage(data.message);\n\t\t\t});\n\t\t});\n\n\t\t// Handle delete message for me\n\t\twindow.channelize.chsocket.on(\'user.message_deleted\', (data) => {\n\t\t\tlet updatedLastMsg;\n\t\t\t// Remove message from conversation screen\n\t\t\tif(document.getElementById(data.messages[0].id)) {\n\t\t\t\tdocument.getElementById(data.messages[0].id).remove();\n\n\t\t\t\tif(document.getElementById("ch_messages_box").lastChild) {\n\t\t\t\t\tlet lastMsgAfterDelete = document.getElementById("ch_messages_box").lastChild.id;\n\t\t\t\t\tupdatedLastMsg = document.getElementById("ch_message_" + lastMsgAfterDelete);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(this.recentConversations) {\n\t\t\t\tthis.recentConversations.deleteLastMessage(data, updatedLastMsg);\n\t\t\t}\n\t\t});\n\n\t\t// Handle delete message for everyone\n\t\twindow.channelize.chsocket.on(\'message.deleted_for_everyone\', (data) => {\n\t\t\t// Update message text in conversation screen\n\t\t\tthis.convWindows.forEach(conversationWindow => {\n\t\t\t\tconversationWindow.updateDeleteForEveryoneMsg(data);\n\t\t\t});\n\n\t\t\t// Update message text in recent screen\n\t\t\tlet recentTargetMsg = document.getElementById("ch_msg_" + data.messages[0].id);\n\t\t\tif(recentTargetMsg) {\n\t\t\t\t// Remove if media/location/sticker/gif icon present\n\t\t\t\tif(recentTargetMsg.parentNode.firstChild.nodeName != "DIV")\n\t\t\t\t\trecentTargetMsg.parentNode.firstChild.remove();\n\n\t\t\t\trecentTargetMsg.innerHTML = "<i>" + LANGUAGE_PHRASES.MESSAGE_DELETED;\n\t\t\t}\n\t\t});\n\n\t\t// Handle mark as read\n\t\twindow.channelize.chsocket.on(\'conversation.mark_as_read\', (data) => {\n\t\t\tif(this.userId == data.user.id)\n\t\t\t\treturn;\n\n\t\t\t// Update lastReadAt of conversation\n\t\t\tif(this.recentConversations) {\n\t\t\t\tthis.recentConversations.updateReadAt(data);\n\t\t\t}\n\n\t\t\t// Update message read status in conversation screen\n\t\t\tthis.convWindows.forEach(conversationWindow => {\n\t\t\t\tconversationWindow.updateMsgStatus(data);\n\t\t\t});\n\t\t});\n\n\t\t// Handle user online/ofline status\n\t\twindow.channelize.chsocket.on(\'user.status_updated\', (data) => {\n\t\t\tif(this.recentConversations) {\n\t\t\t\tthis.recentConversations.updateUserStatus(data.user);\n\t\t\t}\n\n\t\t\tthis.convWindows.forEach(conversationWindow => {\n\t\t\t\tconversationWindow.updateUserStatus(data.user);\n\t\t\t});\n\t\t});\n\n\t\t// Handle clear conversation\n\t\twindow.channelize.chsocket.on(\'user.conversation_cleared\', (data) => {\n\t\t\t// Delete last message from particular recent conversation\n\t\t\tif(document.getElementById(data.conversation.id) && document.getElementById(data.conversation.id).lastChild)\n\t\t\t\tdocument.getElementById(data.conversation.id).lastChild.remove();\n\n\t\t\t// Remove all messages of the conversation\n\t\t\tthis.convWindows.forEach(conversationWindow => {\n\t\t\t\tconversationWindow.handleClearConversation(data.conversation);\n\t\t\t});\n\t\t});\n\n\t\t// Handle delete conversation\n\t\twindow.channelize.chsocket.on(\'user.conversation_deleted\', (data) => {\n\t\t\t// Delete last message from particular recent conversation\n\t\t\tif(document.getElementById(data.conversation.id) && document.getElementById(data.conversation.id).lastChild)\n\t\t\t\tdocument.getElementById(data.conversation.id).remove();\n\n\t\t\t// Remove conversation screen\n\t\t\tthis.convWindows.forEach(conversationWindow => {\n\t\t\t\tif(conversationWindow.conversation.id == data.conversation.id) {\n\t\t\t\t\tif(document.getElementById("ch_conv_window")) {\n\t\t\t\t\t\tdocument.getElementById("ch_conv_window").remove();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\t// Handle user block\n\t\twindow.channelize.chsocket.on(\'user.blocked\', (data) => {\n\t\t\t// Update block icon in recent conversation\n\t\t\tif(this.recentConversations) {\n\t\t\t\tthis.recentConversations.handleBlock(data);\n\t\t\t}\n\t\t\t\n\t\t\t// Update conversation screen of block user\n\t\t\tthis.convWindows.forEach(conversationWindow => {\n\t\t\t\tconversationWindow.handleBlock(data);\n\t\t\t});\n\t\t});\n\n\t\t// Handle user unblock\n\t\twindow.channelize.chsocket.on(\'user.unblocked\', (data) => {\n\t\t\t// Update unblock icon in recent conversation\n\t\t\tif(this.recentConversations) {\n\t\t\t\tthis.recentConversations.handleUnblock(data);\n\t\t\t}\n\t\t\t\n\t\t\t// Update conversation screen of unblock user\n\t\t\tthis.convWindows.forEach(conversationWindow => {\n\t\t\t\tconversationWindow.handleUnblock(data);\n\t\t\t});\n\t\t});\n\t}\n\n\tsetCookie(userId, accessToken, exdays) {\n\t\tlet date = new Date();\n\t\tdate.setTime(date.getTime() + (exdays*24*60*60*1000));\n\t\tvar expires = "expires="+ date.toUTCString();\n\t\tdocument.cookie = "ch_user_id=" + userId + ";" + expires + ";path=/";\n\t\tdocument.cookie = "ch_access_token=" + accessToken + ";" + expires + ";path=/";\n\t}\n\n\tgetCookie(cname) {\n\t\tvar name = cname + "=";\n\t\tvar cookieArray = document.cookie.split(\';\');\n\t\tfor(var i = 0; i < cookieArray.length; i++) {\n\t\t\tvar singleCookie = cookieArray[i];\n\t\t\twhile (singleCookie.charAt(0) == \' \') {\n\t\t\t\tsingleCookie = singleCookie.substring(1);\n\t\t\t}\n\t\t\tif (singleCookie.indexOf(name) == 0) {\n\t\t\t\treturn singleCookie.substring(name.length, singleCookie.length);\n\t\t\t}\n\t\t}\n\t\treturn "";\n\t}\n\n\t// To skip out login process and direct open recent conversation window\n\tloadRecentConversation(userId, accessToken) {\n\t\t// Connect to Channelize server\n\t\tthis.userId = userId;\n\t\tthis.connect(userId, accessToken, (err, res) => {\n\t\t\tif(err) return console.error(err);\n\n\t\t\t// Create channelize frame\n\t\t\tlet widget = document.getElementById("ch_widget");\n\t\t\tlet frameAttributes = [{"id":"ch_frame"},{"class":"ch-frame"}];\n\t\t\tlet frame = this.utility.createElement("div", frameAttributes, null, widget);\n\n\t\t\t// Invoke recent conversation window\n\t\t\tthis.recentConversations =  new recent_conversations_RecentConversations(this);\n\t\t});\n\t}\n\n\t// To open a conversation screen of any user via member-id or conversation-id\n\tloadConversationWindow(otherMemberId, conversationId = null) {\n\t\tif(otherMemberId) {\n\t\t\tthis.chAdapter.getConversationsList(1, 0, otherMemberId, "members", null, null, null, null, null, (err, conversations) => {\n\t\t\t\tif(err) return console.error(err);\n\n\t\t\t\tif(!conversations.length) {\n\t\t\t\t\tconsole.error(LANGUAGE_PHRASES.CONVERSATION_NOT_FOUND);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tlet conversationWindow = new conversation_window_ConversationWindow(this);\n\t\t\t\tconversationWindow.init(conversations[0]); // Pass conversation object in params\n\t\t\t\tthis.convWindows.push(conversationWindow);\n\t\t\t});\n\t\t}\n\t\telse if(conversationId) {\n\t\t\tlet conversation = this.chAdapter.getConversation(conversationId, (err, conversation) => {\n\t\t\t\tif(err) return console.error(err);\n\n\t\t\t\tlet conversationWindow = new conversation_window_ConversationWindow(this);\n\t\t\t\tconversationWindow.init(conversation); // Pass conversation object in params\n\t\t\t\tthis.convWindows.push(conversationWindow);\n\t\t\t});\n\t\t}\n\t}\n}\n\nwindow.ChannelizeWidget = widget_ChannelizeWidget;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9qcy9hZGFwdGVyLmpzP2EzNTEiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL3V0aWxpdHkuanM/MmY2OCIsIndlYnBhY2s6Ly8vLi9zcmMvanMvY29uc3RhbnRzLmpzPzU5ZjkiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2NvbXBvbmVudHMvY29udmVyc2F0aW9uLXdpbmRvdy5qcz8wNDg3Iiwid2VicGFjazovLy8uL3NyYy9qcy9jb21wb25lbnRzL3NlYXJjaC5qcz84MmU0Iiwid2VicGFjazovLy8uL3NyYy9qcy9jb21wb25lbnRzL3JlY2VudC1jb252ZXJzYXRpb25zLmpzPzk4ZGEiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2NvbXBvbmVudHMvbG9naW4uanM/MGIxOSIsIndlYnBhY2s6Ly8vLi9zcmMvanMvd2lkZ2V0LmpzPzU2MzciXSwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgQ2hhbm5lbGl6ZUFkYXB0ZXIge1xuXG5cdGNvbnN0cnVjdG9yKHB1YmxpY0tleSkge1xuXHRcdHRoaXMuY2hhbm5lbGl6ZSA9IHdpbmRvdy5jaGFubmVsaXplID0gbmV3IENoYW5uZWxpemUuY2xpZW50KHtwdWJsaWNLZXk6IHB1YmxpY0tleX0pO1xuXHR9XG5cblx0bG9naW5XaXRoRW1haWwoZW1haWwsIHBhc3N3b3JkLCBjYikge1xuXHRcdHRoaXMuY2hhbm5lbGl6ZS5sb2dpbldpdGhFbWFpbFBhc3N3b3JkKGVtYWlsLCBwYXNzd29yZCwgZnVuY3Rpb24gKGVyciwgcmVzKSB7XG5cdFx0XHRpZihlcnIpIHJldHVybiBjYihlcnIpO1xuXG5cdFx0XHRyZXR1cm4gY2IobnVsbCwgcmVzKTtcblx0XHR9KTtcblx0fVxuXG5cdGxvZ2luV2l0aFVzZXJJZCh1c2VySWQsIHBtQ2xpZW50U2VydmVyVG9rZW4sIGNiKSB7XG5cdFx0dGhpcy5jaGFubmVsaXplLmxvZ2luV2l0aFVzZXJJZCh1c2VySWQsIHBtQ2xpZW50U2VydmVyVG9rZW4sIGZ1bmN0aW9uIChlcnIsIHJlcykge1xuXHRcdFx0aWYoZXJyKSByZXR1cm4gY2IoZXJyKTtcblxuXHRcdFx0cmV0dXJuIGNiKG51bGwsIHJlcyk7XG5cdFx0fSk7XG5cdH1cblxuXHRnZXRMb2dpblVzZXIoKSB7XG5cdFx0cmV0dXJuIHRoaXMuY2hhbm5lbGl6ZS5nZXRMb2dpblVzZXIoKTtcblx0fVxuXG5cdGNvbm5lY3QodXNlcklkLCBhY2Nlc3NUb2tlbiwgY2IpIHtcblx0XHR0aGlzLmNoYW5uZWxpemUuY29ubmVjdCh1c2VySWQsIGFjY2Vzc1Rva2VuLCBmdW5jdGlvbiAoZXJyLCByZXMpIHtcblx0XHRcdGlmKGVycikgcmV0dXJuIGNiKGVycik7XG5cblx0XHRcdHJldHVybiBjYihudWxsLCByZXMpO1xuXHRcdH0pO1xuXHR9XG5cblx0ZGlzY29ubmVjdChkZXZpY2VJZCwgY2IpIHtcblx0XHR0aGlzLmNoYW5uZWxpemUuZGlzY29ubmVjdChkZXZpY2VJZCwgZnVuY3Rpb24gKGVyciwgcmVzKSB7XG5cdFx0XHRpZihlcnIpIHJldHVybiBjYihlcnIpO1xuXG5cdFx0XHRyZXR1cm4gY2IobnVsbCwgcmVzKVxuXHRcdH0pO1xuXHR9XG5cblx0Y3JlYXRlVXNlcihuYW1lLCBlbWFpbCwgcGFzc3dvcmQsIGNiKSB7XG5cdFx0bGV0IGRhdGEgPSB7XG5cdFx0XHRkaXNwbGF5TmFtZSA6IG5hbWUsXG5cdFx0XHRlbWFpbCA6IGVtYWlsLFxuXHRcdFx0cGFzc3dvcmQgOiBwYXNzd29yZFxuXHRcdH1cblx0XHR0aGlzLmNoYW5uZWxpemUuVXNlci5jcmVhdGVVc2VyKGRhdGEsIGZ1bmN0aW9uIChlcnIsIHVzZXIpIHtcblx0XHRcdGlmKGVycikgcmV0dXJuIGNiKGVycik7XG5cblx0XHRcdHJldHVybiBjYihudWxsLCB1c2VyKTtcblx0XHR9KTtcblx0fVxuXG5cdGdldFVzZXIodXNlcklkLCBjYikge1xuXHRcdHRoaXMuY2hhbm5lbGl6ZS5Vc2VyLmdldCh1c2VySWQsIGZ1bmN0aW9uIChlcnIsIHVzZXIpIHtcblx0XHRcdGlmKGVycikgcmV0dXJuIGNiKGVycik7XG5cblx0XHRcdHJldHVybiBjYihudWxsLCB1c2VyKTtcblx0XHR9KTtcblx0fVxuXG5cdGdldENvbnZlcnNhdGlvbnNMaXN0KGxpbWl0LCBza2lwLCBtZW1iZXJJZHMsIGluY2x1ZGUsIGNvbnZJZHMsIGNvbnZUeXBlLCBzZWFyY2gsIGlzR3JvdXAsIGN1c3RvbVR5cGVzLCBjYikge1xuXHRcdGxldCBjb252ZXJzYXRpb25MaXN0UXVlcnkgPSB0aGlzLmNoYW5uZWxpemUuQ29udmVyc2F0aW9uLmNyZWF0ZUNvbnZlcnNhdGlvbkxpc3RRdWVyeSgpO1xuXHRcdGNvbnZlcnNhdGlvbkxpc3RRdWVyeS5saW1pdCA9IGxpbWl0O1xuXHRcdGNvbnZlcnNhdGlvbkxpc3RRdWVyeS5za2lwID0gc2tpcDtcblx0XHRjb252ZXJzYXRpb25MaXN0UXVlcnkuaW5jbHVkZSA9IGluY2x1ZGU7XG5cdFx0Y29udmVyc2F0aW9uTGlzdFF1ZXJ5LmlkcyA9IGNvbnZJZHM7XG5cdFx0Y29udmVyc2F0aW9uTGlzdFF1ZXJ5LnR5cGUgPSBjb252VHlwZTtcblx0XHRjb252ZXJzYXRpb25MaXN0UXVlcnkuc2VhcmNoID0gc2VhcmNoO1xuXHRcdGNvbnZlcnNhdGlvbkxpc3RRdWVyeS5pc0dyb3VwID0gaXNHcm91cDtcblx0XHRjb252ZXJzYXRpb25MaXN0UXVlcnkuY3VzdG9tVHlwZXMgPSBjdXN0b21UeXBlcztcblxuXHRcdGlmKG1lbWJlcklkcylcblx0XHRcdGNvbnZlcnNhdGlvbkxpc3RRdWVyeS5tZW1iZXJzRXhhY3RseSA9IG1lbWJlcklkcztcblxuXHRcdGNvbnZlcnNhdGlvbkxpc3RRdWVyeS5saXN0KGZ1bmN0aW9uIChlcnIsIGNvbnZlcnNhdGlvbnMpIHtcblx0XHRcdGlmKGVycikgcmV0dXJuIGNiKGVycik7XG5cblx0XHRcdGNiKG51bGwsIGNvbnZlcnNhdGlvbnMpO1xuXHRcdH0pO1xuXHR9XG5cblx0Z2V0Q29udmVyc2F0aW9uKGNvbnZlcnNhdGlvbklkLCBjYikge1xuXHRcdHRoaXMuY2hhbm5lbGl6ZS5Db252ZXJzYXRpb24uZ2V0Q29udmVyc2F0aW9uKGNvbnZlcnNhdGlvbklkLCBcIm1lbWJlcnNcIiwgZnVuY3Rpb24gKGVyciwgY29udmVyc2F0aW9uKSB7XG5cdFx0XHRpZihlcnIpIHJldHVybiBjYihlcnIpO1xuXG5cdFx0XHRyZXR1cm4gY2IobnVsbCwgY29udmVyc2F0aW9uKTtcblx0XHR9KTtcblx0fVxuXG5cdGNyZWF0ZUNvbnZlcnNhdGlvbihkYXRhLCBjYikge1xuXHRcdHRoaXMuY2hhbm5lbGl6ZS5Db252ZXJzYXRpb24uY3JlYXRlQ29udmVyc2F0aW9uKGRhdGEsIGZ1bmN0aW9uIChlcnIsIGNvbnZlcnNhdGlvbikge1xuXHRcdFx0aWYoZXJyKSByZXR1cm4gY2IoZXJyKTtcblxuXHRcdFx0cmV0dXJuIGNiKG51bGwsIGNvbnZlcnNhdGlvbik7XG5cdFx0fSk7XG5cdH1cblxuXHRhZGRNZW1iZXIoY29udmVyc2F0aW9uLCBtZW1iZXJJZHMsIGNiKSB7XG5cdCAgICBjb252ZXJzYXRpb24uYWRkTWVtYmVycyhtZW1iZXJJZHMsIGZ1bmN0aW9uIChlcnIsIHJlcykge1xuXHQgICAgXHRpZiAoZXJyKSByZXR1cm4gY2IoZXJyKTtcblxuXHQgICAgXHRyZXR1cm4gY2IobnVsbCwgcmVzKTtcblx0ICAgIH0pO1xuXHR9XG5cblx0cmVtb3ZlTWVtYmVyKGNvbnZlcnNhdGlvbiwgbWVtYmVySWRzLCBjYikge1xuXHQgICAgY29udmVyc2F0aW9uLnJlbW92ZU1lbWJlcnMobWVtYmVySWRzLCBmdW5jdGlvbiAoZXJyLCByZXMpIHtcblx0ICAgIFx0aWYgKGVycikgcmV0dXJuIGNiKGVycik7XG5cblx0ICAgIFx0cmV0dXJuIGNiKG51bGwsIHJlcyk7XG5cdCAgICB9KTtcblx0fVxuXG5cdGJsb2NrTWVtYmVyKHVzZXJJZCwgY2IpIHtcblx0XHR0aGlzLmNoYW5uZWxpemUuVXNlci5ibG9jayh1c2VySWQsIGZ1bmN0aW9uIChlcnIsIHJlcykge1xuXHRcdFx0aWYgKGVycikgcmV0dXJuIGNiKGVycik7XG5cblx0ICAgIFx0cmV0dXJuIGNiKG51bGwsIHJlcyk7XG5cdCAgICB9KTtcblx0fVxuXG5cdHVuYmxvY2tNZW1iZXIodXNlcklkLCBjYikge1xuXHRcdHRoaXMuY2hhbm5lbGl6ZS5Vc2VyLnVuYmxvY2sodXNlcklkLCBmdW5jdGlvbiAoZXJyLCByZXMpIHtcblx0XHRcdGlmIChlcnIpIHJldHVybiBjYihlcnIpO1xuXG5cdCAgICBcdHJldHVybiBjYihudWxsLCByZXMpO1xuXHQgICAgfSk7XG5cdH1cblxuXHRjbGVhckNvbnZlcnNhdGlvbihjb252ZXJzYXRpb24sIGNiKSB7XG5cdCAgICBjb252ZXJzYXRpb24uY2xlYXIoZnVuY3Rpb24gKGVyciwgcmVzKSB7XG5cdCAgICBcdGlmIChlcnIpIHJldHVybiBjYihlcnIpO1xuXG5cdCAgICBcdHJldHVybiBjYihudWxsLCByZXMpO1xuXHQgICAgfSk7XG5cdH1cblxuXHRsZWF2ZUNvbnZlcnNhdGlvbihjb252ZXJzYXRpb24sIGNiKSB7XG5cdCAgICBjb252ZXJzYXRpb24ubGVhdmUoZnVuY3Rpb24gKGVyciwgcmVzKSB7XG5cdCAgICBcdGlmIChlcnIpIHJldHVybiBjYihlcnIpO1xuXG5cdCAgICBcdHJldHVybiBjYihudWxsLCByZXMpO1xuXHQgICAgfSk7XG5cdH1cblxuXHRtdXRlQ29udmVyc2F0aW9uKGNvbnZlcnNhdGlvbiwgY2IpIHtcblx0XHRjb252ZXJzYXRpb24ubXV0ZUNvbnZlcnNhdGlvbihmdW5jdGlvbiAoZXJyLCByZXMpIHtcblx0XHRcdGlmIChlcnIpIHJldHVybiBjYihlcnIpO1xuXG4gICAgXHRyZXR1cm4gY2IobnVsbCwgcmVzKTtcblx0XHR9KTtcblx0fVxuXG5cdHVubXV0ZUNvbnZlcnNhdGlvbihjb252ZXJzYXRpb24sIGNiKSB7XG5cdFx0Y29udmVyc2F0aW9uLnVubXV0ZUNvbnZlcnNhdGlvbihmdW5jdGlvbiAoZXJyLCByZXMpIHtcblx0XHRcdGlmIChlcnIpIHJldHVybiBjYihlcnIpO1xuXG4gICAgXHRyZXR1cm4gY2IobnVsbCwgcmVzKTtcblx0XHR9KTtcblx0fVxuXG5cdGRlbGV0ZUNvbnZlcnNhdGlvbihjb252ZXJzYXRpb24sIGNiKSB7XG5cdCAgICBjb252ZXJzYXRpb24uZGVsZXRlKGZ1bmN0aW9uIChlcnIsIHJlcykge1xuXHQgICAgXHRpZiAoZXJyKSByZXR1cm4gY2IoZXJyKTtcblxuXHQgICAgXHRyZXR1cm4gY2IobnVsbCwgcmVzKTtcblx0ICAgIH0pO1xuXHR9XG5cblx0bWFya0FzUmVhZENvbnZlcnNhdGlvbihjb252ZXJzYXRpb24sIHRpbWVzdGFtcCwgY2IpIHtcblx0ICAgIGNvbnZlcnNhdGlvbi5tYXJrQXNSZWFkKHRpbWVzdGFtcCwgZnVuY3Rpb24gKGVyciwgcmVzKSB7XG5cdCAgICBcdGlmIChlcnIpIHJldHVybiBjYihlcnIpO1xuXG5cdCAgICBcdHJldHVybiBjYihudWxsLCByZXMpO1xuXHQgICAgfSk7XG5cdH1cblxuXHRhc3luYyBzZW5kTWVzc2FnZShjb252ZXJzYXRpb24sIGRhdGEsIGNiKSB7XG5cdCAgICBjb252ZXJzYXRpb24uc2VuZE1lc3NhZ2UoZGF0YSwgZnVuY3Rpb24gKGVyciwgcmVzKSB7XG5cdCAgICBcdGlmIChlcnIpIHJldHVybiBjYihlcnIpO1xuXG5cdCAgICBcdHJldHVybiBjYihudWxsLCByZXMpO1xuXHQgICAgfSk7XG5cdH1cblxuXHRhc3luYyBzZW5kTWVzc2FnZVRvVXNlcihkYXRhLCBjYikge1xuXHQgICAgdGhpcy5jaGFubmVsaXplLk1lc3NhZ2Uuc2VuZE1lc3NhZ2UoZGF0YSwgZnVuY3Rpb24gKGVyciwgbWVzc2FnZSkge1xuXHQgICAgXHRpZiAoZXJyKSByZXR1cm4gY2IoZXJyKTtcblxuXHQgICAgXHRyZXR1cm4gY2IobnVsbCwgbWVzc2FnZSk7XG5cdCAgICB9KTtcblx0fVxuXG5cdGFzeW5jIHVwbG9hZEZpbGUoZmlsZSwgY3JlYXRlVGh1bWJuYWlsLCBjYikge1xuXHQgICAgdGhpcy5jaGFubmVsaXplLk1lc3NhZ2UudXBsb2FkRmlsZShmaWxlLCBjcmVhdGVUaHVtYm5haWwsIGZ1bmN0aW9uKGVyciwgbWVzc2FnZSkge1xuXHQgICAgXHRpZiAoZXJyKSByZXR1cm4gY2IoZXJyKTtcblxuXHQgICAgXHRyZXR1cm4gY2IobnVsbCwgbWVzc2FnZSk7XG5cdCAgICB9KTtcblx0fVxuXG5cdGdldENvbnZlcnNhdGlvbk1lbWJlcnMoY29udmVyc2F0aW9uLCBjYikge1xuXHQgICAgY29udmVyc2F0aW9uLmdldE1lbWJlcnMoZnVuY3Rpb24oZXJyLCBtZW1iZXJzKSB7XG5cdCAgICBcdGlmIChlcnIpIHJldHVybiBjYihlcnIpO1xuXG5cdCAgICBcdHJldHVybiBjYihudWxsLCBtZXNzYWdlKTtcblx0ICAgIH0pO1xuXHR9XG5cblx0Z2V0TWVzc2FnZVJlYWRNZW1iZXJzKGNvbnZlcnNhdGlvbiwgbWVzc2FnZSkge1xuXHQgICAgcmV0dXJuIGNvbnZlcnNhdGlvbi5nZXRSZWFkTWVtYmVycyhtZXNzYWdlKTtcblx0fVxuXG5cdHJlYWRCeUFsbE1lbWJlcnMoY29udmVyc2F0aW9uLCBtZXNzYWdlKSB7XG5cdCAgICByZXR1cm4gY29udmVyc2F0aW9uLnJlYWRCeUFsbE1lbWJlcnMobWVzc2FnZSk7XG5cdH1cblxuXHRnZXRNZXNzYWdlcyhjb252ZXJzYXRpb24sIGxpbWl0LCBza2lwLCBpZHMsIHR5cGVzLCBhdHRhY2htZW50VHlwZXMsIG93bmVySWRzLCBjYikge1xuXHRcdGxldCBtZXNzYWdlTGlzdFF1ZXJ5ID0gY29udmVyc2F0aW9uLmNyZWF0ZU1lc3NhZ2VMaXN0UXVlcnkoKTtcblx0XHRtZXNzYWdlTGlzdFF1ZXJ5LnNvcnQgPSAnY3JlYXRlZEF0IERFU0MnO1xuXHRcdG1lc3NhZ2VMaXN0UXVlcnkubGltaXQgPSBsaW1pdCA/IGxpbWl0IDogNTA7XG5cdFx0bWVzc2FnZUxpc3RRdWVyeS5za2lwID0gc2tpcDtcblx0XHRtZXNzYWdlTGlzdFF1ZXJ5LmlkcyA9IGlkcztcblx0XHRtZXNzYWdlTGlzdFF1ZXJ5LnR5cGVzID0gdHlwZXM7XG5cdFx0bWVzc2FnZUxpc3RRdWVyeS5hdHRhY2htZW50VHlwZXMgPSBhdHRhY2htZW50VHlwZXM7XG5cdFx0bWVzc2FnZUxpc3RRdWVyeS5vd25lcklkcyA9IG93bmVySWRzO1xuXG5cdFx0bWVzc2FnZUxpc3RRdWVyeS5saXN0KGZ1bmN0aW9uIChlcnIsIG1lc3NhZ2VzKSB7XG5cdFx0XHRpZiAoZXJyKSByZXR1cm4gY2IoZXJyKTtcblxuXHRcdFx0cmV0dXJuIGNiKG51bGwsIG1lc3NhZ2VzKTtcblx0XHR9KTtcblx0fVxuXG5cdGRlbGV0ZU1lc3NhZ2VzRm9yTWUobWVzc2FnZUlkcywgY2IpIHtcblx0XHR0aGlzLmNoYW5uZWxpemUuTWVzc2FnZS5kZWxldGVNZXNzYWdlc0Zvck1lKG1lc3NhZ2VJZHMsIGZ1bmN0aW9uIChlcnIsIHJlcykge1xuXHRcdFx0aWYoZXJyKSByZXR1cm4gY2IoZXJyKTtcblxuXHRcdFx0cmV0dXJuIGNiKG51bGwsIHJlcyk7XG5cdFx0fSk7XG5cdH1cblxuXHRkZWxldGVNZXNzYWdlc0ZvckV2ZXJ5b25lKG1lc3NhZ2VJZHMsIGNiKSB7XG5cdFx0dGhpcy5jaGFubmVsaXplLk1lc3NhZ2UuZGVsZXRlTWVzc2FnZXNGb3JFdmVyeW9uZShtZXNzYWdlSWRzLCBmdW5jdGlvbiAoZXJyLCByZXMpIHtcblx0XHRcdGlmKGVycikgcmV0dXJuIGNiKGVycik7XG5cblx0XHRcdHJldHVybiBjYihudWxsLCByZXMpO1xuXHRcdH0pO1xuXHR9XG5cblx0YWRkRnJpZW5kKHVzZXJJZCwgdHlwZSwgY2IpIHtcblx0XHR0aGlzLmNoYW5uZWxpemUuVXNlci5hZGRGcmllbmQodXNlcklkLCB0eXBlLCBmdW5jdGlvbiAoZXJyLCByZXMpIHtcblx0XHRcdGlmKGVycikgcmV0dXJuIGNiKGVycik7XG5cblx0XHRcdHJldHVybiBjYihudWxsLCByZXMpO1xuXHRcdH0pO1xuXHR9XG5cblx0Z2V0RnJpZW5kcyhzZWFyY2hUZXJtLCBsaW1pdCwgc2tpcCwgaXNPbmxpbmUsIGluY2x1ZGVCbG9ja2VkLCBjYikge1xuXHRcdGxldCB1c2VyTGlzdFF1ZXJ5ID0gdGhpcy5jaGFubmVsaXplLlVzZXIuY3JlYXRlVXNlckxpc3RRdWVyeSgpO1xuXHRcdHVzZXJMaXN0UXVlcnkuc2VhcmNoID0gc2VhcmNoVGVybTtcblx0XHR1c2VyTGlzdFF1ZXJ5LmxpbWl0ID0gbGltaXQ7XG5cdFx0dXNlckxpc3RRdWVyeS5za2lwID0gc2tpcDtcblx0XHR1c2VyTGlzdFF1ZXJ5LnNvcnQgPSBcImRpc3BsYXlOYW1lIEFTQ1wiO1xuXHRcdHVzZXJMaXN0UXVlcnkuaXNPbmxpbmUgPSBpc09ubGluZTtcblx0XHR1c2VyTGlzdFF1ZXJ5LmluY2x1ZGVCbG9ja2VkID0gaW5jbHVkZUJsb2NrZWQ7XG5cblx0XHR1c2VyTGlzdFF1ZXJ5LmZyaWVuZHNMaXN0KGZ1bmN0aW9uIChlcnIsIHVzZXJzKSB7XG5cdFx0XHRpZihlcnIpIHJldHVybiBjYihlcnIpO1xuXG5cdFx0XHRyZXR1cm4gY2IobnVsbCwgdXNlcnMpO1xuXHRcdH0pO1xuXHR9XG5cblx0Z2V0QWxsVXNlcnMoc2VhcmNoVmFsdWUsIGxpbWl0LCBza2lwLCByb2xlLCBpbmNsdWRlRGVsZXRlZCwgY2IpIHtcblx0XHRsZXQgdXNlckxpc3RRdWVyeSA9IHRoaXMuY2hhbm5lbGl6ZS5Vc2VyLmNyZWF0ZVVzZXJMaXN0UXVlcnkoKTtcblx0XHR1c2VyTGlzdFF1ZXJ5LnNlYXJjaCA9IHNlYXJjaFZhbHVlO1xuXHRcdHVzZXJMaXN0UXVlcnkubGltaXQgPSBsaW1pdDtcblx0XHR1c2VyTGlzdFF1ZXJ5LnNraXAgPSBza2lwO1xuXHRcdHVzZXJMaXN0UXVlcnkucm9sZSA9IHJvbGU7XG5cdFx0dXNlckxpc3RRdWVyeS5pbmNsdWRlRGVsZXRlZCA9IGluY2x1ZGVEZWxldGVkO1xuXG5cdFx0dXNlckxpc3RRdWVyeS51c2Vyc0xpc3QoZnVuY3Rpb24gKGVyciwgdXNlcnMpIHtcblx0XHRcdGlmKGVycikgcmV0dXJuIGNiKGVycik7XG5cblx0XHRcdHJldHVybiBjYihudWxsLCB1c2Vycyk7XG5cdFx0fSk7XG5cdH1cbn1cblxuZXhwb3J0IHsgQ2hhbm5lbGl6ZUFkYXB0ZXIgYXMgZGVmYXVsdCB9OyIsImNsYXNzIFV0aWxpdHkge1xuXHRjb25zdHJ1Y3RvcigpIHt9XG5cblx0Y3JlYXRlRWxlbWVudCh0YWdOYW1lLCBhdHRyaWJ1dGVzID0gbnVsbCwgZGF0YSA9IG51bGwsIHBhcmVudFRhZyA9IG51bGwpIHtcblx0XHRsZXQgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnTmFtZSk7XG4gICAgICAgIGlmKGRhdGEpXG4gICAgICAgICAgICBlbGVtZW50LmlubmVySFRNTCA9IGRhdGE7XG4gICAgICAgIFxuICAgICAgICBpZihwYXJlbnRUYWcpXG4gICAgICAgICAgICBwYXJlbnRUYWcuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG5cblx0XHRpZihhdHRyaWJ1dGVzICYmIEFycmF5LmlzQXJyYXkoYXR0cmlidXRlcykpIHtcblx0XHRcdGF0dHJpYnV0ZXMuZm9yRWFjaChhdHRyaWJ1dGUgPT4ge1xuXHRcdFx0XHRsZXQga2V5cyA9IE9iamVjdC5rZXlzKGF0dHJpYnV0ZSk7XG5cdFx0XHRcdGxldCB2YWx1ZXMgPSBPYmplY3QudmFsdWVzKGF0dHJpYnV0ZSk7XG5cdFx0XHRcdGVsZW1lbnQuc2V0QXR0cmlidXRlKGtleXNbMF0sIHZhbHVlc1swXSk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0cmV0dXJuIGVsZW1lbnQ7XG5cdH1cblxuXHR1cGRhdGVUaW1lRm9ybWF0KHRpbWUpIHtcbiAgICAgIFx0Y29uc3QgbW9udGhzID0gW1wiSmFuXCIsXCJGZWJcIixcIk1hclwiLFwiQXByXCIsXCJNYXlcIixcIkp1blwiLFwiSnVsXCIsXCJBdWdcIixcIlNlcFwiLFwiT2N0XCIsXCJOb3ZcIixcIkRlY1wiXTtcblxuICAgICAgICB2YXIgX2dldERheSA9IHZhbCA9PiB7XG4gICAgICAgICAgICBsZXQgZGF5ID0gcGFyc2VJbnQodmFsKTtcbiAgICAgICAgICAgIGlmIChkYXkgPT0gMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBkYXkgKyBcInN0XCI7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRheSA9PSAyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRheSArIFwibmRcIjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF5ID09IDMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF5ICsgXCJyZFwiO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF5ICsgXCJ0aFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBfY2hlY2tUaW1lID0gdmFsID0+IHtcbiAgICAgICAgICAgIHJldHVybiArdmFsIDwgMTAgPyBcIjBcIiArIHZhbCA6IHZhbDtcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAodGltZSkge1xuICAgICAgICAgICAgY29uc3QgTEFTVF9NRVNTQUdFX1lFU1RFUkRBWSA9IFwiWWVzdGVyZGF5XCI7XG4gICAgICAgICAgICB2YXIgX25vd0RhdGUgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgdmFyIF9kYXRlID0gbmV3IERhdGUodGltZSk7XG4gICAgICAgICAgICBpZiAoX25vd0RhdGUuZ2V0RGF0ZSgpIC0gX2RhdGUuZ2V0RGF0ZSgpID09IDEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gTEFTVF9NRVNTQUdFX1lFU1RFUkRBWTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgX25vd0RhdGUuZ2V0RnVsbFllYXIoKSA9PSBfZGF0ZS5nZXRGdWxsWWVhcigpICYmXG4gICAgICAgICAgICAgICAgX25vd0RhdGUuZ2V0TW9udGgoKSA9PSBfZGF0ZS5nZXRNb250aCgpICYmXG4gICAgICAgICAgICAgICAgX25vd0RhdGUuZ2V0RGF0ZSgpID09IF9kYXRlLmdldERhdGUoKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgX2NoZWNrVGltZShfZGF0ZS5nZXRIb3VycygpKSArIFwiOlwiICsgX2NoZWNrVGltZShfZGF0ZS5nZXRNaW51dGVzKCkpXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1vbnRoc1tfZGF0ZS5nZXRNb250aCgpXSArIFwiIFwiICsgX2dldERheShfZGF0ZS5nZXREYXRlKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBcIlwiO1xuICAgIH1cblxuICAgIHNob3dXYXJuaW5nTXNnKHRleHQpIHtcbiAgICAgICAgLy8gQ3JlYXRlIHNuYWNrYmFyIGZvciB3YXJuaW5nc1xuICAgICAgICBsZXQgd2luZG93RGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaF9mcmFtZVwiKTtcbiAgICAgICAgbGV0IHNuYWNrYmFyQXR0cmlidXRlcyA9IFt7XCJpZFwiOlwiY2hfc25hY2tiYXJcIn1dO1xuICAgICAgICB0aGlzLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgc25hY2tiYXJBdHRyaWJ1dGVzLCBudWxsLCB3aW5kb3dEaXYpO1xuXG4gICAgICAgIC8vIFNob3cgc2l6ZSBsaW1pdCBleGNlZWQgbWVzc2FnZVxuICAgICAgICBsZXQgc25hY2tiYXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoX3NuYWNrYmFyXCIpO1xuICAgICAgICBzbmFja2Jhci5pbm5lclRleHQgPSB0ZXh0O1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc25hY2tiYXIucmVtb3ZlKCk7XG4gICAgICAgIH0sIDMwMDApO1xuICAgIH1cbn1cblxuZXhwb3J0IHsgVXRpbGl0eSBhcyBkZWZhdWx0IH07IiwiZXhwb3J0IGNvbnN0IExBTkdVQUdFX1BIUkFTRVMgPSB7XG5cdENIQVQgOiBcIkNoYXRcIixcblx0Q0xPU0UgOiBcIkNsb3NlXCIsXG5cdE9OTElORSA6IFwiT25saW5lXCIsXG5cdE5PX0NPTlZfRk9VTkQgOiBcIk5vIGNvbnZlcnNhdGlvbnMgZm91bmQhXCIsXG5cdE5PX01FU1NBR0VTX0ZPVU5EIDogXCJObyBtZXNzYWdlcyBmb3VuZCFcIixcblx0REVMRVRFRF9NRU1CRVIgOiBcIkRlbGV0ZWQgTWVtYmVyXCIsXG5cdE1FU1NBR0VfREVMRVRFRCA6IFwiVGhpcyBtZXNzYWdlIHdhcyBkZWxldGVkXCIsXG5cdExBU1RfU0VFTiA6IFwiTGFzdCBTZWVuIFwiLFxuXHRNVVRFX0NPTlYgOiBcIk11dGUgQ29udmVyc2F0aW9uXCIsXG5cdENMRUFSX0NPTlYgOiBcIkNsZWFyIENvbnZlcnNhdGlvblwiLFxuXHRERUxFVEVfQ09OViA6IFwiRGVsZXRlIENvbnZlcnNhdGlvblwiLFxuXHRCTE9DS19VU0VSIDogXCJCbG9jayBVc2VyXCIsXG5cdFVOQkxPQ0tfVVNFUiA6IFwiVW5ibG9jayBVc2VyXCIsXG5cdFNFTkRfTUVTU0FHRSA6IFwiU2VuZCBhIG1lc3NhZ2VcIixcblx0REVMRVRFIDogXCJEZWxldGVcIixcblx0SU1BR0UgOiBcIkltYWdlXCIsXG5cdEFVRElPIDogXCJBdWRpb1wiLFxuXHRWSURFTyA6IFwiVmlkZW9cIixcblx0TE9DQVRJT04gOiBcIkxvY2F0aW9uXCIsXG5cdFNUSUNLRVIgOiBcIlN0aWNrZXJcIixcblx0R0lGIDogXCJHSUZcIixcblx0QVRUQUNITUVOVCA6IFwiQXR0YWNobWVudFwiLFxuXHRTRU5EX0FUVEFDSE1FTlRTIDogXCJTZW5kIEF0dGFjaG1lbnRzXCIsXG5cdE1FTUJFUlMgOiBcIk1lbWJlcnNcIixcblx0RklMRV9TSVpFX1dBUk5JTkcgOiBcIkZpbGUgc2l6ZSBzaG91bGQgYmUgbGVzcyB0aGVuIDI1bWJcIixcblx0U0VBUkNIIDogXCJTZWFyY2hcIixcblx0U0VBUkNIX01FTUJFUlMgOiBcIlNlYXJjaCBNZW1iZXJzXCIsXG5cdFNVR0dFU1RFRCA6IFwiU3VnZ2VzdGVkXCIsXG5cdE1PUkVfVVNFUlMgOiBcIk1vcmUgVXNlcnNcIixcblx0TE9HSU4gOiBcIkxvZ2luXCIsXG5cdExPR09VVCA6IFwiTG9nb3V0XCIsXG5cdE5BTUUgOiBcIk5hbWVcIixcblx0U1RBUlQgOiBcIlN0YXJ0XCIsXG5cdExPR0lOX1dJVEhfVEVTVF9VU0VSUyA6IFwiT1IgTG9naW4gd2l0aCBUZXN0IHVzZXJzXCIsXG5cdEVOVEVSX05BTUUgOiBcIlBsZWFzZSBlbnRlciBhIG5hbWVcIixcblx0VVNFUl9FWElTVCA6IFwiVXNlciBhbHJlYWR5IGV4aXN0IHdpdGggdGhpcyB1c2VybmFtZVwiLFxuXHRERUxFVEVfRk9SX01FIDogXCJEZWxldGUgZm9yIG1lXCIsXG5cdERFTEVURV9GT1JfRVZFUllPTkUgOiBcIkRlbGV0ZSBmb3IgZXZlcnlvbmVcIixcblx0R1JPVVBfQ1JFQVRFRCA6IFwiR3JvdXAgY3JlYXRlZFwiLFxuXHRHUk9VUF9QSE9UT19DSEFOR0VEIDogXCJHcm91cCBwaG90byB1cGRhdGVkXCIsXG5cdEdST1VQX1RJVExFX0NIQU5HRUQgOiBcIkdyb3VwIHRpdGxlIHVwZGF0ZWRcIixcblx0R1JPVVBfTUVNQkVSX0FEREVEIDogXCJOZXcgbWVtYmVyIGFkZGVkIGluIGdyb3VwXCIsXG5cdEdST1VQX01FTUJFUl9SRU1PVkVEIDogXCJPbmUgbWVtYmVyIHJlbW92ZWQgZnJvbSBncm91cFwiLFxuXHRHUk9VUF9BRE1JTl9VUERBVEVEIDogXCJHcm91cCBhZG1pbiB1cGRhdGVkXCIsXG5cdENPTlZFUlNBVElPTl9OT1RfRk9VTkQgOiBcIkNvbnZlcnNhdGlvbiBub3QgZm9uZFwiXG59XG5cbmV4cG9ydCBjb25zdCBJTUFHRVMgPSB7XG5cdExBVU5DSEVSX0lDT04gOiBcImh0dHBzOi8vY2RuLmNoYW5uZWxpemUuaW8vYXBwcy93ZWItd2lkZ2V0LzEuMC4wL2ltYWdlcy9sYXVuY2hlci1pY29uLnN2Z1wiLFxuXHRBTk5BX1NNSVRIIDogXCJodHRwczovL2Nkbi5jaGFubmVsaXplLmlvL2FwcHMvd2ViLXdpZGdldC8xLjAuMC9pbWFnZXMvYW5uYS1zbWl0aC5qcGdcIixcblx0S0FUUklOQV9DSEFSTEVZIDogXCJodHRwczovL2Nkbi5jaGFubmVsaXplLmlvL2FwcHMvd2ViLXdpZGdldC8xLjAuMC9pbWFnZXMva2F0cmluYS1jaGFybGV5LnBuZ1wiLFxuXHROQVRBTElFX0lWQU5PVklDIDogXCJodHRwczovL2Nkbi5jaGFubmVsaXplLmlvL2FwcHMvd2ViLXdpZGdldC8xLjAuMC9pbWFnZXMvbmF0YWxpZS1pdmFub3ZpYy5qcGVnXCIsXG5cdEVSSUNfQU5EUkVXUyA6IFwiaHR0cHM6Ly9jZG4uY2hhbm5lbGl6ZS5pby9hcHBzL3dlYi13aWRnZXQvMS4wLjAvaW1hZ2VzL2VyaWMtYW5kcmV3cy5qcGVnXCIsXG5cdEdBTExFUllfSUNPTiA6IFwiaHR0cHM6L2Nkbi5jaGFubmVsaXplLmlvL2FwcHMvd2ViLXdpZGdldC8xLjAuMC9pbWFnZXMvZ2FsbGVyeS5wbmdcIixcblx0QVVESU9fSUNPTiA6IFwiaHR0cHM6Ly9jZG4uY2hhbm5lbGl6ZS5pby9hcHBzL3dlYi13aWRnZXQvMS4wLjAvaW1hZ2VzL2F1ZGlvLnBuZ1wiLFxuXHRWSURFT19JQ09OIDogXCJodHRwczovL2Nkbi5jaGFubmVsaXplLmlvL2FwcHMvd2ViLXdpZGdldC8xLjAuMC9pbWFnZXMvdmlkZW8uc3ZnXCIsXG5cdExPQ0FUSU9OX0lDT04gOiBcImh0dHBzOi8vY2RuLmNoYW5uZWxpemUuaW8vYXBwcy93ZWItd2lkZ2V0LzEuMC4wL2ltYWdlcy9sb2NhdGlvbi5zdmdcIixcblx0U1RJQ0tFUl9JQ09OIDogXCJodHRwczovL2Nkbi5jaGFubmVsaXplLmlvL2FwcHMvd2ViLXdpZGdldC8xLjAuMC9pbWFnZXMvc3RpY2tlci5wbmdcIixcblx0R0lGX0lDT04gOiBcImh0dHBzOi8vY2RuLmNoYW5uZWxpemUuaW8vYXBwcy93ZWItd2lkZ2V0LzEuMC4wL2ltYWdlcy9naWYucG5nXCIsXG5cdEFWVEFSIDogXCJodHRwczovL2Nkbi5jaGFubmVsaXplLmlvL2FwcHMvd2ViLXdpZGdldC8xLjAuMC9pbWFnZXMvYXZ0YXIucG5nXCIsXG5cdEdST1VQIDogXCJodHRwczovL2Nkbi5jaGFubmVsaXplLmlvL2FwcHMvd2ViLXdpZGdldC8xLjAuMC9pbWFnZXMvZ3JvdXAucG5nXCIsXG5cdE1FU1NBR0VfTE9BREVSIDogXCJodHRwczovL2Nkbi5jaGFubmVsaXplLmlvL2FwcHMvd2ViLXdpZGdldC8xLjAuMC9pbWFnZXMvaW1hZ2UtbG9hZGVyLmdpZlwiXG59XG5cbmV4cG9ydCBjb25zdCBTRVRUSU5HUyA9IHtcblx0TE9DQVRJT05fQVBJX0tFWSA6IFwiQUl6YVN5QnpyTDhGYVV2bVlQSXhFVWRfVlRQcHFjQUN0UGRuaWlrXCIsXG5cdExPQ0FUSU9OX0lNR19VUkwgOiBcImh0dHBzOi8vbWFwcy5nb29nbGVhcGlzLmNvbS9tYXBzL2FwaS9zdGF0aWNtYXBcIlxufSIsImltcG9ydCBVdGlsaXR5IGZyb20gXCIuLi91dGlsaXR5LmpzXCI7XG5pbXBvcnQgeyBMQU5HVUFHRV9QSFJBU0VTLCBJTUFHRVMsIFNFVFRJTkdTIH0gZnJvbSBcIi4uL2NvbnN0YW50cy5qc1wiO1xuXG5jbGFzcyBDb252ZXJzYXRpb25XaW5kb3cge1xuXG5cdGNvbnN0cnVjdG9yKHdpZGdldCkge1xuXHRcdC8vIEluaXRpYWxpemUgZGVwZW5kZW5jaWVzXG5cdFx0dGhpcy5jaEFkYXB0ZXIgPSB3aWRnZXQuY2hBZGFwdGVyO1xuXHRcdHRoaXMud2lkZ2V0ID0gd2lkZ2V0O1xuXHRcdHRoaXMudXRpbGl0eSA9IG5ldyBVdGlsaXR5KCk7XG5cblx0XHR0aGlzLmxvYWRDb3VudCA9IDA7XG5cdFx0dGhpcy5saW1pdCA9IDI1O1xuXHRcdHRoaXMuc2tpcCA9IDA7XG5cdFx0dGhpcy5tZXNzYWdlcyA9IFtdO1xuXHR9XG5cblx0aW5pdChjb252ZXJzYXRpb24gPSBudWxsLCBkYXRhID0gbnVsbCkge1xuXHRcdGlmKCFjb252ZXJzYXRpb24gJiYgZGF0YSkge1xuXHRcdFx0dGhpcy5fY3JlYXRlRHVtbXlDb252ZXJzYXRpb24oZGF0YSk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dGhpcy5jb252ZXJzYXRpb24gPSB0aGlzLm1vZGlmeUNvbnZlcnNhdGlvbihjb252ZXJzYXRpb24pO1xuXHRcdHRoaXMuX29wZW5Db252ZXJzYXRpb25XaW5kb3codGhpcy5jb252ZXJzYXRpb24sIHRydWUpO1xuXHRcdHRoaXMuX3JlZ2lzdGVyQ2xpY2tFdmVudEhhbmRsZXJzKCk7XG5cdFx0dGhpcy5fbWFya0FzUmVhZCh0aGlzLmNvbnZlcnNhdGlvbik7XG5cdH1cblxuXHRfY3JlYXRlRHVtbXlDb252ZXJzYXRpb24obWVtYmVyKSB7XG5cdFx0bGV0IGR1bW15T2JqZWN0ID0ge1xuXHRcdFx0dXNlcklkOiBtZW1iZXIuaWQsXG5cdFx0XHRwcm9maWxlSW1hZ2VVcmw6IG1lbWJlci5wcm9maWxlSW1hZ2VVcmwgPyBtZW1iZXIucHJvZmlsZUltYWdlVXJsIDogSU1BR0VTLkFWVEFSLFxuXHRcdFx0dGl0bGU6IG1lbWJlci5kaXNwbGF5TmFtZSxcblx0XHRcdGlzR3JvdXA6IGZhbHNlLFxuXHRcdFx0aXNEdW1teU9iamVjdDogdHJ1ZVxuXHRcdH1cblxuXHRcdGlmKG1lbWJlci5pc09ubGluZSlcblx0XHRcdGR1bW15T2JqZWN0LnN0YXR1cyA9IFwib25saW5lXCI7XG5cdFx0ZWxzZSBpZighbWVtYmVyLmlzT25saW5lICYmIG1lbWJlci5sYXN0U2Vlbilcblx0XHRcdGR1bW15T2JqZWN0LnN0YXR1cyA9IExBTkdVQUdFX1BIUkFTRVMuTEFTVF9TRUVOICsgdGhpcy51dGlsaXR5LnVwZGF0ZVRpbWVGb3JtYXQobWVtYmVyLmxhc3RTZWVuKTtcblxuXHRcdHRoaXMuY29udmVyc2F0aW9uID0gZHVtbXlPYmplY3Q7XG5cdFx0dGhpcy5fb3BlbkNvbnZlcnNhdGlvbldpbmRvdyh0aGlzLmNvbnZlcnNhdGlvbiwgZmFsc2UpO1xuXHRcdHRoaXMuX3JlZ2lzdGVyQ2xpY2tFdmVudEhhbmRsZXJzKCk7XG5cdH1cblxuXHRfb3BlbkNvbnZlcnNhdGlvbldpbmRvdyhjb252ZXJzYXRpb24sIGxvYWRNZXNzYWdlcykge1xuXHRcdC8vIENyZWF0ZSBXaW5kb3cgZnJhbWVcblx0XHRsZXQgY2hGcmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hfZnJhbWVcIik7XG5cdFx0bGV0IHdpbmRvd0F0dHJpYnV0ZXMgPSBbe1wiaWRcIjpcImNoX2NvbnZfd2luZG93XCJ9LHtcImNsYXNzXCI6XCJjaC1jb252LXdpbmRvd1wifV07XG5cdFx0dmFyIHdpbmRvd0RpdiA9IHRoaXMudXRpbGl0eS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHdpbmRvd0F0dHJpYnV0ZXMsIG51bGwsIGNoRnJhbWUpO1xuXG5cdFx0Ly8gQ3JlYXRlIGhlYWRlclxuXHRcdGxldCBoZWFkZXJBdHRyaWJ1dGVzID0gW3tcImNsYXNzXCI6XCJjaC1oZWFkZXJcIn1dO1xuXHRcdGxldCBoZWFkZXIgPSB0aGlzLnV0aWxpdHkuY3JlYXRlRWxlbWVudChcImRpdlwiLCBoZWFkZXJBdHRyaWJ1dGVzLCBudWxsLCB3aW5kb3dEaXYpO1xuXG5cdFx0Ly8gQ3JlYXRlIGNvbnZlcnNhdGlvbiBpbWFnZXMgZGl2XG5cdFx0bGV0IGltZ0F0dHJpYnV0ZXMgPSBbe1wiY2xhc3NcIjpcImNoLWNvbnZlcnNhdGlvbi1pbWFnZVwifV07XG5cdFx0bGV0IG1lbWJlckltZyA9IHRoaXMudXRpbGl0eS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIGltZ0F0dHJpYnV0ZXMsIG51bGwsIGhlYWRlcik7XG5cdFx0bWVtYmVySW1nLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IFwidXJsKFwiICsgY29udmVyc2F0aW9uLnByb2ZpbGVJbWFnZVVybCArIFwiKVwiO1xuXG5cdFx0Ly8gQ3JlYXRlIGNvbnZlcnNhdGlvbiBkZXRhaWxzIHdyYXBwZXJcblx0XHRsZXQgZGV0YWlsc0F0dHJpYnV0ZXMgPSBbe1wiY2xhc3NcIjpcImNoLWNvbnYtZGV0YWlscy13cmFwcGVyXCJ9XTtcblx0XHRsZXQgZGV0YWlsc1dyYXBwZXIgPSB0aGlzLnV0aWxpdHkuY3JlYXRlRWxlbWVudChcImRpdlwiLCBkZXRhaWxzQXR0cmlidXRlcywgbnVsbCwgaGVhZGVyKTtcblxuXHRcdC8vIENyZWF0ZSBjb252ZXJzYXRpb24gaGVhZGVyIHRpdGxlXG5cdFx0bGV0IHRpdGxlQXR0cmlidXRlcyA9IFt7XCJjbGFzc1wiOlwiY2gtY29udi10aXRsZVwifV07XG5cdFx0dGhpcy51dGlsaXR5LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgdGl0bGVBdHRyaWJ1dGVzLCBjb252ZXJzYXRpb24udGl0bGUsIGRldGFpbHNXcmFwcGVyKTtcblxuXHRcdC8vIENyZWF0ZSBvcHRpb24gYnV0dG9uXG5cdFx0bGV0IG9wdGlvbkF0dHJpYnV0ZXMgPSBbe1wiaWRcIjpcImNoX2NvbnZfb3B0aW9uc1wifV07XG5cdFx0bGV0IG9wdGlvbkJ0biA9IHRoaXMudXRpbGl0eS5jcmVhdGVFbGVtZW50KFwiaVwiLCBvcHRpb25BdHRyaWJ1dGVzLCBcImtleWJvYXJkX2Fycm93X2Rvd25cIiwgZGV0YWlsc1dyYXBwZXIpO1xuXHRcdG9wdGlvbkJ0bi5jbGFzc0xpc3QuYWRkKFwibWF0ZXJpYWwtaWNvbnNcIiwgXCJjaC1jb252LW9wdGlvbnNcIik7XG5cblx0XHQvLyBDcmVhdGUgc3RhdHVzIGRpdlxuXHRcdGxldCBzdGF0dXNBdHRyaWJ1dGVzID0gW3tcImlkXCI6XCJjaF9jb252X3N0YXR1c1wifSx7XCJjbGFzc1wiOlwiY2gtY29udi1zdGF0dXNcIn1dO1xuXHRcdGxldCBzdGF0dXMgPXRoaXMudXRpbGl0eS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHN0YXR1c0F0dHJpYnV0ZXMsIGNvbnZlcnNhdGlvbi5zdGF0dXMsIGRldGFpbHNXcmFwcGVyKTtcblxuXHRcdC8vIENyZWF0ZSBkcm9wIGRvd25cblx0XHRsZXQgZHJvcERvd25BdHRyaWJ1dGVzID0gW3tcImlkXCI6XCJjaF9jb252X2Ryb3BfZG93blwifSx7XCJjbGFzc1wiOlwiY2gtY29udi1kcm9wLWRvd25cIn1dO1xuXHRcdGxldCBkcm9wRG93biA9IHRoaXMudXRpbGl0eS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIGRyb3BEb3duQXR0cmlidXRlcywgbnVsbCwgaGVhZGVyKTtcblxuXHRcdC8vIENyZWF0ZSBjbGVhciBvcHRpb25cblx0XHRsZXQgY2xlYXJPcHRpb25BdHRyaWJ1dGVzID0gW3tcImlkXCI6XCJjaF9jb252X2NsZWFyXCJ9LHtcImNsYXNzXCI6XCJjaC1jb252LWNsZWFyXCJ9XTtcblx0XHR0aGlzLnV0aWxpdHkuY3JlYXRlRWxlbWVudChcImRpdlwiLCBjbGVhck9wdGlvbkF0dHJpYnV0ZXMsIExBTkdVQUdFX1BIUkFTRVMuQ0xFQVJfQ09OViwgZHJvcERvd24pO1xuXG5cdFx0Ly8gQ3JlYXRlIGRlbGV0ZSBvcHRpb25cblx0XHRsZXQgZGVsZXRlT3B0aW9uQXR0cmlidXRlcyA9IFt7XCJpZFwiOlwiY2hfY29udl9kZWxldGVcIn0se1wiY2xhc3NcIjpcImNoLWNvbnYtZGVsZXRlXCJ9XTtcblx0XHR0aGlzLnV0aWxpdHkuY3JlYXRlRWxlbWVudChcImRpdlwiLCBkZWxldGVPcHRpb25BdHRyaWJ1dGVzLCBMQU5HVUFHRV9QSFJBU0VTLkRFTEVURV9DT05WLCBkcm9wRG93bik7XG5cblx0XHQvLyBDcmVhdGUgYmxvY2sgdXNlciBvcHRpb25cblx0XHRsZXQgYmxvY2tPcHRpb25BdHRyaWJ1dGVzID0gW3tcImlkXCI6XCJjaF9jb252X2Jsb2NrXCJ9XTtcblx0XHRsZXQgYmxvY2tPcHRpb24gPSB0aGlzLnV0aWxpdHkuY3JlYXRlRWxlbWVudChcImRpdlwiLCBibG9ja09wdGlvbkF0dHJpYnV0ZXMsIExBTkdVQUdFX1BIUkFTRVMuQkxPQ0tfVVNFUiwgZHJvcERvd24pO1xuXHRcdGJsb2NrT3B0aW9uLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcblxuXHRcdC8vIENyZWF0ZSB1bmJsb2NrIHVzZXIgb3B0aW9uXG5cdFx0bGV0IHVuYmxvY2tPcHRpb25BdHRyaWJ1dGVzID0gW3tcImlkXCI6XCJjaF9jb252X3VuYmxvY2tcIn1dO1xuXHRcdGxldCB1bmJsb2NrT3B0aW9uID0gdGhpcy51dGlsaXR5LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgdW5ibG9ja09wdGlvbkF0dHJpYnV0ZXMsIExBTkdVQUdFX1BIUkFTRVMuVU5CTE9DS19VU0VSLCBkcm9wRG93bik7XG5cdFx0dW5ibG9ja09wdGlvbi5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG5cblx0XHRpZighY29udmVyc2F0aW9uLmlzR3JvdXApIHtcblx0XHRcdGlmKGNvbnZlcnNhdGlvbi5ibG9ja2VkQnlVc2VyKSBcblx0XHRcdFx0dW5ibG9ja09wdGlvbi5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuXHRcdFx0ZWxzZVxuXHRcdFx0XHRibG9ja09wdGlvbi5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuXHRcdH1cblxuXHRcdC8vIENyZWF0ZSBjb252ZXJzYXRpb24gY2xvc2UgYnV0dG9uXG5cdFx0bGV0IGNsb3NlQnRuQXR0cmlidXRlcyA9IFt7XCJpZFwiOlwiY2hfY29udl9jbG9zZV9idG5cIn0se1widGl0bGVcIjpMQU5HVUFHRV9QSFJBU0VTLkNMT1NFfV07XG5cdFx0bGV0IGNsb3NlQnRuID0gdGhpcy51dGlsaXR5LmNyZWF0ZUVsZW1lbnQoXCJpXCIsIGNsb3NlQnRuQXR0cmlidXRlcywgXCJjbG9zZVwiLCBoZWFkZXIpO1xuXHRcdGNsb3NlQnRuLmNsYXNzTGlzdC5hZGQoXCJtYXRlcmlhbC1pY29uc1wiLCBcImNoLWNsb3NlLWJ0blwiKTtcblxuXHRcdC8vIENyZWF0ZSBtZXNzYWdlIGJveFxuXHRcdGxldCBtc2dzQm94QXR0cmlidXRlcyA9IFt7XCJpZFwiOlwiY2hfbWVzc2FnZXNfYm94XCJ9LHtcImNsYXNzXCI6XCJjaC1tZXNzYWdlcy1ib3hcIn1dO1xuXHRcdGxldCBtZXNzYWdlc0JveCA9IHRoaXMudXRpbGl0eS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG1zZ3NCb3hBdHRyaWJ1dGVzLCBudWxsLCB3aW5kb3dEaXYpO1xuXG5cdFx0aWYobG9hZE1lc3NhZ2VzKSB7XG5cdFx0XHQvLyBDcmVhdGUgbG9hZGVyIGNvbnRhaW5lclxuXHRcdFx0bGV0IGxvYWRlckNvbnRhaW5lckF0dHJpYnV0ZXMgPSBbe1wiaWRcIjpcImNoX2NvbnZfbG9hZGVyX2NvbnRhaW5lclwifSx7XCJjbGFzc1wiOlwiY2gtbG9hZGVyLWJnXCJ9XTtcblx0XHRcdGxldCBsb2FkZXJDb250YWluZXIgPSB0aGlzLnV0aWxpdHkuY3JlYXRlRWxlbWVudChcImRpdlwiLCBsb2FkZXJDb250YWluZXJBdHRyaWJ1dGVzLCBudWxsLCBtZXNzYWdlc0JveCk7XG5cdFx0XHRsb2FkZXJDb250YWluZXIuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcblxuXHRcdFx0Ly8gQ3JlYXRlIGxvYWRlclxuXHRcdFx0bGV0IGxvYWRlckF0dHJpYnV0ZXMgPSBbe1wiaWRcIjpcImNoX2NvbnZfbG9hZGVyXCJ9LHtcImNsYXNzXCI6XCJjaC1sb2FkZXJcIn1dO1xuXHRcdFx0bGV0IGxvYWRlciA9IHRoaXMudXRpbGl0eS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIGxvYWRlckF0dHJpYnV0ZXMsIG51bGwsIGxvYWRlckNvbnRhaW5lcik7XG5cdFx0fVxuXHRcdGVsc2Uge1xuXHRcdFx0Ly8gQ3JlYXRlIG5vIG1lc3NhZ2UgZGl2XG5cdFx0XHRsZXQgbm9NZXNzYWdlRGl2QXR0cmlidXRlcyA9IFt7XCJpZFwiOlwiY2hfbm9fbXNnXCJ9LHtcImNsYXNzXCI6XCJjaC1uby1tc2dcIn1dO1xuXHRcdFx0dGhpcy51dGlsaXR5LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbm9NZXNzYWdlRGl2QXR0cmlidXRlcywgTEFOR1VBR0VfUEhSQVNFUy5OT19NRVNTQUdFU19GT1VORCwgbWVzc2FnZXNCb3gpO1xuXHRcdH1cblxuXHRcdC8vIENyZWF0ZSBzZW5kIG1lc3NhZ2UgZGl2XG5cdFx0bGV0IHNlbmRCb3hBdHRyaWJ1dGVzID0gW3tcImlkXCI6XCJjaF9zZW5kX2JveFwifSx7XCJjbGFzc1wiOlwiY2gtc2VuZC1ib3hcIn1dO1xuXHRcdGxldCBzZW5kQm94ID0gdGhpcy51dGlsaXR5LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgc2VuZEJveEF0dHJpYnV0ZXMsIG51bGwsIHdpbmRvd0Rpdik7XG5cblx0XHQvLyBDcmVhdGUgaW5wdXQgYm94XG5cdFx0bGV0IGlucHV0Qm94QXR0cmlidXRlcyA9IFt7XCJpZFwiOlwiY2hfaW5wdXRfYm94XCJ9LHtcImNsYXNzXCI6XCJjaC1pbnB1dC1ib3hcIn0sIHtcInR5cGVcIjpcInRleHRcIn0sIHtcInBsYWNlaG9sZGVyXCI6TEFOR1VBR0VfUEhSQVNFUy5TRU5EX01FU1NBR0V9XTtcblx0XHR0aGlzLnV0aWxpdHkuY3JlYXRlRWxlbWVudChcInRleHRhcmVhXCIsIGlucHV0Qm94QXR0cmlidXRlcywgbnVsbCwgc2VuZEJveCk7XG5cblx0XHQvLyBDcmVhdGUgbWVkaWEgbWVzc2FnZXMgZG9ja2VyXG5cdFx0bGV0IG1lZGlhRG9ja2VyQXR0cmlidXRlcyA9IFt7XCJpZFwiOlwiY2hfbWVkaWFfZG9ja2VyXCJ9LHtcImNsYXNzXCI6XCJjaC1tZWRpYS1kb2NrZXJcIn1dO1xuXHRcdGxldCBtZWRpYURvY2tlciA9IHRoaXMudXRpbGl0eS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG1lZGlhRG9ja2VyQXR0cmlidXRlcywgbnVsbCwgc2VuZEJveCk7XG5cblx0XHQvLyBDcmVhdGUgaW1hZ2UgbWVzc2FnZXMgb3B0aW9uXG5cdFx0bGV0IGltYWdlT3B0aW9uQXR0cmlidXRlcyA9IFt7XCJpZFwiOlwiY2hfaW1hZ2Vfb3B0aW9uXCJ9LHtcImNsYXNzXCI6XCJjaC1pbWFnZS1vcHRpb25cIn1dO1xuXHRcdGxldCBpbWFnZU9wdGlvbiA9IHRoaXMudXRpbGl0eS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIGltYWdlT3B0aW9uQXR0cmlidXRlcywgbnVsbCwgbWVkaWFEb2NrZXIpO1xuXG5cdFx0Ly8gQ3JlYXRlIG9wdGlvbiBpY29uIHNwYW5cblx0XHRsZXQgaW1hZ2VJY29uU3BhbkF0dHJpYnV0ZXMgPSBbe1wiaWRcIjpcImNoX2ltYWdlX2ljb25fc3BhblwifSx7XCJjbGFzc1wiOlwiY2gtaW1hZ2UtaWNvbi1zcGFuXCJ9XTtcblx0XHRsZXQgaW1hZ2VJY29uU3BhbiA9IHRoaXMudXRpbGl0eS5jcmVhdGVFbGVtZW50KFwic3BhblwiLCBpbWFnZUljb25TcGFuQXR0cmlidXRlcywgbnVsbCwgaW1hZ2VPcHRpb24pO1xuXG5cdFx0Ly8gQ3JlYXRlIGltYWdlIG1lc3NhZ2VzIG9wdGlvbiBpY29uXG5cdFx0bGV0IGltYWdlSWNvbkF0dHJpYnV0ZXMgPSBbe1wiaWRcIjpcImNoX2ltYWdlX29wdGlvbl9pY29uXCJ9LHtcImNsYXNzXCI6XCJjaC1pbWFnZS1vcHRpb24taWNvblwifSx7XCJzcmNcIjpJTUFHRVMuR0FMTEVSWV9JQ09OfV07XG5cdFx0dGhpcy51dGlsaXR5LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIiwgaW1hZ2VJY29uQXR0cmlidXRlcywgbnVsbCwgaW1hZ2VJY29uU3Bhbik7XG5cblx0XHQvLyBDcmVhdGUgaW5wdXQgZm9yIGltYWdlXG5cdFx0bGV0IGltYWdlSW5wdXRBdHRyaWJ1dGVzID0gW3tcImlkXCI6XCJjaF9pbWFnZV9pbnB1dFwifSx7XCJjbGFzc1wiOlwiY2gtaW1hZ2UtaW5wdXRcIn0se1widHlwZVwiOlwiZmlsZVwifSx7XCJhY2NlcHRcIjpcImltYWdlLypcIn1dO1xuXHRcdHRoaXMudXRpbGl0eS5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwgaW1hZ2VJbnB1dEF0dHJpYnV0ZXMsIG51bGwsIGltYWdlT3B0aW9uKTtcblxuXHRcdC8vIENyZWF0ZSBvcHRpb24gbmFtZSBzcGFuIGZvciBpbWFnZVxuXHRcdGxldCBpbWFnZU5hbWVBdHRyaWJ1dGVzID0gW3tcImlkXCI6XCJjaF9pbWFnZV9vcHRpb25fbmFtZVwifSx7XCJjbGFzc1wiOlwiY2gtaW1hZ2Utb3B0aW9uLW5hbWVcIn1dO1xuXHRcdHRoaXMudXRpbGl0eS5jcmVhdGVFbGVtZW50KFwic3BhblwiLCBpbWFnZU5hbWVBdHRyaWJ1dGVzLCBMQU5HVUFHRV9QSFJBU0VTLklNQUdFLCBpbWFnZU9wdGlvbik7XG5cblx0XHQvLyBDcmVhdGUgYXVkaW8gbWVzc2FnZXMgb3B0aW9uXG5cdFx0bGV0IGF1ZGlvT3B0aW9uQXR0cmlidXRlcyA9IFt7XCJpZFwiOlwiY2hfYXVkaW9fb3B0aW9uXCJ9LHtcImNsYXNzXCI6XCJjaC1hdWRpby1vcHRpb25cIn1dO1xuXHRcdGxldCBhdWRpb09wdGlvbiA9IHRoaXMudXRpbGl0eS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIGF1ZGlvT3B0aW9uQXR0cmlidXRlcywgbnVsbCwgbWVkaWFEb2NrZXIpO1xuXG5cdFx0Ly8gQ3JlYXRlIG9wdGlvbiBpY29uIHNwYW5cblx0XHRsZXQgYXVkaW9JY29uU3BhbkF0dHJpYnV0ZXMgPSBbe1wiaWRcIjpcImNoX2F1ZGlvX2ljb25fc3BhblwifSx7XCJjbGFzc1wiOlwiY2gtYXVkaW8taWNvbi1zcGFuXCJ9XTtcblx0XHRsZXQgYXVkaW9JY29uU3BhbiA9IHRoaXMudXRpbGl0eS5jcmVhdGVFbGVtZW50KFwic3BhblwiLCBhdWRpb0ljb25TcGFuQXR0cmlidXRlcywgbnVsbCwgYXVkaW9PcHRpb24pO1xuXG5cdFx0Ly8gQ3JlYXRlIGF1ZGlvIG1lc3NhZ2VzIG9wdGlvbiBpY29uXG5cdFx0bGV0IGF1ZGlvSWNvbkF0dHJpYnV0ZXMgPSBbe1wiaWRcIjpcImNoX2F1ZGlvX29wdGlvbl9pY29uXCJ9LHtcImNsYXNzXCI6XCJjaC1hdWRpby1vcHRpb24taWNvblwifSx7XCJzcmNcIjpJTUFHRVMuQVVESU9fSUNPTn1dO1xuXHRcdHRoaXMudXRpbGl0eS5jcmVhdGVFbGVtZW50KFwiaW1nXCIsIGF1ZGlvSWNvbkF0dHJpYnV0ZXMsIG51bGwsIGF1ZGlvSWNvblNwYW4pO1xuXG5cdFx0Ly8gQ3JlYXRlIGlucHV0IGZvciBhdWRpb1xuXHRcdGxldCBhdWRpb0lucHV0QXR0cmlidXRlcyA9IFt7XCJpZFwiOlwiY2hfYXVkaW9faW5wdXRcIn0se1wiY2xhc3NcIjpcImNoLWF1ZGlvLWlucHV0XCJ9LHtcInR5cGVcIjpcImZpbGVcIn0se1wiYWNjZXB0XCI6XCJhdWRpby8qXCJ9XTtcblx0XHR0aGlzLnV0aWxpdHkuY3JlYXRlRWxlbWVudChcImlucHV0XCIsIGF1ZGlvSW5wdXRBdHRyaWJ1dGVzLCBudWxsLCBhdWRpb09wdGlvbik7XG5cblx0XHQvLyBDcmVhdGUgb3B0aW9uIG5hbWUgc3BhbiBmb3IgYXVkaW9cblx0XHRsZXQgYXVkaW9OYW1lQXR0cmlidXRlcyA9IFt7XCJpZFwiOlwiY2hfYXVkaW9fb3B0aW9uX25hbWVcIn0se1wiY2xhc3NcIjpcImNoLWF1ZGlvLW9wdGlvbi1uYW1lXCJ9XTtcblx0XHR0aGlzLnV0aWxpdHkuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgYXVkaW9OYW1lQXR0cmlidXRlcywgTEFOR1VBR0VfUEhSQVNFUy5BVURJTywgYXVkaW9PcHRpb24pO1xuXG5cdFx0Ly8gQ3JlYXRlIHZpZGVvIG1lc3NhZ2VzIG9wdGlvblxuXHRcdGxldCB2aWRlb09wdGlvbkF0dHJpYnV0ZXMgPSBbe1wiaWRcIjpcImNoX3ZpZGVvX29wdGlvblwifSx7XCJjbGFzc1wiOlwiY2gtdmlkZW8tb3B0aW9uXCJ9XTtcblx0XHRsZXQgdmlkZW9PcHRpb24gPSB0aGlzLnV0aWxpdHkuY3JlYXRlRWxlbWVudChcImRpdlwiLCB2aWRlb09wdGlvbkF0dHJpYnV0ZXMsIG51bGwsIG1lZGlhRG9ja2VyKTtcblxuXHRcdC8vIENyZWF0ZSBvcHRpb24gaWNvbiBzcGFuXG5cdFx0bGV0IHZpZGVvSWNvblNwYW5BdHRyaWJ1dGVzID0gW3tcImlkXCI6XCJjaF92aWRlb19pY29uX3NwYW5cIn0se1wiY2xhc3NcIjpcImNoLXZpZGVvLWljb24tc3BhblwifV07XG5cdFx0bGV0IHZpZGVvSWNvblNwYW4gPSB0aGlzLnV0aWxpdHkuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgdmlkZW9JY29uU3BhbkF0dHJpYnV0ZXMsIG51bGwsIHZpZGVvT3B0aW9uKTtcblxuXHRcdC8vIENyZWF0ZSB2aWRlbyBtZXNzYWdlcyBvcHRpb24gaWNvblxuXHRcdGxldCB2aWRlb0ljb25BdHRyaWJ1dGVzID0gW3tcImlkXCI6XCJjaF92aWRlb19vcHRpb25faWNvblwifSx7XCJjbGFzc1wiOlwiY2gtdmlkZW8tb3B0aW9uLWljb25cIn0se1wic3JjXCI6SU1BR0VTLlZJREVPX0lDT059XTtcblx0XHR0aGlzLnV0aWxpdHkuY3JlYXRlRWxlbWVudChcImltZ1wiLCB2aWRlb0ljb25BdHRyaWJ1dGVzLCBudWxsLCB2aWRlb0ljb25TcGFuKTtcblxuXHRcdC8vIENyZWF0ZSBpbnB1dCBmb3IgdmlkZW9cblx0XHRsZXQgdmlkZW9JbnB1dEF0dHJpYnV0ZXMgPSBbe1wiaWRcIjpcImNoX3ZpZGVvX2lucHV0XCJ9LHtcImNsYXNzXCI6XCJjaC12aWRlby1pbnB1dFwifSx7XCJ0eXBlXCI6XCJmaWxlXCJ9LHtcImFjY2VwdFwiOlwidmlkZW8vKlwifV07XG5cdFx0dGhpcy51dGlsaXR5LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLCB2aWRlb0lucHV0QXR0cmlidXRlcywgbnVsbCwgdmlkZW9PcHRpb24pO1xuXG5cdFx0Ly8gQ3JlYXRlIG9wdGlvbiBuYW1lIHNwYW4gZm9yIHZpZGVvXG5cdFx0bGV0IHZpZGVvTmFtZUF0dHJpYnV0ZXMgPSBbe1wiaWRcIjpcImNoX3ZpZGVvX29wdGlvbl9uYW1lXCJ9LHtcImNsYXNzXCI6XCJjaC12aWRlby1vcHRpb24tbmFtZVwifV07XG5cdFx0dGhpcy51dGlsaXR5LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHZpZGVvTmFtZUF0dHJpYnV0ZXMsIExBTkdVQUdFX1BIUkFTRVMuVklERU8sIHZpZGVvT3B0aW9uKTtcblxuXHRcdC8vIENyZWF0ZSBhdHRhY2htZW50IGJ1dHRvblxuXHRcdGxldCBhdHRhY2htZW50QXR0cmlidXRlcyA9IFt7XCJpZFwiOlwiY2hfYXR0YWNobWVudF9idG5cIn0se1widGl0bGVcIjpMQU5HVUFHRV9QSFJBU0VTLlNFTkRfQVRUQUNITUVOVFN9XTtcblx0XHRsZXQgYXR0YWNobWVudCA9IHRoaXMudXRpbGl0eS5jcmVhdGVFbGVtZW50KFwiaVwiLCBhdHRhY2htZW50QXR0cmlidXRlcywgXCJhdHRhY2htZW50XCIsIHNlbmRCb3gpO1xuXHRcdGF0dGFjaG1lbnQuY2xhc3NMaXN0LmFkZChcIm1hdGVyaWFsLWljb25zXCIsIFwiY2gtYXR0YWNobWVudC1idG5cIik7XG5cblx0XHQvLyBDcmVhdGUgc2VuZCBidXR0b25cblx0XHRsZXQgc2VuZEJ1dHRvbkF0dHJpYnV0ZXMgPSBbe1wiaWRcIjpcImNoX3NlbmRfYnV0dG9uXCJ9LHtcImNsYXNzXCI6XCJjaC1zZW5kLWJ1dHRvblwifV07XG5cdFx0bGV0IHNlbmRCdXR0b24gPSB0aGlzLnV0aWxpdHkuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCBzZW5kQnV0dG9uQXR0cmlidXRlcywgbnVsbCwgc2VuZEJveCk7XG5cblx0XHQvLyBDcmVhdGUgc2VuZCBpY29uXG5cdFx0bGV0IHNlbmRJY29uQXR0cmlidXRlcyA9IFt7XCJjbGFzc1wiOlwiY2gtc2VuZC1pY29uXCJ9XTtcblx0XHRsZXQgc2VuZEljb24gPSB0aGlzLnV0aWxpdHkuY3JlYXRlRWxlbWVudChcImlcIiwgc2VuZEljb25BdHRyaWJ1dGVzLCBcInNlbmRcIiwgc2VuZEJ1dHRvbik7XG5cdFx0c2VuZEljb24uY2xhc3NMaXN0LmFkZChcIm1hdGVyaWFsLWljb25zXCIpO1xuXG5cdFx0Ly8gSGlkZSBzZW5kIG1lc3NhZ2UgYm94IGFuZCBzdGF0dXMgaXMgYmxvY2tlZCB1c2VyXG5cdFx0aWYoY29udmVyc2F0aW9uLmJsb2NrZWRCeVVzZXIgfHwgY29udmVyc2F0aW9uLmJsb2NrZWRCeU1lbWJlcikge1xuXHRcdFx0c3RhdHVzLnN0eWxlLnZpc2liaWxpdHkgPSBcImhpZGRlblwiO1xuXHRcdFx0c2VuZEJveC5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcblx0XHR9XG5cblx0XHRpZihsb2FkTWVzc2FnZXMpXG5cdFx0XHR0aGlzLl9jcmVhdGVNZXNzYWdlc0xpc3RpbmcoY29udmVyc2F0aW9uKTtcblx0fVxuXG5cdF9jcmVhdGVNZXNzYWdlc0xpc3RpbmcoY29udmVyc2F0aW9uKSB7XG5cdFx0Ly8gR2V0IGNvbnZlcnNhdGlvbiBtZXNzYWdlc1xuXHRcdHRoaXMuX2dldE1lc3NhZ2VzKGNvbnZlcnNhdGlvbiwgdGhpcy5saW1pdCwgdGhpcy5za2lwLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCAoZXJyLCBtZXNzYWdlcykgPT4ge1xuXHRcdFx0aWYoZXJyKSByZXR1cm4gY29uc29sZS5lcnJvcihlcnIpO1xuXG5cdFx0XHR0aGlzLm1lc3NhZ2VzID0gbWVzc2FnZXM7XG5cdFx0XHQvLyBIaWRlIGxvYWRlclxuXHRcdFx0aWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaF9jb252X2xvYWRlcl9jb250YWluZXJcIikpXG5cdFx0XHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hfY29udl9sb2FkZXJfY29udGFpbmVyXCIpLnJlbW92ZSgpO1xuXG5cdFx0XHRsZXQgbWVzc2FnZXNCb3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoX21lc3NhZ2VzX2JveFwiKTtcblx0XHRcdGlmKCFtZXNzYWdlcy5sZW5ndGgpIHtcblx0XHRcdFx0Ly8gQ3JlYXRlIG5vIG1lc3NhZ2UgZGl2XG5cdFx0XHRcdGxldCBub01lc3NhZ2VEaXZBdHRyaWJ1dGVzID0gW3tcImlkXCI6XCJjaF9ub19tc2dcIn0se1wiY2xhc3NcIjpcImNoLW5vLW1zZ1wifV07XG5cdFx0XHRcdHRoaXMudXRpbGl0eS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG5vTWVzc2FnZURpdkF0dHJpYnV0ZXMsIExBTkdVQUdFX1BIUkFTRVMuTk9fTUVTU0FHRVNfRk9VTkQsIG1lc3NhZ2VzQm94KTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLm1lc3NhZ2VzLmZvckVhY2gobWVzc2FnZSA9PiB7XG5cdFx0XHRcdC8vIFVwZGF0ZSBtZXNzYWdlIG9iamVjdFxuXHRcdFx0XHRtZXNzYWdlID0gdGhpcy5fbW9kaWZ5TWVzc2FnZShtZXNzYWdlKTtcblxuXHRcdFx0XHRpZihtZXNzYWdlLnR5cGUgPT0gXCJhZG1pblwiKSB7XG5cdFx0XHRcdFx0bGV0IG1ldGFNZXNzYWdlQXR0cmlidXRlcyA9IFt7XCJjbGFzc1wiOlwiY2gtYWRtaW4tbXNnXCJ9XTtcblx0XHRcdFx0XHR0aGlzLnV0aWxpdHkuY3JlYXRlRWxlbWVudChcImRpdlwiLCBtZXRhTWVzc2FnZUF0dHJpYnV0ZXMsIG1lc3NhZ2UuYm9keSwgbWVzc2FnZXNCb3gpO1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIENyZWF0ZSBtZXNzYWdlIGxpc3Rcblx0XHRcdFx0bGV0IG1zZ0xpc3RBdHRyaWJ1dGVzID0gW3tcImlkXCI6bWVzc2FnZS5pZH0se1wiY2xhc3NcIjpcImNoLW1zZy1saXN0XCJ9XTtcblx0XHRcdFx0bGV0IG1zZ0xpc3QgPSB0aGlzLnV0aWxpdHkuY3JlYXRlRWxlbWVudChcImRpdlwiLCBtc2dMaXN0QXR0cmlidXRlcywgbnVsbCwgbWVzc2FnZXNCb3gpO1xuXG5cdFx0XHRcdC8vIENyZWF0ZSBzZW5kZXIgbmFtZSBkaXZcblx0XHRcdFx0aWYoY29udmVyc2F0aW9uLmlzR3JvdXAgJiYgbWVzc2FnZS5vd25lcklkICE9IHRoaXMud2lkZ2V0LnVzZXJJZCkge1xuXHRcdFx0XHRcdGxldCBzZW5kZXJBdHRyaWJ1dGVzID0gW3tcImNsYXNzXCI6XCJjaC1zZW5kZXItbmFtZVwifV07XG5cdFx0XHRcdFx0dGhpcy51dGlsaXR5LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgc2VuZGVyQXR0cmlidXRlcywgbWVzc2FnZS5vd25lci5kaXNwbGF5TmFtZSwgbXNnTGlzdCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBDcmVhdGUgbWVzc2FnZSBjb250YWluZXJcblx0XHRcdFx0bGV0IG1zZ0NvbnRhaW5lckF0dHJpYnV0ZXMgPSBbe1wiY2xhc3NcIjpcImNoLW1zZy1jb250YWluZXJcIn1dO1xuXHRcdFx0XHRsZXQgbXNnQ29udGFpbmVyID0gdGhpcy51dGlsaXR5LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbXNnQ29udGFpbmVyQXR0cmlidXRlcywgbnVsbCwgbXNnTGlzdCk7XG5cblx0XHRcdFx0Ly8gQ3JlYXRlIG1lc3NhZ2UgbW9yZSBvcHRpb25zXG5cdFx0XHRcdGxldCBtb3JlT3B0aW9uQXR0cmlidXRlcyA9IFt7XCJjbGFzc1wiOlwiY2gtbXNnLW1vcmUtb3B0aW9uXCJ9XTtcblx0XHRcdFx0bGV0IG1vcmVPcHRpb24gPSB0aGlzLnV0aWxpdHkuY3JlYXRlRWxlbWVudChcImlcIiwgbW9yZU9wdGlvbkF0dHJpYnV0ZXMsIFwibW9yZV92ZXJ0XCIsIG1zZ0xpc3QpO1xuXHRcdFx0XHRtb3JlT3B0aW9uLmNsYXNzTGlzdC5hZGQoXCJtYXRlcmlhbC1pY29uc1wiKTtcblx0XHRcdFx0dGhpcy5fYWRkTGlzdGVuZXJPbk1vcmVPcHRpb24obWVzc2FnZSwgbW9yZU9wdGlvbiwgbXNnTGlzdCk7XG5cblx0XHRcdFx0Ly8gQ3JlYXRlIG1lc3NhZ2UgZGl2XG5cdFx0XHRcdGxldCBtc2dEaXZBdHRyaWJ1dGVzID0gW3tcImlkXCI6XCJjaF9tZXNzYWdlX1wiK21lc3NhZ2UuaWR9LHtcImNsYXNzXCI6XCJjaC1tZXNzYWdlXCJ9XTtcblx0XHRcdFx0bGV0IG1zZ0RpdiA9IHRoaXMudXRpbGl0eS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG1zZ0RpdkF0dHJpYnV0ZXMsIG1lc3NhZ2UuYm9keSwgbXNnQ29udGFpbmVyKTtcblxuXHRcdFx0XHQvLyBDcmVhdGUgbWVkaWEgbWVzc2FnZSBmcmFtZVxuXHRcdFx0XHR0aGlzLl9jcmVhdGVNZWRpYU1lc3NhZ2VGcmFtZShtZXNzYWdlLCBtc2dEaXYpO1xuXG5cdFx0XHRcdC8vIENyZWF0ZSBtZXNzYWdlIHRpbWUgc3BhblxuXHRcdFx0XHRsZXQgbXNnVGltZUF0dHJpYnV0ZXMgPSBbe1wiaWRcIjpcImNoX21zZ190aW1lXCJ9LHtcImNsYXNzXCI6XCJjaC1tc2ctdGltZVwifV07XG5cdFx0XHRcdGxldCBtc2dUaW1lID0gdGhpcy51dGlsaXR5LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIG1zZ1RpbWVBdHRyaWJ1dGVzLCBtZXNzYWdlLmNyZWF0ZWRBdCwgbXNnQ29udGFpbmVyKTtcblxuXHRcdFx0XHRpZihtZXNzYWdlLm93bmVySWQgPT0gdGhpcy53aWRnZXQudXNlcklkKSB7XG5cdFx0XHRcdFx0bXNnQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJyaWdodFwiKTtcblx0XHRcdFx0XHRtb3JlT3B0aW9uLmNsYXNzTGlzdC5hZGQoXCJsZWZ0XCIpO1xuXHRcdFx0XHRcdC8vIENyZWF0ZSBtZXNzYWdlIHJlYWQgc3RhdHVzXG5cdFx0XHRcdFx0bGV0IHN0YXR1c0F0dHJpYnV0ZXMgPSBbe1wiaWRcIjpcImNoX21zZ19zdGF0dXNcIn1dO1xuXHRcdFx0XHRcdGxldCByZWFkSWNvbiA9IG1lc3NhZ2UucmVhZEJ5QWxsID8gXCJkb25lX2FsbFwiIDogXCJjaGVja1wiO1xuXHRcdFx0XHRcdGxldCBtc2dTdGF0dXMgPSB0aGlzLnV0aWxpdHkuY3JlYXRlRWxlbWVudChcImlcIiwgc3RhdHVzQXR0cmlidXRlcywgcmVhZEljb24sIG1zZ0NvbnRhaW5lcik7XG5cdFx0XHRcdFx0bXNnU3RhdHVzLmNsYXNzTGlzdC5hZGQoXCJtYXRlcmlhbC1pY29uc1wiLCBcImNoLW1zZy1zdGF0dXNcIik7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZWxzZXtcblx0XHRcdFx0XHRtc2dDb250YWluZXIuY2xhc3NMaXN0LmFkZChcImxlZnRcIik7XG5cdFx0XHRcdFx0bW9yZU9wdGlvbi5jbGFzc0xpc3QuYWRkKFwicmlnaHRcIik7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdFx0bWVzc2FnZXNCb3guc2Nyb2xsVG9wID0gbWVzc2FnZXNCb3guc2Nyb2xsSGVpZ2h0O1xuXHRcdH0pO1xuXHR9XG5cblx0bW9kaWZ5Q29udmVyc2F0aW9uKGNvbnZlcnNhdGlvbikge1xuXG5cdFx0aWYoIWNvbnZlcnNhdGlvbiB8fCBjb252ZXJzYXRpb24uaXNNb2RpZmllZClcblx0XHRcdHJldHVybiBjb252ZXJzYXRpb247XG5cblx0XHRpZiAoIWNvbnZlcnNhdGlvbi5pc0dyb3VwICYmIGNvbnZlcnNhdGlvbi51c2VyICYmIE9iamVjdC5lbnRyaWVzKGNvbnZlcnNhdGlvbi51c2VyKS5sZW5ndGggPT09IDApIHtcblx0XHRcdGNvbnZlcnNhdGlvbi50aXRsZSA9IExBTkdVQUdFX1BIUkFTRVMuREVMRVRFRF9NRU1CRVI7XG5cdFx0XHRjb252ZXJzYXRpb24ucHJvZmlsZUltYWdlVXJsID0gSU1BR0VTLkFWVEFSO1xuXHRcdFx0cmV0dXJuIGNvbnZlcnNhdGlvbjtcbiAgICBcdH1cblxuXHQgICAgLy8gU2V0IHByb2ZpbGUgSW1hZ2UsIHRpdGxlIGFuZCBzdGF0dXMgb2YgY29udmVyc2F0aW9uXG5cdFx0aWYoY29udmVyc2F0aW9uLmlzR3JvdXApIHtcblx0XHRcdGNvbnZlcnNhdGlvbi5wcm9maWxlSW1hZ2VVcmwgPSBjb252ZXJzYXRpb24ucHJvZmlsZUltYWdlVXJsID8gY29udmVyc2F0aW9uLnByb2ZpbGVJbWFnZVVybCA6IElNQUdFUy5HUk9VUDtcblx0XHRcdGNvbnZlcnNhdGlvbi5zdGF0dXMgPSBjb252ZXJzYXRpb24ubWVtYmVyQ291bnQgKyBcIiBcIiArIExBTkdVQUdFX1BIUkFTRVMuTUVNQkVSUztcblx0XHR9XG5cdFx0ZWxzZSB7XG5cdFx0XHRjb252ZXJzYXRpb24ucHJvZmlsZUltYWdlVXJsID0gY29udmVyc2F0aW9uLnVzZXIucHJvZmlsZUltYWdlVXJsID8gY29udmVyc2F0aW9uLnVzZXIucHJvZmlsZUltYWdlVXJsIDogSU1BR0VTLkFWVEFSO1xuXHRcdFx0Y29udmVyc2F0aW9uLnRpdGxlID0gY29udmVyc2F0aW9uLnVzZXIuZGlzcGxheU5hbWU7XG5cblx0XHRcdC8vIFNldCBibG9jayB1c2VyIHN0YXR1c1xuXHRcdFx0bGV0IG1lbWJlciA9IGNvbnZlcnNhdGlvbi5tZW1iZXJzLmZpbmQobWVtYmVyID0+IG1lbWJlci51c2VySWQgPT0gY29udmVyc2F0aW9uLnVzZXIuaWQpO1xuXHRcdFx0Y29udmVyc2F0aW9uLmJsb2NrZWRCeU1lbWJlciA9IG1lbWJlciA/IGZhbHNlIDogdHJ1ZTtcblxuXHRcdFx0aWYoIWNvbnZlcnNhdGlvbi5pc0FjdGl2ZSkge1xuXHRcdFx0XHRjb252ZXJzYXRpb24uYmxvY2tlZEJ5VXNlciA9IHRydWU7XG5cdFx0XHR9XG5cblx0XHRcdGlmKGNvbnZlcnNhdGlvbi51c2VyLmlzT25saW5lKSB7XG5cdFx0XHRcdGNvbnZlcnNhdGlvbi5zdGF0dXMgPSBMQU5HVUFHRV9QSFJBU0VTLk9OTElORTtcblx0XHRcdH1cblx0XHRcdGVsc2Uge1xuXHRcdFx0XHRjb252ZXJzYXRpb24uc3RhdHVzID0gTEFOR1VBR0VfUEhSQVNFUy5MQVNUX1NFRU4gKyB0aGlzLnV0aWxpdHkudXBkYXRlVGltZUZvcm1hdChtZW1iZXIudXNlci5sYXN0U2Vlbik7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBjb252ZXJzYXRpb247XG5cdH1cblxuXHRfbG9hZE1vcmVNZXNzYWdlcygpIHtcblx0XHQrK3RoaXMubG9hZENvdW50O1xuXHRcdHRoaXMuc2tpcCA9IHRoaXMubG9hZENvdW50ICogdGhpcy5saW1pdDtcblx0XHR0aGlzLl9nZXRNZXNzYWdlcyh0aGlzLmNvbnZlcnNhdGlvbiwgdGhpcy5saW1pdCwgdGhpcy5za2lwLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCAoZXJyLCBtZXNzYWdlcykgPT4ge1xuXHRcdFx0aWYoZXJyKSByZXR1cm4gY29uc29sZS5lcnJvcihlcnIpO1xuXG5cdFx0XHRpZighbWVzc2FnZXMgJiYgbWVzc2FnZXNbMF0uY29udmVyc2F0aW9uSWQgIT0gdGhpcy5jb252ZXJzYXRpb24uaWQpXG5cdFx0XHRcdHJldHVybjtcblxuXHRcdFx0dGhpcy5tZXNzYWdlcyA9IHRoaXMubWVzc2FnZXMuY29uY2F0KG1lc3NhZ2VzKTtcblxuXHRcdFx0Ly8gU2F2ZSBmaXJzdCBtZXNzYWdlIHRvIHNjcm9sbFxuXHRcdFx0bGV0IG1lc3NhZ2VzQm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaF9tZXNzYWdlc19ib3hcIik7XG5cdFx0XHRsZXQgZmlyc3RNZXNzYWdlID0gbWVzc2FnZXNCb3guY2hpbGROb2Rlc1swXTtcblxuXHRcdFx0bWVzc2FnZXMuZm9yRWFjaChtZXNzYWdlID0+IHtcblxuXHRcdFx0XHQvLyBVcGRhdGUgbWVzc2FnZSBvYmplY3Rcblx0XHRcdFx0bWVzc2FnZSA9IHRoaXMuX21vZGlmeU1lc3NhZ2UobWVzc2FnZSk7XG5cblx0XHRcdFx0aWYobWVzc2FnZS50eXBlID09IFwiYWRtaW5cIikge1xuXHRcdFx0XHRcdGxldCBtZXRhTWVzc2FnZUF0dHJpYnV0ZXMgPSBbe1wiY2xhc3NcIjpcImNoLWFkbWluLW1zZ1wifV07XG5cdFx0XHRcdFx0dGhpcy51dGlsaXR5LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbWV0YU1lc3NhZ2VBdHRyaWJ1dGVzLCBtZXNzYWdlLmJvZHksIG1lc3NhZ2VzQm94KTtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBDcmVhdGUgbWVzc2FnZSBsaXN0XG5cdFx0XHRcdGxldCBtc2dMaXN0QXR0cmlidXRlcyA9IFt7XCJpZFwiOm1lc3NhZ2UuaWR9LHtcImNsYXNzXCI6XCJjaC1tc2ctbGlzdFwifV07XG5cdFx0XHRcdGxldCBtc2dMaXN0ID0gdGhpcy51dGlsaXR5LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbXNnTGlzdEF0dHJpYnV0ZXMsIG51bGwsIG51bGwpO1xuXG5cdFx0XHRcdC8vIENyZWF0ZSBtZXNzYWdlIGNvbnRhaW5lclxuXHRcdFx0XHRsZXQgbXNnQ29udGFpbmVyQXR0cmlidXRlcyA9IFt7XCJjbGFzc1wiOlwiY2gtbXNnLWNvbnRhaW5lclwifV07XG5cdFx0XHRcdGxldCBtc2dDb250YWluZXIgPSB0aGlzLnV0aWxpdHkuY3JlYXRlRWxlbWVudChcImRpdlwiLCBtc2dDb250YWluZXJBdHRyaWJ1dGVzLCBudWxsLCBtc2dMaXN0KTtcblxuXHRcdFx0XHQvLyBDcmVhdGUgbWVzc2FnZSBtb3JlIG9wdGlvbnNcblx0XHRcdFx0bGV0IG1vcmVPcHRpb25BdHRyaWJ1dGVzID0gW3tcImNsYXNzXCI6XCJjaC1tc2ctbW9yZS1vcHRpb25cIn1dO1xuXHRcdFx0XHRsZXQgbW9yZU9wdGlvbiA9IHRoaXMudXRpbGl0eS5jcmVhdGVFbGVtZW50KFwiaVwiLCBtb3JlT3B0aW9uQXR0cmlidXRlcywgXCJtb3JlX3ZlcnRcIiwgbXNnTGlzdCk7XG5cdFx0XHRcdG1vcmVPcHRpb24uY2xhc3NMaXN0LmFkZChcIm1hdGVyaWFsLWljb25zXCIpO1xuXHRcdFx0XHR0aGlzLl9hZGRMaXN0ZW5lck9uTW9yZU9wdGlvbihtZXNzYWdlLCBtb3JlT3B0aW9uLCBtc2dMaXN0KTtcblxuXHRcdFx0XHQvLyBDcmVhdGUgbWVzc2FnZSBkaXZcblx0XHRcdFx0bGV0IG1zZ0RpdkF0dHJpYnV0ZXMgPSBbe1wiaWRcIjpcImNoX21lc3NhZ2VfXCIrbWVzc2FnZS5pZH0se1wiY2xhc3NcIjpcImNoLW1lc3NhZ2VcIn1dO1xuXHRcdFx0XHRsZXQgbXNnRGl2ID0gdGhpcy51dGlsaXR5LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbXNnRGl2QXR0cmlidXRlcywgbWVzc2FnZS5ib2R5LCBtc2dDb250YWluZXIpO1xuXG5cdFx0XHRcdC8vIENyZWF0ZSBtZWRpYSBtZXNzYWdlIGZyYW1lXG5cdFx0XHRcdHRoaXMuX2NyZWF0ZU1lZGlhTWVzc2FnZUZyYW1lKG1lc3NhZ2UsIG1zZ0Rpdik7XG5cblx0XHRcdFx0Ly8gQ3JlYXRlIG1lc3NhZ2UgdGltZSBzcGFuXG5cdFx0XHRcdGxldCBtc2dUaW1lQXR0cmlidXRlcyA9IFt7XCJpZFwiOlwiY2hfbXNnX3RpbWVcIn0se1wiY2xhc3NcIjpcImNoLW1zZy10aW1lXCJ9XTtcblx0XHRcdFx0bGV0IG1zZ1RpbWUgPSB0aGlzLnV0aWxpdHkuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgbXNnVGltZUF0dHJpYnV0ZXMsIG1lc3NhZ2UuY3JlYXRlZEF0LCBtc2dDb250YWluZXIpO1xuXG5cdFx0XHRcdGlmKG1lc3NhZ2Uub3duZXJJZCA9PSB0aGlzLndpZGdldC51c2VySWQpIHtcblx0XHRcdFx0XHRtc2dDb250YWluZXIuY2xhc3NMaXN0LmFkZChcInJpZ2h0XCIpO1xuXHRcdFx0XHRcdG1vcmVPcHRpb24uY2xhc3NMaXN0LmFkZChcImxlZnRcIik7XG5cdFx0XHRcdFx0Ly8gQ3JlYXRlIG1lc3NhZ2UgcmVhZCBzdGF0dXNcblx0XHRcdFx0XHRsZXQgc3RhdHVzQXR0cmlidXRlcyA9IFt7XCJpZFwiOlwiY2hfbXNnX3N0YXR1c1wifV07XG5cdFx0XHRcdFx0bGV0IHJlYWRJY29uID0gbWVzc2FnZS5yZWFkQnlBbGwgPyBcImRvbmVfYWxsXCIgOiBcImNoZWNrXCI7XG5cdFx0XHRcdFx0bGV0IG1zZ1N0YXR1cyA9IHRoaXMudXRpbGl0eS5jcmVhdGVFbGVtZW50KFwiaVwiLCBzdGF0dXNBdHRyaWJ1dGVzLCByZWFkSWNvbiwgbXNnQ29udGFpbmVyKTtcblx0XHRcdFx0XHRtc2dTdGF0dXMuY2xhc3NMaXN0LmFkZChcIm1hdGVyaWFsLWljb25zXCIsIFwiY2gtbXNnLXN0YXR1c1wiKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRtc2dDb250YWluZXIuY2xhc3NMaXN0LmFkZChcImxlZnRcIik7XG5cdFx0XHRcdFx0bW9yZU9wdGlvbi5jbGFzc0xpc3QuYWRkKFwicmlnaHRcIik7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRtZXNzYWdlc0JveC5pbnNlcnRCZWZvcmUobXNnTGlzdCwgbWVzc2FnZXNCb3guY2hpbGROb2Rlc1swXSk7XG5cdFx0XHR9KTtcblx0XHRcdGlmKGZpcnN0TWVzc2FnZSkge1xuXHRcdFx0XHRmaXJzdE1lc3NhZ2Uuc2Nyb2xsSW50b1ZpZXcoKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdF9yZWdpc3RlckNsaWNrRXZlbnRIYW5kbGVycygpIHtcblx0XHQvLyBDbG9zZSBjb252ZXJzYXRpb24gYnV0dG9uIGxpc3RlbmVyXG5cdFx0bGV0IGNsb3NlQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaF9jb252X2Nsb3NlX2J0blwiKTtcblx0XHRjbG9zZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGRhdGEpID0+IHtcblx0XHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hfY29udl93aW5kb3dcIikucmVtb3ZlKCk7XG5cdFx0XHR0aGlzLndpZGdldC5jb252V2luZG93cy5wb3AoKTtcblx0XHR9KTtcblxuXHRcdC8vIENvbnZlcnNhdGlvbiBvcHRpb24gYnV0dG9uIGxpc3RlbmVyXG5cdFx0bGV0IG9wdGlvbkJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hfY29udl9vcHRpb25zXCIpO1xuXHRcdG9wdGlvbkJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGRhdGEpID0+IHtcblx0XHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hfY29udl9kcm9wX2Rvd25cIikuY2xhc3NMaXN0LnRvZ2dsZShcImNoLXNob3ctZWxlbWVudFwiKTtcblx0XHR9KTtcblxuXHRcdC8vIENvbnZlcnNhdGlvbiBjbGVhciBidXR0b24gbGlzdGVuZXJcblx0XHRsZXQgY2xlYXJCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoX2NvbnZfY2xlYXJcIik7XG5cdFx0Y2xlYXJCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChkYXRhKSA9PiB7XG5cdFx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoX2NvbnZfZHJvcF9kb3duXCIpLmNsYXNzTGlzdC50b2dnbGUoXCJjaC1zaG93LWVsZW1lbnRcIik7XG5cdFx0XHR0aGlzLmNsZWFyQ29udmVyc2F0aW9uKCk7XG5cdFx0fSk7XG5cblx0XHQvLyBDb252ZXJzYXRpb24gZGVsZXRlIGJ1dHRvbiBsaXN0ZW5lclxuXHRcdGxldCBkZWxldGVCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoX2NvbnZfZGVsZXRlXCIpO1xuXHRcdGRlbGV0ZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGRhdGEpID0+IHtcblx0XHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hfY29udl9kcm9wX2Rvd25cIikuY2xhc3NMaXN0LnRvZ2dsZShcImNoLXNob3ctZWxlbWVudFwiKTtcblx0XHRcdHRoaXMuZGVsZXRlQ29udmVyc2F0aW9uKCk7XG5cdFx0fSk7XG5cblx0XHQvLyBNZW1iZXIgYmxvY2sgIGJ1dHRvbiBsaXN0ZW5lclxuXHRcdGxldCBibG9ja0J0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hfY29udl9ibG9ja1wiKTtcblx0XHRpZihibG9ja0J0bikge1xuXHRcdFx0YmxvY2tCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChkYXRhKSA9PiB7XG5cdFx0XHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hfY29udl9kcm9wX2Rvd25cIikuY2xhc3NMaXN0LnRvZ2dsZShcImNoLXNob3ctZWxlbWVudFwiKTtcblx0XHRcdFx0dGhpcy5jaEFkYXB0ZXIuYmxvY2tNZW1iZXIodGhpcy5jb252ZXJzYXRpb24udXNlci5pZCwgKGVyciwgcmVzKSA9PiB7XG5cdFx0XHRcdFx0aWYoZXJyKSByZXR1cm4gY29uc29sZS5lcnJvcihlcnIpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdC8vIE1lbWJlciB1bmJsb2NrIGJ1dHRvbiBsaXN0ZW5lclxuXHRcdGxldCB1bmJsb2NrQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaF9jb252X3VuYmxvY2tcIik7XG5cdFx0aWYodW5ibG9ja0J0bikge1xuXHRcdFx0dW5ibG9ja0J0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGRhdGEpID0+IHtcblx0XHRcdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaF9jb252X2Ryb3BfZG93blwiKS5jbGFzc0xpc3QudG9nZ2xlKFwiY2gtc2hvdy1lbGVtZW50XCIpO1xuXHRcdFx0XHR0aGlzLmNoQWRhcHRlci51bmJsb2NrTWVtYmVyKHRoaXMuY29udmVyc2F0aW9uLnVzZXIuaWQsIChlcnIsIHJlcykgPT4ge1xuXHRcdFx0XHRcdGlmKGVycikgcmV0dXJuIGNvbnNvbGUuZXJyb3IoZXJyKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHQvLyBTZW5kIG1lc3NhZ2Ugb24gRW50ZXIgcHJlc3Ncblx0XHRsZXQgaW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoX2lucHV0X2JveFwiKTtcblx0XHRpbnB1dC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCAoZGF0YSkgPT4ge1xuXHRcdFx0aWYoZGF0YS5rZXlDb2RlID09PSAxMykge1xuXHRcdFx0XHRkYXRhLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdHRoaXMuc2VuZE1lc3NhZ2UoXCJ0ZXh0XCIpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Ly8gU2VuZCBidXR0b24gbGlzdGVuZXJcblx0XHRsZXQgc2VuZEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hfc2VuZF9idXR0b25cIik7XG5cdFx0c2VuZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGRhdGEpID0+IHtcblx0XHRcdHRoaXMuc2VuZE1lc3NhZ2UoXCJ0ZXh0XCIpO1xuXHRcdH0pO1xuXG5cdFx0Ly8gU2Nyb2xsIG1lc3NhZ2UgYm94IGxpc3RlbmVyXG5cdFx0bGV0IG1zZ0JveCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hfbWVzc2FnZXNfYm94XCIpO1xuXHRcdG1zZ0JveC5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIChkYXRhKSA9PiB7XG5cdFx0XHRpZihtc2dCb3guc2Nyb2xsVG9wID09IDApXG5cdFx0XHRcdHRoaXMuX2xvYWRNb3JlTWVzc2FnZXMoKTtcblx0XHR9KTtcblxuXHRcdC8vIEF0dGFjaG1lbnQgYnV0dG9uIGxpc3RlbmVyXG5cdFx0bGV0IGF0dGFjaG1lbnRCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoX2F0dGFjaG1lbnRfYnRuXCIpO1xuXHRcdGF0dGFjaG1lbnRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChkYXRhKSA9PiB7XG5cdFx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoX21lZGlhX2RvY2tlclwiKS5jbGFzc0xpc3QudG9nZ2xlKFwiY2gtc2hvdy1kb2NrZXJcIik7XG5cdFx0fSk7XG5cblx0XHQvLyBTZW5kIG1lc3NhZ2Ugb24gaW1hZ2UgY2hvb3NlXG5cdFx0bGV0IGltYWdlSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoX2ltYWdlX2lucHV0XCIpO1xuXHRcdGltYWdlSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCAoZGF0YSkgPT4ge1xuXHRcdFx0aWYoZGF0YS50YXJnZXQuZmlsZXNbMF0uc2l6ZSA+IDI1MDAwMDAwKSB7XG5cdFx0XHRcdHRoaXMudXRpbGl0eS5zaG93V2FybmluZ01zZyhMQU5HVUFHRV9QSFJBU0VTLkZJTEVfU0laRV9XQVJOSU5HKTtcblx0XHRcdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaF9tZWRpYV9kb2NrZXJcIikuY2xhc3NMaXN0LnJlbW92ZShcImNoLXNob3ctZG9ja2VyXCIpO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHR0aGlzLnNlbmRNZXNzYWdlKFwiaW1hZ2VcIik7XG5cdFx0fSk7XG5cblx0XHQvLyBTZW5kIG1lc3NhZ2Ugb24gYXVkaW8gY2hvb3NlXG5cdFx0bGV0IGF1ZGlvSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoX2F1ZGlvX2lucHV0XCIpO1xuXHRcdGF1ZGlvSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCAoZGF0YSkgPT4ge1xuXHRcdFx0aWYoZGF0YS50YXJnZXQuZmlsZXNbMF0uc2l6ZSA+IDI1MDAwMDAwKSB7XG5cdFx0XHRcdHRoaXMudXRpbGl0eS5zaG93V2FybmluZ01zZyhMQU5HVUFHRV9QSFJBU0VTLkZJTEVfU0laRV9XQVJOSU5HKTtcblx0XHRcdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaF9tZWRpYV9kb2NrZXJcIikuY2xhc3NMaXN0LnJlbW92ZShcImNoLXNob3ctZG9ja2VyXCIpO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHR0aGlzLnNlbmRNZXNzYWdlKFwiYXVkaW9cIik7XG5cdFx0fSk7XG5cblx0XHQvLyBTZW5kIG1lc3NhZ2Ugb24gdmlkZW8gY2hvb3NlXG5cdFx0bGV0IHZpZGVvSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoX3ZpZGVvX2lucHV0XCIpO1xuXHRcdHZpZGVvSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCAoZGF0YSkgPT4ge1xuXHRcdFx0aWYoZGF0YS50YXJnZXQuZmlsZXNbMF0uc2l6ZSA+IDI1MDAwMDAwKSB7XG5cdFx0XHRcdHRoaXMudXRpbGl0eS5zaG93V2FybmluZ01zZyhMQU5HVUFHRV9QSFJBU0VTLkZJTEVfU0laRV9XQVJOSU5HKTtcblx0XHRcdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaF9tZWRpYV9kb2NrZXJcIikuY2xhc3NMaXN0LnJlbW92ZShcImNoLXNob3ctZG9ja2VyXCIpO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHR0aGlzLnNlbmRNZXNzYWdlKFwidmlkZW9cIik7XG5cdFx0fSk7XG5cdH1cblxuXHRzZW5kTWVzc2FnZShtc2dUeXBlKSB7XG5cdFx0Ly8gSGlkZSBmaWxlIHBpY2tlclxuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hfbWVkaWFfZG9ja2VyXCIpLmNsYXNzTGlzdC5yZW1vdmUoXCJjaC1zaG93LWRvY2tlclwiKTtcblxuXHRcdC8vIFNob3cgbG9hZGVyIGltYWdlIGlmIG1lZGlhIG1lc3NhZ2Vcblx0XHRpZihtc2dUeXBlICE9IFwidGV4dFwiKSB7XG5cdFx0XHRpZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoX25vX21zZ1wiKSlcblx0XHRcdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaF9ub19tc2dcIikucmVtb3ZlKCk7XG5cblx0XHRcdGxldCBtZXNzYWdlc0JveCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hfbWVzc2FnZXNfYm94XCIpO1xuXHRcdFx0bGV0IG1zZ0xvYWRlckF0dHJpYnV0ZXMgPSBbe1wiaWRcIjpcImNoX21zZ19sb2FkZXJcIn0se1wiY2xhc3NcIjpcImNoLW1zZy1sb2FkZXJcIn1dO1xuXHRcdFx0bGV0IGltYWdlTXNnID0gdGhpcy51dGlsaXR5LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbXNnTG9hZGVyQXR0cmlidXRlcywgbnVsbCwgbWVzc2FnZXNCb3gpO1xuXHRcdFx0aW1hZ2VNc2cuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gXCJ1cmwoXCIgKyBJTUFHRVMuTUVTU0FHRV9MT0FERVIgKyBcIilcIjtcblx0XHRcdGltYWdlTXNnLnNjcm9sbEludG9WaWV3KCk7XG5cdFx0fVxuXG5cdFx0aWYobXNnVHlwZSA9PSBcInRleHRcIikge1xuXHRcdFx0bGV0IGlucHV0VmFsdWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoX2lucHV0X2JveFwiKS52YWx1ZTtcblx0XHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hfaW5wdXRfYm94XCIpLnZhbHVlID0gXCJcIjtcblxuXHRcdFx0aWYoIWlucHV0VmFsdWUudHJpbSgpKVxuXHRcdFx0XHRyZXR1cm47XG5cblx0XHRcdGlmKHRoaXMuY29udmVyc2F0aW9uLmlzRHVtbXlPYmplY3QpIHtcblx0XHRcdFx0bGV0IGRhdGEgPSB7XG5cdFx0XHRcdFx0dHlwZSA6IFwibm9ybWFsXCIsXG5cdFx0XHRcdFx0dXNlcklkIDogdGhpcy5jb252ZXJzYXRpb24udXNlcklkLFxuXHRcdFx0XHRcdGJvZHkgOiBpbnB1dFZhbHVlXG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0aGlzLmNoQWRhcHRlci5zZW5kTWVzc2FnZVRvVXNlcihkYXRhLCAoZXJyLCByZXMpID0+IHtcblx0XHRcdFx0XHRpZihlcnIpIHJldHVybiBjb25zb2xlLmVycm9yKGVycik7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdGxldCBkYXRhID0ge1xuXHRcdFx0XHRcdHR5cGUgOiBcIm5vcm1hbFwiLFxuXHRcdFx0XHRcdGJvZHkgOiBpbnB1dFZhbHVlXG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0aGlzLmNoQWRhcHRlci5zZW5kTWVzc2FnZSh0aGlzLmNvbnZlcnNhdGlvbiwgZGF0YSwgKGVyciwgcmVzKSA9PiB7XG5cdFx0XHRcdFx0aWYoZXJyKSByZXR1cm4gY29uc29sZS5lcnJvcihlcnIpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9XG5cdFx0ZWxzZSBpZihtc2dUeXBlID09IFwiaW1hZ2VcIikge1xuXHRcdFx0bGV0IGZpbGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoX2ltYWdlX2lucHV0XCIpLmZpbGVzWzBdO1xuXG5cdFx0XHQvLyBVcGxvYWQgZmlsZSBvbiBjaGFubmVsaXplIHNlcnZlclxuXHRcdFx0dGhpcy5jaEFkYXB0ZXIudXBsb2FkRmlsZShmaWxlLCB0cnVlLCAoZXJyLCBmaWxlRGF0YSkgPT4ge1xuXHRcdFx0XHRpZihlcnIpIHJldHVybiBjb25zb2xlLmVycm9yKGVycik7XG5cblx0XHRcdFx0dGhpcy5fc2VuZEZpbGVNZXNzYWdlKGZpbGVEYXRhKTtcblx0XHRcdH0pO1xuXHRcdH1cblx0XHRlbHNlIGlmKG1zZ1R5cGUgPT0gXCJhdWRpb1wiKSB7XG5cdFx0XHRsZXQgZmlsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hfYXVkaW9faW5wdXRcIikuZmlsZXNbMF07XG5cblx0XHRcdC8vIFVwbG9hZCBmaWxlIG9uIGNoYW5uZWxpemUgc2VydmVyXG5cdFx0XHR0aGlzLmNoQWRhcHRlci51cGxvYWRGaWxlKGZpbGUsIHRydWUsIChlcnIsIGZpbGVEYXRhKSA9PiB7XG5cdFx0XHRcdGlmKGVycikgcmV0dXJuIGNvbnNvbGUuZXJyb3IoZXJyKTtcblxuXHRcdFx0XHR0aGlzLl9zZW5kRmlsZU1lc3NhZ2UoZmlsZURhdGEpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdGVsc2UgaWYobXNnVHlwZSA9PSBcInZpZGVvXCIpIHtcblx0XHRcdGxldCBmaWxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaF92aWRlb19pbnB1dFwiKS5maWxlc1swXTtcblx0XHRcdC8vIFVwbG9hZCBmaWxlIG9uIGNoYW5uZWxpemUgc2VydmVyXG5cdFx0XHR0aGlzLmNoQWRhcHRlci51cGxvYWRGaWxlKGZpbGUsIHRydWUsIChlcnIsIGZpbGVEYXRhKSA9PiB7XG5cdFx0XHRcdGlmKGVycikgcmV0dXJuIGNvbnNvbGUuZXJyb3IoZXJyKTtcblxuXHRcdFx0XHR0aGlzLl9zZW5kRmlsZU1lc3NhZ2UoZmlsZURhdGEpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG5cblx0X3NlbmRGaWxlTWVzc2FnZShmaWxlRGF0YSkge1xuXHRcdGZpbGVEYXRhLnR5cGUgPSBmaWxlRGF0YS5hdHRhY2htZW50VHlwZTtcblxuXHRcdGxldCBkYXRhID0ge1xuXHRcdFx0dHlwZSA6IFwibm9ybWFsXCIsXG5cdFx0XHRhdHRhY2htZW50cyA6IFtmaWxlRGF0YV1cblx0XHR9XG5cblx0XHQvLyBTZW5kIGZpbGUgbWVzc2FnZSBhcyBhdHRhY2htZW50XG5cdFx0aWYodGhpcy5jb252ZXJzYXRpb24uaXNEdW1teU9iamVjdCkge1xuXHRcdFx0ZGF0YVsndXNlcklkJ10gPSB0aGlzLmNvbnZlcnNhdGlvbi51c2VySWQ7XG5cdFx0XHR0aGlzLmNoQWRhcHRlci5zZW5kTWVzc2FnZVRvVXNlcihkYXRhLCAoZXJyLCBtZXNzYWdlKSA9PiB7XG5cdFx0XHRcdGlmKGVycikgcmV0dXJuIGNvbnNvbGUuZXJyb3IoZXJyKTtcblx0XHRcdH0pO1xuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdHRoaXMuY2hBZGFwdGVyLnNlbmRNZXNzYWdlKHRoaXMuY29udmVyc2F0aW9uLCBkYXRhLCAoZXJyLCBtZXNzYWdlKSA9PiB7XG5cdFx0XHRcdGlmKGVycikgcmV0dXJuIGNvbnNvbGUuZXJyb3IoZXJyKTtcblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXG5cdGNsZWFyQ29udmVyc2F0aW9uKCkge1xuXHRcdHRoaXMuY2hBZGFwdGVyLmNsZWFyQ29udmVyc2F0aW9uKHRoaXMuY29udmVyc2F0aW9uLCAoZXJyLCByZXMpID0+IHtcblx0XHRcdGlmKGVycikgcmV0dXJuIGNvbnNvbGUuZXJyb3IoZXJyKTtcblx0XHR9KTtcblx0fVxuXG5cdGRlbGV0ZUNvbnZlcnNhdGlvbigpIHtcblx0XHR0aGlzLmNoQWRhcHRlci5kZWxldGVDb252ZXJzYXRpb24odGhpcy5jb252ZXJzYXRpb24sIChlcnIsIHJlcykgPT4ge1xuXHRcdFx0aWYoZXJyKSByZXR1cm4gY29uc29sZS5lcnJvcihlcnIpO1xuXHRcdH0pO1xuXHR9XG5cblx0X2dldE1lc3NhZ2VzKGNvbnZlcnNhdGlvbiwgbGltaXQsIHNraXAsIGlkcywgdHlwZXMsIGF0dGFjaG1lbnRUeXBlcywgb3duZXJJZHMsIGNiKSB7XG5cdFx0dGhpcy5jaEFkYXB0ZXIuZ2V0TWVzc2FnZXMoY29udmVyc2F0aW9uLCBsaW1pdCwgc2tpcCwgIGlkcywgdHlwZXMsIGF0dGFjaG1lbnRUeXBlcywgb3duZXJJZHMsIChlcnIsIG1lc3NhZ2VzKSA9PiB7XG5cdFx0XHRpZihlcnIpIHJldHVybiBjYihlcnIpO1xuXG5cdFx0XHRtZXNzYWdlcy5yZXZlcnNlKCk7XG5cdFx0XHRyZXR1cm4gY2IobnVsbCwgbWVzc2FnZXMpO1xuXHRcdH0pO1xuXHR9XG5cblx0X21vZGlmeU1lc3NhZ2UobWVzc2FnZSkge1xuXHRcdGlmKCFtZXNzYWdlKVxuXHRcdFx0cmV0dXJuIG1lc3NhZ2U7XG5cblx0XHQvLyBIYW5kbGUgbWV0YSBtZXNzYWdlXG5cdFx0aWYobWVzc2FnZS50eXBlID09IFwiYWRtaW5cIikge1xuXG5cdFx0XHQvLyBhZG1pbk1lc3NhZ2VUeXBlXG5cdFx0XHRzd2l0Y2gobWVzc2FnZS5ib2R5KSB7XG5cdFx0XHRcdGNhc2UgXCJhZG1pbl9ncm91cF9jcmVhdGVcIiA6XG5cdFx0XHRcdFx0bWVzc2FnZS5ib2R5ID0gTEFOR1VBR0VfUEhSQVNFUy5HUk9VUF9DUkVBVEVEO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgXCJhZG1pbl9ncm91cF9jaGFuZ2VfcGhvdG9cIiA6XG5cdFx0XHRcdFx0bWVzc2FnZS5ib2R5ID0gTEFOR1VBR0VfUEhSQVNFUy5HUk9VUF9QSE9UT19DSEFOR0VEO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgXCJhZG1pbl9ncm91cF9jaGFuZ2VfdGl0bGVcIiA6XG5cdFx0XHRcdFx0bWVzc2FnZS5ib2R5ID0gTEFOR1VBR0VfUEhSQVNFUy5HUk9VUF9USVRMRV9DSEFOR0VEO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgXCJhZG1pbl9ncm91cF9hZGRfbWVtYmVyc1wiIDpcblx0XHRcdFx0XHRtZXNzYWdlLmJvZHkgPSBMQU5HVUFHRV9QSFJBU0VTLkdST1VQX01FTUJFUl9BRERFRDtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIFwiYWRtaW5fZ3JvdXBfcmVtb3ZlX21lbWJlcnNcIiA6XG5cdFx0XHRcdFx0bWVzc2FnZS5ib2R5ID0gTEFOR1VBR0VfUEhSQVNFUy5HUk9VUF9NRU1CRVJfUkVNT1ZFRDtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIFwiYWRtaW5fZ3JvdXBfbWFrZV9hZG1pblwiIDpcblx0XHRcdFx0XHRtZXNzYWdlLmJvZHkgPSBMQU5HVUFHRV9QSFJBU0VTLkdST1VQX0FETUlOX1VQREFURUQ7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbWVzc2FnZTtcblx0XHR9XG5cblx0XHQvLyBTZXQgcmVhZCBzdGF0dXMgb2YgbWVzc2FnZVxuXHRcdGlmKCF0aGlzLmNvbnZlcnNhdGlvbi5pc0R1bW15T2JqZWN0KSB7XG5cdFx0XHRtZXNzYWdlLnJlYWRCeUFsbCA9IHRoaXMuY2hBZGFwdGVyLnJlYWRCeUFsbE1lbWJlcnModGhpcy5jb252ZXJzYXRpb24sIG1lc3NhZ2UpO1xuXHRcdH1cblxuXHQgICAgbWVzc2FnZS5jcmVhdGVkQXQgPSB0aGlzLnV0aWxpdHkudXBkYXRlVGltZUZvcm1hdChtZXNzYWdlLmNyZWF0ZWRBdCk7XG5cblx0ICAgIGlmKG1lc3NhZ2UuaXNEZWxldGVkKSB7XG5cdCAgICBcdG1lc3NhZ2UuYm9keSA9IFwiPGk+XCIgKyBMQU5HVUFHRV9QSFJBU0VTLk1FU1NBR0VfREVMRVRFRDtcblx0ICAgIH1cblxuXHQgICAgcmV0dXJuIG1lc3NhZ2U7XG5cdH1cblxuXHRfbWFya0FzUmVhZChjb252ZXJzYXRpb24pIHtcblx0XHRsZXQgY3VycmVudERhdGUgPSBuZXcgRGF0ZSgpO1xuXHRcdGxldCB0aW1lc3RhbXAgPSBjdXJyZW50RGF0ZS50b0lTT1N0cmluZygpO1xuXHQgIFx0dGhpcy5jaEFkYXB0ZXIubWFya0FzUmVhZENvbnZlcnNhdGlvbihjb252ZXJzYXRpb24sIHRpbWVzdGFtcCwgKGVyciwgcmVzKSA9PiB7XG5cdCAgXHRcdGlmKGVycikgcmV0dXJuIGNvbnNvbGUuZXJyb3IoZXJyKTtcblx0ICBcdH0pO1xuXHR9XG5cblx0YWRkTmV3TWVzc2FnZShtZXNzYWdlKSB7XG5cdFx0bWVzc2FnZSA9IHRoaXMuX21vZGlmeU1lc3NhZ2UobWVzc2FnZSk7XG5cdFx0dGhpcy5tZXNzYWdlcy5wdXNoKG1lc3NhZ2UpO1xuXG5cdFx0bGV0IG1lc3NhZ2VzQm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaF9tZXNzYWdlc19ib3hcIik7XG5cdFx0aWYobWVzc2FnZS50eXBlID09IFwiYWRtaW5cIikge1xuXHRcdFx0bGV0IG1ldGFNZXNzYWdlQXR0cmlidXRlcyA9IFt7XCJjbGFzc1wiOlwiY2gtYWRtaW4tbXNnXCJ9XTtcblx0XHRcdHRoaXMudXRpbGl0eS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG1ldGFNZXNzYWdlQXR0cmlidXRlcywgbWVzc2FnZS5ib2R5LCBtZXNzYWdlc0JveCk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gSGlkZSBtZXNzYWdlIGxvYWRlclxuXHRcdGlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hfbXNnX2xvYWRlclwiKSAmJiBtZXNzYWdlLm93bmVySWQgPT0gdGhpcy53aWRnZXQudXNlcklkKSB7XG5cdFx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoX21zZ19sb2FkZXJcIikucmVtb3ZlKCk7XG5cdFx0fVxuXG5cdFx0aWYobWVzc2FnZS5jb252ZXJzYXRpb25JZCAhPSB0aGlzLmNvbnZlcnNhdGlvbi5pZCB8fCAhbWVzc2FnZXNCb3gpXG5cdFx0XHRyZXR1cm47XG5cblx0XHRtZXNzYWdlLmNyZWF0ZWRBdCA9IHRoaXMudXRpbGl0eS51cGRhdGVUaW1lRm9ybWF0KERhdGUoKSk7XG5cblx0XHQvLyBSZW1vdmUgbm8gbWVzc2FnZSB0YWdcblx0XHRpZihtZXNzYWdlc0JveC5maXJzdENoaWxkICYmIG1lc3NhZ2VzQm94LmZpcnN0Q2hpbGQuaWQgPT0gXCJjaF9ub19tc2dcIilcblx0XHRcdG1lc3NhZ2VzQm94LmZpcnN0Q2hpbGQucmVtb3ZlKCk7XG5cblx0XHQvLyBDcmVhdGUgbWVzc2FnZSBsaXN0XG5cdFx0bGV0IG1zZ0xpc3RBdHRyaWJ1dGVzID0gW3tcImlkXCI6bWVzc2FnZS5pZH0se1wiY2xhc3NcIjpcImNoLW1zZy1saXN0XCJ9XTtcblx0XHRsZXQgbXNnTGlzdCA9IHRoaXMudXRpbGl0eS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG1zZ0xpc3RBdHRyaWJ1dGVzLCBudWxsLCBtZXNzYWdlc0JveCk7XG5cblx0XHQvLyBDcmVhdGUgbWVzc2FnZSBjb250YWluZXJcblx0XHRsZXQgbXNnQ29udGFpbmVyQXR0cmlidXRlcyA9IFt7XCJjbGFzc1wiOlwiY2gtbXNnLWNvbnRhaW5lclwifV07XG5cdFx0bGV0IG1zZ0NvbnRhaW5lciA9IHRoaXMudXRpbGl0eS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG1zZ0NvbnRhaW5lckF0dHJpYnV0ZXMsIG51bGwsIG1zZ0xpc3QpO1xuXG5cdFx0Ly8gQ3JlYXRlIG1lc3NhZ2UgbW9yZSBvcHRpb25zXG5cdFx0bGV0IG1vcmVPcHRpb25BdHRyaWJ1dGVzID0gW3tcImNsYXNzXCI6XCJjaC1tc2ctbW9yZS1vcHRpb25cIn1dO1xuXHRcdGxldCBtb3JlT3B0aW9uID0gdGhpcy51dGlsaXR5LmNyZWF0ZUVsZW1lbnQoXCJpXCIsIG1vcmVPcHRpb25BdHRyaWJ1dGVzLCBcIm1vcmVfdmVydFwiLCBtc2dMaXN0KTtcblx0XHRtb3JlT3B0aW9uLmNsYXNzTGlzdC5hZGQoXCJtYXRlcmlhbC1pY29uc1wiKTtcblx0XHR0aGlzLl9hZGRMaXN0ZW5lck9uTW9yZU9wdGlvbihtZXNzYWdlLCBtb3JlT3B0aW9uLCBtc2dMaXN0KTtcblxuXHRcdC8vIENyZWF0ZSBtZXNzYWdlIGRpdlxuXHRcdGxldCBtc2dEaXZBdHRyaWJ1dGVzID0gW3tcImlkXCI6XCJjaF9tZXNzYWdlX1wiK21lc3NhZ2UuaWR9LHtcImNsYXNzXCI6XCJjaC1tZXNzYWdlXCJ9XTtcblx0XHRsZXQgbXNnRGl2ID0gdGhpcy51dGlsaXR5LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbXNnRGl2QXR0cmlidXRlcywgbWVzc2FnZS5ib2R5LCBtc2dDb250YWluZXIpO1xuXG5cdFx0Ly8gQ3JlYXRlIG1lZGlhIG1lc3NhZ2UgZnJhbWVcblx0XHR0aGlzLl9jcmVhdGVNZWRpYU1lc3NhZ2VGcmFtZShtZXNzYWdlLCBtc2dEaXYpO1xuXG5cdFx0Ly8gQ3JlYXRlIG1lc3NhZ2UgdGltZSBzcGFuXG5cdFx0bGV0IG1zZ1RpbWVBdHRyaWJ1dGVzID0gW3tcImlkXCI6XCJjaF9tc2dfdGltZVwifSx7XCJjbGFzc1wiOlwiY2gtbXNnLXRpbWVcIn1dO1xuXHRcdGxldCBtc2dUaW1lID0gdGhpcy51dGlsaXR5LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIG1zZ1RpbWVBdHRyaWJ1dGVzLCBtZXNzYWdlLmNyZWF0ZWRBdCwgbXNnQ29udGFpbmVyKTtcblxuXG5cdFx0aWYobWVzc2FnZS5vd25lcklkID09IHRoaXMud2lkZ2V0LnVzZXJJZCkge1xuXHRcdFx0bXNnQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJyaWdodFwiKTtcblx0XHRcdG1vcmVPcHRpb24uY2xhc3NMaXN0LmFkZChcImxlZnRcIik7XG5cdFx0XHQvLyBDcmVhdGUgbWVzc2FnZSByZWFkIHN0YXR1c1xuXHRcdFx0bGV0IHN0YXR1c0F0dHJpYnV0ZXMgPSBbe1wiaWRcIjpcImNoX21zZ19zdGF0dXNcIn1dO1xuXHRcdFx0bGV0IHJlYWRJY29uID0gbWVzc2FnZS5yZWFkQnlBbGwgPyBcImRvbmVfYWxsXCIgOiBcImNoZWNrXCI7XG5cdFx0XHRsZXQgbXNnU3RhdHVzID0gdGhpcy51dGlsaXR5LmNyZWF0ZUVsZW1lbnQoXCJpXCIsIHN0YXR1c0F0dHJpYnV0ZXMsIHJlYWRJY29uLCBtc2dDb250YWluZXIpO1xuXHRcdFx0bXNnU3RhdHVzLmNsYXNzTGlzdC5hZGQoXCJtYXRlcmlhbC1pY29uc1wiLCBcImNoLW1zZy1zdGF0dXNcIik7XG5cdFx0fVxuXHRcdGVsc2Uge1xuXHRcdFx0bXNnQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJsZWZ0XCIpO1xuXHRcdFx0bW9yZU9wdGlvbi5jbGFzc0xpc3QuYWRkKFwicmlnaHRcIik7XG5cblx0XHRcdC8vIE1lc3NhZ2UgbWFyayBhIHJlYWRcblx0XHRcdHRoaXMuX21hcmtBc1JlYWQodGhpcy5jb252ZXJzYXRpb24pO1xuXHRcdH1cblxuXHRcdC8vIFNjcm9sbCB0byBuZXcgbWVzc2FnZVxuXHRcdGlmKG1lc3NhZ2VzQm94KVxuXHRcdFx0bWVzc2FnZXNCb3guc2Nyb2xsVG9wID0gbWVzc2FnZXNCb3guc2Nyb2xsSGVpZ2h0O1xuXHR9XG5cblx0dXBkYXRlTXNnU3RhdHVzKGRhdGEpIHtcblx0XHRpZihkYXRhLmNvbnZlcnNhdGlvbi5pZCAhPSB0aGlzLmNvbnZlcnNhdGlvbi5pZClcblx0XHRcdHJldHVybjtcblxuXHRcdGlmKCF0aGlzLmNvbnZlcnNhdGlvbi5pc0dyb3VwKSB7XG5cdFx0XHRpZih0aGlzLm1lc3NhZ2VzW3RoaXMubWVzc2FnZXMubGVuZ3RoLTJdLnJlYWRCeUFsbCkge1xuXHRcdFx0XHRsZXQgbGFzdE1lc3NhZ2UgPSB0aGlzLm1lc3NhZ2VzW3RoaXMubWVzc2FnZXMubGVuZ3RoLTFdO1xuXHRcdFx0XHRsYXN0TWVzc2FnZS5yZWFkQnlBbGwgPSB0cnVlO1xuXG5cdFx0XHRcdC8vIFVwZGF0ZSByZWFkIHRhZyBpY29uXG5cdFx0XHRcdGxldCBtc2dEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChsYXN0TWVzc2FnZS5pZCk7XG5cdFx0XHRcdGlmKG1zZ0Rpdikge1xuXHRcdFx0XHRcdGxldCBzdGF0dXNEaXYgPSBtc2dEaXYucXVlcnlTZWxlY3RvcihcIiNjaF9tc2dfc3RhdHVzXCIpO1xuXG5cdFx0XHRcdFx0aWYoc3RhdHVzRGl2KSB7XG5cdFx0XHRcdFx0XHRzdGF0dXNEaXYuaW5uZXJIVE1MID0gXCJkb25lX2FsbFwiO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdHRoaXMubWVzc2FnZXMuZm9yRWFjaChtc2cgPT4ge1xuXHRcdFx0XHRcdG1zZy5yZWFkQnlBbGwgPSB0cnVlO1xuXG5cdFx0XHRcdFx0Ly8gVXBkYXRlIHJlYWQgdGFnIGljb25cblx0XHRcdFx0XHRsZXQgbXNnRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobXNnLmlkKTtcblx0XHRcdFx0XHRpZihtc2dEaXYpIHtcblx0XHRcdFx0XHRcdGxldCBzdGF0dXNEaXYgPSBtc2dEaXYucXVlcnlTZWxlY3RvcihcIiNjaF9tc2dfc3RhdHVzXCIpO1xuXG5cdFx0XHRcdFx0XHRpZihzdGF0dXNEaXYpIHtcblx0XHRcdFx0XHRcdFx0c3RhdHVzRGl2LmlubmVySFRNTCA9IFwiZG9uZV9hbGxcIjtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHVwZGF0ZVVzZXJTdGF0dXModXNlcikge1xuXHRcdGlmKHRoaXMuY29udmVyc2F0aW9uLmlzR3JvdXAgfHwgIXRoaXMuY29udmVyc2F0aW9uLnVzZXIgfHwgKHRoaXMuY29udmVyc2F0aW9uLnVzZXIuaWQgIT0gdXNlci5pZCkpXG5cdFx0XHRyZXR1cm47XG5cblx0XHRpZih1c2VyLmlzT25saW5lKSB7XG5cdFx0XHR0aGlzLmNvbnZlcnNhdGlvbi5zdGF0dXMgPSBMQU5HVUFHRV9QSFJBU0VTLk9OTElORTtcblx0XHR9XG5cdFx0ZWxzZSBpZighdXNlci5pc09ubGluZSAmJiB1c2VyLmxhc3RTZWVuKSB7XG5cdFx0XHR0aGlzLmNvbnZlcnNhdGlvbi5zdGF0dXMgPSBMQU5HVUFHRV9QSFJBU0VTLkxBU1RfU0VFTiArIHRoaXMudXRpbGl0eS51cGRhdGVUaW1lRm9ybWF0KHVzZXIubGFzdFNlZW4pO1xuXHRcdH1cblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoX2NvbnZfc3RhdHVzXCIpLmlubmVyVGV4dCA9IHRoaXMuY29udmVyc2F0aW9uLnN0YXR1cztcblx0fVxuXG5cdF9jcmVhdGVNZWRpYU1lc3NhZ2VGcmFtZShtZXNzYWdlLCBwYXJlbnREaXYpIHtcblxuXHQgIFx0Ly8gQ3JlYXRlIG1lc3NhZ2UgZGl2XG5cdCAgXHRpZighbWVzc2FnZS5ib2R5ICYmIE9iamVjdC5rZXlzKG1lc3NhZ2UuYXR0YWNobWVudHMpLmxlbmd0aCAhPSAwKSB7XG5cdCAgXHRcdG1lc3NhZ2UuYXR0YWNobWVudHMuZm9yRWFjaChhdHRhY2htZW50ID0+IHtcblxuXHRcdCAgXHRcdGlmKGF0dGFjaG1lbnQudHlwZSA9PSBcImF1ZGlvXCIpIHtcblx0XHQgIFx0XHRcdGxldCBhdWRpb01zZ0F0dHJpYnV0ZXMgPSBbe1wiaWRcIjpcImNoX2F1ZGlvX21lc3NhZ2VcIn0se1wiY2xhc3NcIjpcImNoLWF1ZGlvLW1lc3NhZ2VcIn0se1wic3JjXCI6YXR0YWNobWVudC5maWxlVXJsfV07XG5cdFx0XHRcdFx0bGV0IGF1ZGlvVGFnID0gdGhpcy51dGlsaXR5LmNyZWF0ZUVsZW1lbnQoXCJhdWRpb1wiLCBhdWRpb01zZ0F0dHJpYnV0ZXMsIG51bGwsIHBhcmVudERpdik7XG5cdFx0XHRcdFx0YXVkaW9UYWcuc2V0QXR0cmlidXRlKFwiY29udHJvbHNcIix0cnVlKTtcblx0XHQgIFx0XHR9XG5cdFx0ICBcdFx0ZWxzZSBpZihhdHRhY2htZW50LnR5cGUgPT0gXCJ2aWRlb1wiKSB7XG5cdFx0ICBcdFx0XHRsZXQgdmlkZW9Nc2dBdHRyaWJ1dGVzID0gW3tcImlkXCI6XCJjaF92aWRlb19tZXNzYWdlXCJ9LHtcImNsYXNzXCI6XCJjaC12aWRlby1tZXNzYWdlXCJ9XTtcblx0XHRcdFx0XHRsZXQgdmlkZW9NZXNzYWdlID0gdGhpcy51dGlsaXR5LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgdmlkZW9Nc2dBdHRyaWJ1dGVzLCBudWxsLCBwYXJlbnREaXYpO1xuXHRcdFx0XHRcdHZpZGVvTWVzc2FnZS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBcInVybChcIiArIGF0dGFjaG1lbnQudGh1bWJuYWlsVXJsICsgXCIpXCI7XG5cblx0XHRcdFx0XHQvLyBDcmVhdGUgcGxheSBpY29uXG5cdFx0XHRcdFx0bGV0IHBsYXlJY29uQXR0cmlidXRlcyA9IFt7XCJpZFwiOlwiY2hfcGxheV9pY29uXCJ9XTtcblx0XHRcdFx0XHRsZXQgcGxheUljb24gPSB0aGlzLnV0aWxpdHkuY3JlYXRlRWxlbWVudChcImlcIiwgcGxheUljb25BdHRyaWJ1dGVzLCBcInBsYXlfY2lyY2xlX291dGxpbmVcIiwgdmlkZW9NZXNzYWdlKTtcblx0XHRcdFx0XHRwbGF5SWNvbi5jbGFzc0xpc3QuYWRkKFwibWF0ZXJpYWwtaWNvbnNcIiwgXCJjaC1wbGF5LWljb25cIik7XG5cblx0XHRcdFx0XHQvLyBTZXQgdmlkZW8gbWVzc2FnZSBsaXN0ZW5lclxuXHRcdFx0XHRcdHZpZGVvTWVzc2FnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZGF0YSA9PiB7XG5cdFx0XHRcdFx0XHR3aW5kb3cub3BlbihhdHRhY2htZW50LmZpbGVVcmwsIFwiX2JsYW5rXCIpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdCAgXHRcdH1cblx0XHQgIFx0XHRlbHNlIGlmKGF0dGFjaG1lbnQudHlwZSA9PSBcInN0aWNrZXJcIikge1xuXHRcdCAgXHRcdFx0bGV0IHN0aWNrZXJNc2dBdHRyaWJ1dGVzID0gW3tcImlkXCI6XCJjaF9zdGlja2VyX21lc3NhZ2VcIn0se1wiY2xhc3NcIjpcImNoLXN0aWNrZXItbWVzc2FnZVwifV07XG5cdFx0XHRcdFx0bGV0IHN0aWNrZXJNc2cgPSB0aGlzLnV0aWxpdHkuY3JlYXRlRWxlbWVudChcImRpdlwiLCBzdGlja2VyTXNnQXR0cmlidXRlcywgbnVsbCwgcGFyZW50RGl2KTtcblx0XHRcdFx0XHRzdGlja2VyTXNnLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IFwidXJsKFwiICsgYXR0YWNobWVudC5vcmlnaW5hbFVybCArIFwiKVwiO1xuXHRcdCAgXHRcdH1cblx0XHQgIFx0XHRlbHNlIGlmKGF0dGFjaG1lbnQudHlwZSA9PSBcImdpZlwiKSB7XG5cdFx0ICBcdFx0XHRsZXQgc3RpY2tlck1zZ0F0dHJpYnV0ZXMgPSBbe1wiaWRcIjpcImNoX2dpZl9tZXNzYWdlXCJ9LHtcImNsYXNzXCI6XCJjaC1zdGlja2VyLW1lc3NhZ2VcIn1dO1xuXHRcdFx0XHRcdGxldCBzdGlja2VyTXNnID0gdGhpcy51dGlsaXR5LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgc3RpY2tlck1zZ0F0dHJpYnV0ZXMsIG51bGwsIHBhcmVudERpdik7XG5cdFx0XHRcdFx0c3RpY2tlck1zZy5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBcInVybChcIiArIGF0dGFjaG1lbnQub3JpZ2luYWxVcmwgKyBcIilcIjtcblx0XHQgIFx0XHR9XG5cdFx0ICBcdFx0ZWxzZSBpZihhdHRhY2htZW50LnR5cGUgPT0gXCJsb2NhdGlvblwiKSB7XG5cdFx0ICBcdFx0XHRsZXQgbG9jYXRpb25TcmMgPSBTRVRUSU5HUy5MT0NBVElPTl9JTUdfVVJMICsgXCI/Y2VudGVyPVwiICtcblx0XHRcdCAgXHRcdGF0dGFjaG1lbnQubGF0aXR1ZGUgKyBcIixcIiArIGF0dGFjaG1lbnQubG9uZ2l0dWRlICsgXCImem9vbT0xNSZzaXplPTIwOHgxMDAmbWFwdHlwZT1yb2FkbWFwJm1hcmtlcnM9Y29sb3I6cmVkJTdDXCIgK1xuXHRcdFx0ICBcdFx0YXR0YWNobWVudC5sYXRpdHVkZSArIFwiLFwiICsgYXR0YWNobWVudC5sb25naXR1ZGUgKyBcIiZrZXk9XCIgKyBTRVRUSU5HUy5MT0NBVElPTl9BUElfS0VZO1xuXG5cdFx0XHQgIFx0XHRsZXQgbG9jYXRpb25Nc2dBdHRyaWJ1dGVzID0gW3tcImlkXCI6XCJjaF9sb2NhdGlvbl9tZXNzYWdlXCJ9LHtcImNsYXNzXCI6XCJjaC1sb2NhdGlvbi1tZXNzYWdlXCJ9XTtcblx0XHRcdFx0XHRsZXQgbG9jYXRpb25Nc2cgPSB0aGlzLnV0aWxpdHkuY3JlYXRlRWxlbWVudChcImRpdlwiLCBsb2NhdGlvbk1zZ0F0dHJpYnV0ZXMsIG51bGwsIHBhcmVudERpdik7XG5cdFx0XHRcdFx0bG9jYXRpb25Nc2cuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gXCJ1cmwoXCIgKyBsb2NhdGlvblNyYyArIFwiKVwiO1xuXG5cdFx0XHRcdFx0Ly8gU2V0IGxvY2F0aW9uIG1lc3NhZ2UgbGlzdGVuZXJcblx0XHRcdFx0XHRsb2NhdGlvbk1zZy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZGF0YSA9PiB7XG5cdFx0XHRcdFx0XHRsZXQgbWFwVXJsID0gXCJodHRwczovL3d3dy5nb29nbGUuY29tL21hcHM/ej0xNSZ0PW0mcT1sb2M6XCIrYXR0YWNobWVudC5sYXRpdHVkZStcIixcIithdHRhY2htZW50LmxvbmdpdHVkZTtcblx0XHRcdFx0XHRcdHdpbmRvdy5vcGVuKG1hcFVybCwgXCJfYmxhbmtcIik7XG5cdFx0XHRcdFx0fSk7XG5cdFx0ICBcdFx0fVxuXHRcdCAgXHRcdGVsc2Uge1xuXHRcdCAgXHRcdFx0bGV0IGltYWdlTXNnQXR0cmlidXRlcyA9IFt7XCJpZFwiOlwiY2hfaW1hZ2VfbWVzc2FnZVwifSx7XCJjbGFzc1wiOlwiY2gtaW1hZ2UtbWVzc2FnZVwifV07XG5cdFx0XHRcdFx0bGV0IGltYWdlTXNnID0gdGhpcy51dGlsaXR5LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgaW1hZ2VNc2dBdHRyaWJ1dGVzLCBudWxsLCBwYXJlbnREaXYpO1xuXHRcdFx0XHRcdGltYWdlTXNnLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IFwidXJsKFwiICsgYXR0YWNobWVudC50aHVtYm5haWxVcmwgKyBcIilcIjtcblxuXHRcdFx0XHRcdC8vIFNldCBpbWFnZSBtZXNzYWdlIGxpc3RlbmVyXG5cdFx0XHRcdFx0aW1hZ2VNc2cuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGRhdGEgPT4ge1xuXHRcdFx0XHRcdFx0d2luZG93Lm9wZW4oYXR0YWNobWVudC5maWxlVXJsLCBcIl9ibGFua1wiKTtcblx0XHRcdFx0XHR9KTtcblx0XHQgIFx0XHR9XG5cdFx0ICBcdH0pO1xuXHQgIFx0fVxuXHR9XG5cblx0X2FkZExpc3RlbmVyT25Nb3JlT3B0aW9uKG1lc3NhZ2UsIG1vcmVPcHRpb24sIG1zZ0xpc3QpIHtcblx0XHRtb3JlT3B0aW9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZGF0YSkgPT4ge1xuXHRcdFx0aWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaF9tc2dfb3B0aW9uX2NvbnRhaW5lclwiKSkge1xuXHRcdFx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoX21zZ19vcHRpb25fY29udGFpbmVyXCIpLnJlbW92ZSgpO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdC8vIENyZWF0ZSBtZXNzYWdlIG9wdGlvbnMgY29udGFpbmVyXG5cdFx0XHRsZXQgbXNnT3B0aW9uc0NvbnRhaW5lckF0dHJpYnV0ZXMgPSBbe1wiaWRcIjpcImNoX21zZ19vcHRpb25fY29udGFpbmVyXCJ9LHtcImNsYXNzXCI6XCJjaC1tc2ctb3B0aW9uLWNvbnRhaW5lclwifV07XG5cdFx0XHRsZXQgbXNnT3B0aW9uc0NvbnRhaW5lciA9IHRoaXMudXRpbGl0eS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG1zZ09wdGlvbnNDb250YWluZXJBdHRyaWJ1dGVzLCBudWxsLCBtc2dMaXN0KTtcblxuXHRcdFx0aWYobWVzc2FnZS5vd25lcklkID09IHRoaXMud2lkZ2V0LnVzZXJJZClcblx0XHRcdFx0bXNnT3B0aW9uc0NvbnRhaW5lci5zdHlsZS5sZWZ0ID0gXCIxNXB4XCI7XG5cdFx0XHRlbHNlXG5cdFx0XHRcdG1zZ09wdGlvbnNDb250YWluZXIuc3R5bGUucmlnaHQgPSBcIjE1cHhcIjtcblxuXHRcdFx0Ly8gQ3JlYXRlIGRlbGV0ZSBtZXNzYWdlIGZvciBtZSBvcHRpb25cblx0XHRcdGxldCBkZWxldGVNc2dBdHRyaWJ1dGVzID0gW3tcImNsYXNzXCI6XCJjaC1tc2ctZGVsZXRlLWZvci1tZVwifV07XG5cdFx0XHRsZXQgZGVsZXRlTXNnT3B0aW9uID0gdGhpcy51dGlsaXR5LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgZGVsZXRlTXNnQXR0cmlidXRlcywgTEFOR1VBR0VfUEhSQVNFUy5ERUxFVEVfRk9SX01FLCBtc2dPcHRpb25zQ29udGFpbmVyKTtcblxuXHRcdFx0Ly8gQWRkIGxpc3RlbmVyIG9uIGRlbGV0ZSBtZXNzYWdlIGZvciBtZVxuXHRcdFx0ZGVsZXRlTXNnT3B0aW9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZGF0YSkgPT4ge1xuXHRcdFx0XHRtc2dPcHRpb25zQ29udGFpbmVyLnJlbW92ZSgpO1xuXG5cdFx0XHRcdC8vIERlbGV0ZSBtZXNzYWdlIGZvciBtZVxuXHRcdFx0XHR0aGlzLmNoQWRhcHRlci5kZWxldGVNZXNzYWdlc0Zvck1lKFttZXNzYWdlLmlkXSwgKGVyciwgcmVzKSA9PiB7XG5cdFx0XHRcdFx0aWYoZXJyKSBjb25zb2xlLmVycm9yKGVycik7XG5cdFx0XHRcdH0pXG5cdFx0XHR9KTtcblxuXHRcdFx0aWYoIW1lc3NhZ2UuaXNEZWxldGVkICYmIG1lc3NhZ2Uub3duZXJJZCA9PSB0aGlzLndpZGdldC51c2VySWQpIHtcblx0XHRcdFx0Ly8gQ3JlYXRlIGRlbGV0ZSBtZXNzYWdlIGZvciBldmVyeW9uZSBvcHRpb25cblx0XHRcdFx0bGV0IGRlbGV0ZU1zZ0V2ZXJ5b25lQXR0cmlidXRlcyA9IFt7XCJpZFwiOlwiY2hfbXNnX2RlbGV0ZV9mb3JfZXZlcnlvbmVcIn0se1wiY2xhc3NcIjpcImNoLW1zZy1kZWxldGUtZm9yLWV2ZXJ5b25lXCJ9XTtcblx0XHRcdFx0bGV0IGRlbGV0ZU1zZ0V2ZXJ5b25lT3B0aW9uID0gdGhpcy51dGlsaXR5LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgZGVsZXRlTXNnRXZlcnlvbmVBdHRyaWJ1dGVzLCBMQU5HVUFHRV9QSFJBU0VTLkRFTEVURV9GT1JfRVZFUllPTkUsIG1zZ09wdGlvbnNDb250YWluZXIpO1xuXG5cdFx0XHRcdC8vIEFkZCBsaXN0ZW5lciBvbiBkZWxldGUgbWVzc2FnZSBmb3IgZXZlcnlvbmVcblx0XHRcdFx0ZGVsZXRlTXNnRXZlcnlvbmVPcHRpb24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChkYXRhKSA9PiB7XG5cdFx0XHRcdFx0bXNnT3B0aW9uc0NvbnRhaW5lci5yZW1vdmUoKTtcblxuXHRcdFx0XHRcdC8vIERlbGV0ZSBtZXNzYWdlIGZvciBtZVxuXHRcdFx0XHRcdHRoaXMuY2hBZGFwdGVyLmRlbGV0ZU1lc3NhZ2VzRm9yRXZlcnlvbmUoW21lc3NhZ2UuaWRdLCAoZXJyLCByZXMpID0+IHtcblx0XHRcdFx0XHRcdGlmKGVycikgY29uc29sZS5lcnJvcihlcnIpO1xuXHRcdFx0XHRcdH0pXG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0dXBkYXRlRGVsZXRlRm9yRXZlcnlvbmVNc2coZGF0YSkge1xuXHRcdGlmKHRoaXMuY29udmVyc2F0aW9uLmlkICE9IGRhdGEuY29udmVyc2F0aW9uLmlkKVxuXHRcdFx0cmV0dXJuO1xuXG5cdCAgXHQvLyBVcGRhdGUgdGV4dCBvZiBkZWxldGVkIG1lc3NhZ2Vcblx0ICBcdGxldCBjb252VGFyZ2V0TXNnID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaF9tZXNzYWdlX1wiICsgZGF0YS5tZXNzYWdlc1swXS5pZCk7XG5cdFx0aWYoY29udlRhcmdldE1zZykge1xuXHRcdFx0Y29udlRhcmdldE1zZy5pbm5lckhUTUwgPSBcIjxpPlwiICsgTEFOR1VBR0VfUEhSQVNFUy5NRVNTQUdFX0RFTEVURUQ7XG5cdFx0fVxuXG5cdFx0Ly8gVXBkYXRlIGxpc3RlbmVyIG9mIGRlbGV0ZWQgbWVzc2FnZVxuXHQgIFx0bGV0IGRlbGV0ZWRNc2dPcHRpb25CdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChkYXRhLm1lc3NhZ2VzWzBdLmlkKS5sYXN0Q2hpbGQ7XG5cdCAgXHRkZWxldGVkTXNnT3B0aW9uQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBkYXRhID0+IHtcblx0ICBcdFx0Ly8gUmVtb3ZlIGRlbGV0ZSBmb3IgZXZlcnlvbmUgb3B0aW9uXG5cdCAgXHRcdGxldCBkZWxldGVGb3JFdmVyeW9uZUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hfbXNnX2RlbGV0ZV9mb3JfZXZlcnlvbmVcIik7XG5cdCAgXHRcdGlmKGRlbGV0ZUZvckV2ZXJ5b25lQnRuKSB7XG5cdCAgXHRcdFx0ZGVsZXRlRm9yRXZlcnlvbmVCdG4ucmVtb3ZlKCk7XG5cdCAgXHRcdH1cblx0ICBcdH0pO1xuXHR9XG5cblx0aGFuZGxlQmxvY2soZGF0YSkge1xuXHRcdGlmKHRoaXMuY29udmVyc2F0aW9uLmlzR3JvdXApXG5cdFx0XHRyZXR1cm47XG5cblx0XHRpZih0aGlzLmNvbnZlcnNhdGlvbi51c2VyLmlkID09IGRhdGEuYmxvY2tlZS5pZCkge1xuXHRcdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaF9jb252X2Jsb2NrXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjs7XG5cdFx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoX2NvbnZfdW5ibG9ja1wiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuXHRcdH1cblxuXHRcdC8vIEhpZGUgc3RhdHVzIGFuZCBpbnB1dCBmaWVsZFxuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hfY29udl9zdGF0dXNcIikuc3R5bGUudmlzaWJpbGl0eSA9IFwiaGlkZGVuXCI7XG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaF9zZW5kX2JveFwiKS5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcblx0fVxuXG5cdGhhbmRsZVVuYmxvY2soZGF0YSkge1xuXHRcdGlmKHRoaXMuY29udmVyc2F0aW9uLmlzR3JvdXApXG5cdFx0XHRyZXR1cm47XG5cblx0XHRpZih0aGlzLmNvbnZlcnNhdGlvbi51c2VyLmlkID09IGRhdGEudW5ibG9ja2VlLmlkKSB7XG5cdFx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoX2NvbnZfdW5ibG9ja1wiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG5cdCAgXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hfY29udl9ibG9ja1wiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuXHRcdH1cblxuXHRcdC8vIFNob3cgc3RhdHVzIGFuZCBpbnB1dCBmaWVsZFxuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hfY29udl9zdGF0dXNcIikuc3R5bGUudmlzaWJpbGl0eSA9IFwidmlzaWJsZVwiO1xuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hfc2VuZF9ib3hcIikuc3R5bGUudmlzaWJpbGl0eSA9IFwidmlzaWJsZVwiO1xuXHR9XG5cbiAgXHRoYW5kbGVDbGVhckNvbnZlcnNhdGlvbihjb252KSB7XG4gIFx0XHRpZihjb252LmlkICE9IHRoaXMuY29udmVyc2F0aW9uLmlkKVxuICBcdFx0XHRyZXR1cm47XG5cbiAgXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hfbWVzc2FnZXNfYm94XCIpLmlubmVySFRNTCA9IFwiXCI7XG4gIFx0fVxufVxuXG5leHBvcnQgeyBDb252ZXJzYXRpb25XaW5kb3cgYXMgZGVmYXVsdCB9OyIsImltcG9ydCBVdGlsaXR5IGZyb20gXCIuLi91dGlsaXR5LmpzXCI7XG5pbXBvcnQgQ29udmVyc2F0aW9uV2luZG93IGZyb20gXCIuL2NvbnZlcnNhdGlvbi13aW5kb3cuanNcIjtcbmltcG9ydCB7IExBTkdVQUdFX1BIUkFTRVMsIElNQUdFUyB9IGZyb20gXCIuLi9jb25zdGFudHMuanNcIjtcblxuY2xhc3MgU2VhcmNoIHtcblx0Y29uc3RydWN0b3Iod2lkZ2V0KSB7XG5cdFx0Ly8gSW5pdGlhbGl6ZSBkZXBlbmRlbmNpZXNcblx0XHR0aGlzLmNoQWRhcHRlciA9IHdpZGdldC5jaEFkYXB0ZXI7XG5cdFx0dGhpcy53aWRnZXQgPSB3aWRnZXQ7XG5cdFx0dGhpcy51dGlsaXR5ID0gbmV3IFV0aWxpdHkoKTtcblx0XHR0aGlzLnNlYXJjaExpbWl0ID0gMTA7XG5cdFx0dGhpcy5mcmllbmRzTGltaXQgPSAyMDtcblx0XHR0aGlzLmZyaWVuZHMgPSBbXTtcblx0XHR0aGlzLnVzZXJzID0gW107XG5cblx0XHR0aGlzLmNyZWF0ZVNlYXJjaENvbXBvbmVudHMoKTtcblx0XHR0aGlzLl9yZWdpc3RlckNsaWNrRXZlbnRIYW5kbGVycygpO1xuXHR9XG5cblx0Y3JlYXRlU2VhcmNoQ29tcG9uZW50cygpIHtcblx0XHQvLyBDcmVhdGUgc2VhcmNoIGJveCBjb21wb25lbnRzXG5cdFx0bGV0IHdpZGdldCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hfZnJhbWVcIik7XG5cdFx0bGV0IHNlYXJjaFdpbmRvd0F0dHJpYnV0ZXMgPSBbe1wiaWRcIjogXCJjaF9zZWFyY2hfd2luZG93XCJ9LHtcImNsYXNzXCI6XCJjaC1zZWFyY2gtd2luZG93XCJ9XTtcblx0XHRsZXQgc2VhcmNoV2luZG93ID0gdGhpcy51dGlsaXR5LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgc2VhcmNoV2luZG93QXR0cmlidXRlcywgbnVsbCwgd2lkZ2V0KTtcblxuXHRcdC8vIENyZWF0ZSBzZWFyY2ggaGVhZGVyXG5cdFx0bGV0IHNlYXJjaEhlYWRlckF0dHJpYnV0ZXMgPSBbe1wiaWRcIjpcImNoX3NlYXJjaF9oZWFkZXJcIn0se1wiY2xhc3NcIjpcImNoLWhlYWRlclwifV07XG5cdFx0bGV0IHNlYXJjaEhlYWRlciA9IHRoaXMudXRpbGl0eS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHNlYXJjaEhlYWRlckF0dHJpYnV0ZXMsIExBTkdVQUdFX1BIUkFTRVMuU0VBUkNIX01FTUJFUlMsIHNlYXJjaFdpbmRvdyk7XG5cblx0XHQvLyBDcmVhdGUgc2VhcmNoIENsb3NlIGJ1dHRvblxuXHRcdGxldCBjbG9zZUJ0bkF0dHJpYnV0ZXMgPSBbe1wiaWRcIjpcImNoX3NlYXJjaF9jbG9zZV9idG5cIn1dO1xuXHRcdGxldCBjbG9zZUJ0biA9IHRoaXMudXRpbGl0eS5jcmVhdGVFbGVtZW50KFwiaVwiLCBjbG9zZUJ0bkF0dHJpYnV0ZXMsIFwiYXJyb3dfYmFja1wiLCBzZWFyY2hIZWFkZXIpO1xuXHRcdGNsb3NlQnRuLmNsYXNzTGlzdC5hZGQoXCJtYXRlcmlhbC1pY29uc1wiLCBcImNoLWNsb3NlLWJ0blwiKTtcblxuXHRcdC8vIENyZWF0ZSBzZWFyY2ggYm94XG5cdFx0bGV0IHNlYXJjaEJveEF0dHJpYnV0ZXMgPSBbe1wiaWRcIjpcImNoX3NlYXJjaF9ib3hcIn0se1wiY2xhc3NcIjpcImNoLXNlYXJjaC1ib3hcIn1dO1xuXHRcdGxldCBzZWFyY2hCb3ggPSB0aGlzLnV0aWxpdHkuY3JlYXRlRWxlbWVudChcImRpdlwiLCBzZWFyY2hCb3hBdHRyaWJ1dGVzLCBudWxsLCBzZWFyY2hXaW5kb3cpO1xuXG5cdFx0Ly8gQ3JlYXRlIHNlYXJjaCBpbnB1dCBib3hcblx0XHRsZXQgaW5wdXRCb3hBdHRyaWJ1dGVzID0gW3tcImlkXCI6XCJjaF9zZWFyY2hfaW5wdXRfYm94XCJ9LHtcImNsYXNzXCI6XCJjaC1zZWFyY2gtaW5wdXQtYm94XCJ9LHtcInBsYWNlaG9sZGVyXCI6TEFOR1VBR0VfUEhSQVNFUy5TRUFSQ0h9XTtcblx0XHR0aGlzLnV0aWxpdHkuY3JlYXRlRWxlbWVudChcImlucHV0XCIsIGlucHV0Qm94QXR0cmlidXRlcywgbnVsbCwgc2VhcmNoQm94KTtcblxuXHRcdC8vIENyZWF0ZSBjbGVhciBzZWFyY2ggaWNvblxuXHRcdGxldCBjbGVhckF0dHJpYnV0ZXMgPSBbe1wiaWRcIjpcImNoX2NsZWFyX3NlYXJjaF9pY29uXCJ9XTtcblx0XHRsZXQgY2xlYXJCdG4gPSB0aGlzLnV0aWxpdHkuY3JlYXRlRWxlbWVudChcImlcIiwgY2xlYXJBdHRyaWJ1dGVzLCBcImNsb3NlXCIsIHNlYXJjaEJveCk7XG5cdFx0Y2xlYXJCdG4uY2xhc3NMaXN0LmFkZChcIm1hdGVyaWFsLWljb25zXCIsIFwiY2gtY2xlYXItc2VhcmNoLWljb25cIik7XG5cblx0XHQvLyBDcmVhdGUgZnJpZW5kcyBsaXN0aW5nIGJveFxuXHRcdGxldCBmcmllbmRzQm94QXR0cmlidXRlcyA9IFt7XCJpZFwiOlwiY2hfZnJpZW5kc19ib3hcIn0se1wiY2xhc3NcIjpcImNoLWZyaWVuZHMtYm94XCJ9XTtcblx0XHRsZXQgZnJpZW5kc0JveCA9IHRoaXMudXRpbGl0eS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIGZyaWVuZHNCb3hBdHRyaWJ1dGVzLCBudWxsLCBzZWFyY2hXaW5kb3cpO1xuXG5cdFx0Ly8gQ3JlYXRlIGxvYWRlciBjb250YWluZXJcblx0XHRsZXQgbG9hZGVyQ29udGFpbmVyQXR0cmlidXRlcyA9IFt7XCJpZFwiOlwiY2hfc2VhcmNoX2xvYWRlcl9jb250YWluZXJcIn0se1wiY2xhc3NcIjpcImNoLWxvYWRlci1iZ1wifV07XG5cdFx0bGV0IGxvYWRlckNvbnRhaW5lciA9IHRoaXMudXRpbGl0eS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIGxvYWRlckNvbnRhaW5lckF0dHJpYnV0ZXMsIG51bGwsIGZyaWVuZHNCb3gpO1xuXHRcdGxvYWRlckNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuXG5cdFx0Ly8gQ3JlYXRlIGxvYWRlclxuXHRcdGxldCBsb2FkZXJBdHRyaWJ1dGVzID0gW3tcImlkXCI6XCJjaF9zZWFyY2hfbG9hZGVyXCJ9LHtcImNsYXNzXCI6XCJjaC1sb2FkZXJcIn1dO1xuXHRcdGxldCBsb2FkZXIgPSB0aGlzLnV0aWxpdHkuY3JlYXRlRWxlbWVudChcImRpdlwiLCBsb2FkZXJBdHRyaWJ1dGVzLCBudWxsLCBsb2FkZXJDb250YWluZXIpO1xuXG5cdFx0Ly8gQ3JlYXRlIHN1Z2dlc3RlZCBmcmllbmRzIGxpc3RpbmcgYm94XG5cdFx0bGV0IHN1Z2dlc3RlZEJveEF0dHJpYnV0ZXMgPSBbe1wiaWRcIjpcImNoX3N1Z2dlc3RlZF9ib3hcIn1dO1xuXHRcdGxldCBzdWdnZXN0ZWRCb3ggPSB0aGlzLnV0aWxpdHkuY3JlYXRlRWxlbWVudChcImRpdlwiLCBzdWdnZXN0ZWRCb3hBdHRyaWJ1dGVzLCBudWxsLCBmcmllbmRzQm94KTtcblxuXHRcdC8vIENyZWF0ZSBvdGhlciB1c2VycyBsaXN0aW5nIGJveFxuXHRcdGxldCB1c2Vyc0JveEF0dHJpYnV0ZXMgPSBbe1wiaWRcIjpcImNoX3VzZXJzX2JveFwifV07XG5cdFx0bGV0IHVzZXJzQm94ID0gdGhpcy51dGlsaXR5LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgdXNlcnNCb3hBdHRyaWJ1dGVzLCBudWxsLCBmcmllbmRzQm94KTtcblxuXHRcdC8vIEdldCB1c2VyIGZyaWVuZHNcblx0XHR0aGlzLmNoQWRhcHRlci5nZXRGcmllbmRzKG51bGwsIHRoaXMuZnJpZW5kc0xpbWl0LCBudWxsLCBudWxsLCBudWxsLCAoZXJyLCBmcmllbmRzKSA9PiB7XG5cdFx0XHRpZihlcnIpIHJldHVybiBjb25zb2xlLmVycm9yKGVycik7XG5cblx0XHRcdC8vIEhpZGUgbG9hZGVyXG5cdFx0XHRpZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoX3NlYXJjaF9sb2FkZXJfY29udGFpbmVyXCIpKVxuXHRcdFx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoX3NlYXJjaF9sb2FkZXJfY29udGFpbmVyXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcblxuXHRcdFx0aWYoZnJpZW5kcy5sZW5ndGgpIHtcblx0XHRcdFx0Ly8gQ3JlYXRlIHN1Z2dlc3RlZCBlbGVtZW50XG5cdFx0XHRcdGxldCBzdWdnZXN0ZWRBdHRyaWJ1dGVzID0gW3tcImlkXCI6XCJjaF9zdWdnZXN0ZWRcIn0se1wiY2xhc3NcIjpcImNoLXN1Z2dlc3RlZFwifV07XG5cdFx0XHRcdHRoaXMudXRpbGl0eS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHN1Z2dlc3RlZEF0dHJpYnV0ZXMsIExBTkdVQUdFX1BIUkFTRVMuU1VHR0VTVEVELCBzdWdnZXN0ZWRCb3gpO1xuXHRcdFx0XHR0aGlzLmZyaWVuZHMgPSBmcmllbmRzO1xuXG5cdFx0XHRcdGZyaWVuZHMuZm9yRWFjaChmcmllbmQgPT4ge1xuXHRcdFx0XHRcdHRoaXMuX2NyZWF0ZUZyaWVuZExpc3QoZnJpZW5kLCBcInN1Z2dlc3RlZFwiKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHQvLyBHZXQgbW9yZSB1c2Vyc1xuXHRcdHRoaXMuY2hBZGFwdGVyLmdldEFsbFVzZXJzKG51bGwsIHRoaXMuc2VhcmNoTGltaXQsIDAsIG51bGwsIG51bGwsIChlcnIsIHVzZXJzKSA9PiB7XG5cdFx0XHRpZihlcnIpIHJldHVybiBjb25zb2xlLmVycm9yKGVycik7XG5cblx0XHRcdGlmKCF1c2Vycy5sZW5ndGgpXG5cdFx0XHRcdHJldHVybjtcblxuXHRcdFx0Ly8gQ3JlYXRlIG1vcmUgdXNlcnMgZWxlbWVudFxuXHRcdFx0bGV0IG1vcmVVc2Vyc0F0dHJpYnV0ZXMgPSBbe1wiaWRcIjpcImNoX21vcmVfdXNlcnNcIn0se1wiY2xhc3NcIjpcImNoLW1vcmUtdXNlcnNcIn1dO1xuXHRcdFx0bGV0IG1vcmVVc2VycyA9IHRoaXMudXRpbGl0eS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG1vcmVVc2Vyc0F0dHJpYnV0ZXMsIExBTkdVQUdFX1BIUkFTRVMuTU9SRV9VU0VSUywgdXNlcnNCb3gpO1xuXG5cdFx0XHRsZXQgbW9yZVVzZXJzQ291bnQgPSAwO1xuXHRcdFx0dXNlcnMuZm9yRWFjaCh1c2VyID0+IHtcblx0XHRcdFx0aWYoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHVzZXIuaWQpICYmIHVzZXIuaWQgIT0gdGhpcy53aWRnZXQudXNlcklkKSB7XG5cdFx0XHRcdFx0dGhpcy5fY3JlYXRlRnJpZW5kTGlzdCh1c2VyLCBcInVzZXJzXCIpO1xuXHRcdFx0XHRcdCsrbW9yZVVzZXJzQ291bnQ7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0XHRpZihtb3JlVXNlcnNDb3VudCkge1xuXHRcdFx0XHQvLyBTaG93IG1vcmUgdXNlciBoZWFkZXIgaW4gb3RoZXIgdXNlcnMgZm91bmRcblx0XHRcdFx0bW9yZVVzZXJzLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG5cdFx0XHRcdHRoaXMudXNlcnMgPSB1c2Vycztcblx0XHRcdH1cblxuXHRcdH0pO1xuXHR9XG5cblx0X2NyZWF0ZUZyaWVuZExpc3QoZnJpZW5kLCB0eXBlKSB7XG5cdFx0Ly8gQ3JlYXRlIGZyaWVuZHMgbGlzdGluZ1xuXHRcdGxldCBwYXJlbnRJZCA9ICh0eXBlID09IFwic3VnZ2VzdGVkXCIpID8gXCJjaF9zdWdnZXN0ZWRfYm94XCIgOiBcImNoX3VzZXJzX2JveFwiO1xuXHRcdGxldCBwYXJlbnRCb3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwYXJlbnRJZCk7XG5cblx0XHRsZXQgZnJpZW5kTGlzdEF0dHJpYnV0ZXMgPSBbe1wiaWRcIjpmcmllbmQuaWR9LHtcImNsYXNzXCI6XCJjaC1mcmllbmRzLWxpc3RcIn1dO1xuXHRcdGxldCBmcmllbmRzQm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaF9mcmllbmRzX2JveFwiKTtcblx0XHRsZXQgZnJpZW5kc0xpc3QgPSB0aGlzLnV0aWxpdHkuY3JlYXRlRWxlbWVudChcImxpXCIsIGZyaWVuZExpc3RBdHRyaWJ1dGVzLCBudWxsLCBwYXJlbnRCb3gpO1xuXG5cdFx0Ly8gQWRkIGNsaWNrIGxpc3RlbmVyIG9uIGZyaWVuZCBsaXN0XG5cdFx0ZnJpZW5kc0xpc3QuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChkYXRhKSA9PiB7XG5cdFx0XHRpZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoX2NvbnZfd2luZG93XCIpKSB7XG5cdFx0XHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hfY29udl93aW5kb3dcIikucmVtb3ZlKCk7XG5cdFx0XHRcdHRoaXMud2lkZ2V0LmNvbnZXaW5kb3dzLnBvcCgpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBDaGVjayBmb3IgZXhpc3QgY29udmVyc2F0aW9uXG5cdFx0XHR0aGlzLmNoQWRhcHRlci5nZXRDb252ZXJzYXRpb25zTGlzdCgxLCAwICwgZnJpZW5kLmlkLCBcIm1lbWJlcnNcIiwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgKGVyciwgY29udmVyc2F0aW9uKSA9PiB7XG5cdFx0XHRcdGlmKGVycikgcmV0dXJuIGNvbnNvbGUuZXJyb3IoZXJyKTtcblxuXHRcdFx0XHRjb252ZXJzYXRpb24gPSBjb252ZXJzYXRpb25bMF07XG5cblx0XHRcdFx0aWYoY29udmVyc2F0aW9uKSB7XG5cdFx0XHRcdFx0Y29uc3QgY29udmVyc2F0aW9uV2luZG93ID0gbmV3IENvbnZlcnNhdGlvbldpbmRvdyh0aGlzLndpZGdldCk7XG5cdFx0XHRcdFx0Y29udmVyc2F0aW9uV2luZG93LmluaXQoY29udmVyc2F0aW9uKTtcblx0XHRcdFx0XHR0aGlzLndpZGdldC5jb252V2luZG93cy5wdXNoKGNvbnZlcnNhdGlvbldpbmRvdyk7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0Ly8gT3BlbiBuZXcgY29udmVyc2F0aW9uIHdpbmRvd1xuXHRcdFx0XHRcdGNvbnN0IGNvbnZlcnNhdGlvbldpbmRvdyA9IG5ldyBDb252ZXJzYXRpb25XaW5kb3codGhpcy53aWRnZXQpO1xuXHRcdFx0XHRcdGNvbnZlcnNhdGlvbldpbmRvdy5pbml0KG51bGwsIGZyaWVuZCk7XG5cdFx0XHRcdFx0dGhpcy53aWRnZXQuY29udldpbmRvd3MucHVzaChjb252ZXJzYXRpb25XaW5kb3cpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9KTtcblxuXHRcdC8vIENyZWF0ZSBpbWFnZSB0YWdcblx0XHRmcmllbmQucHJvZmlsZUltYWdlVXJsID0gZnJpZW5kLnByb2ZpbGVJbWFnZVVybCA/IGZyaWVuZC5wcm9maWxlSW1hZ2VVcmwgOiBJTUFHRVMuQVZUQVI7XG5cdFx0bGV0IGltYWdlQXR0cmlidXRlcyA9IFt7XCJpZFwiOlwiY2hfY29udGFjdF9pbWdcIn0se1wiY2xhc3NcIjpcImNoLWNvbnRhY3QtaW1nXCJ9LHtcInNyY1wiOmZyaWVuZC5wcm9maWxlSW1hZ2VVcmx9XTtcblx0XHRsZXQgY29udGFjdEltZyA9IHRoaXMudXRpbGl0eS5jcmVhdGVFbGVtZW50KFwiaW1nXCIsIGltYWdlQXR0cmlidXRlcywgbnVsbCwgZnJpZW5kc0xpc3QpO1xuXG5cdFx0Ly8gQ3JlYXRlIG5hbWUgZGl2XG5cdFx0bGV0IG5hbWVBdHRyaWJ1dGVzID0gW3tcImlkXCI6XCJjaF9mcmllbmRfbmFtZVwifSx7XCJjbGFzc1wiOlwiY2gtZnJpZW5kLW5hbWVcIn1dO1xuXHRcdGxldCBjb250YWN0TmFtZSA9IHRoaXMudXRpbGl0eS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG5hbWVBdHRyaWJ1dGVzLCBmcmllbmQuZGlzcGxheU5hbWUsIGZyaWVuZHNMaXN0KTtcblx0fVxuXG5cdHNlYXJjaE1lbWJlcihzZWFyY2hUZXJtKSB7XG5cdFx0Ly8gUmVtb3ZlIG9sZCBmcmllbmRzIGZyb20gbGlzdFxuXHRcdGxldCBzdWdnZXN0ZWRib3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoX3N1Z2dlc3RlZF9ib3hcIik7XG5cdFx0c3VnZ2VzdGVkYm94LmlubmVySFRNTCA9IFwiXCI7XG5cblx0XHRsZXQgdXNlcnNCb3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoX3VzZXJzX2JveFwiKTtcblx0XHR1c2Vyc0JveC5pbm5lckhUTUwgPSBcIlwiO1xuXG5cdFx0bGV0IGxvY2FsRnJpZW5kc0NvdW50ID0gMDtcblx0XHRsZXQgbG9jYWxVZXJzQ291bnQgPSAwO1xuXG5cdFx0aWYoc2VhcmNoVGVybSA9PSBudWxsKSB7XG5cdFx0XHQvLyBTaG93IGxvY2FsIGZyaWVuZFxuXHRcdFx0dGhpcy5mcmllbmRzLmZvckVhY2goZnJpZW5kID0+IHtcblx0XHRcdFx0dGhpcy5fY3JlYXRlRnJpZW5kTGlzdChmcmllbmQsIFwic3VnZ2VzdGVkXCIpO1xuXHRcdFx0fSk7XG5cblx0XHRcdC8vIFNob3cgYWxyZWFkeSBsb2FkZWQgdXNlcnNcblx0XHRcdHRoaXMudXNlcnMuZm9yRWFjaCh1c2VyID0+IHtcblx0XHRcdFx0dGhpcy5fY3JlYXRlRnJpZW5kTGlzdCh1c2VyLCBcInVzZXJzXCIpO1xuXHRcdFx0fSk7XG5cblx0XHRcdGlmKHRoaXMuZnJpZW5kcy5sZW5ndGgpIHtcblx0XHRcdFx0Ly8gQ3JlYXRlIHN1Z2dlc3RlZCB0YWdcblx0XHRcdFx0bGV0IHN1Z2dlc3RlZEF0dHJpYnV0ZXMgPSBbe1wiaWRcIjpcImNoX3N1Z2dlc3RlZFwifSx7XCJjbGFzc1wiOlwiY2gtc3VnZ2VzdGVkXCJ9XTtcblx0XHRcdFx0bGV0IHN1Z2dlc3RlZCA9IHRoaXMudXRpbGl0eS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHN1Z2dlc3RlZEF0dHJpYnV0ZXMsIExBTkdVQUdFX1BIUkFTRVMuU1VHR0VTVEVELCBzdWdnZXN0ZWRib3gpO1xuXHRcdFx0XHRzdWdnZXN0ZWRib3guaW5zZXJ0QmVmb3JlKHN1Z2dlc3RlZCwgc3VnZ2VzdGVkYm94LmNoaWxkTm9kZXNbMF0pO1xuXHRcdFx0fVxuXG5cdFx0XHRpZih0aGlzLnVzZXJzLmxlbmd0aCkge1xuXHRcdFx0XHQvLyBDcmVhdGUgbW9yZSB1c2VycyBlbGVtZW50XG5cdFx0XHRcdGxldCBtb3JlVXNlcnNBdHRyaWJ1dGVzID0gW3tcImlkXCI6XCJjaF9tb3JlX3VzZXJzXCJ9LHtcImNsYXNzXCI6XCJjaC1tb3JlLXVzZXJzXCJ9XTtcblx0XHRcdFx0bGV0IG1vcmVVc2VycyA9IHRoaXMudXRpbGl0eS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG1vcmVVc2Vyc0F0dHJpYnV0ZXMsIExBTkdVQUdFX1BIUkFTRVMuTU9SRV9VU0VSUywgdXNlcnNCb3gpO1xuXHRcdFx0XHRtb3JlVXNlcnMuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcblx0XHRcdFx0dXNlcnNCb3guaW5zZXJ0QmVmb3JlKG1vcmVVc2VycywgdXNlcnNCb3guY2hpbGROb2Rlc1swXSk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdC8vIGVsc2UgaWYoc2VhcmNoVGVybSA9PSBudWxsICYmIHRoaXMudXNlcnMubGVuZ3RoKSB7XG5cdFx0Ly8gXHQvLyBTaG93IGFscmVhZHkgbG9hZGVkIHVzZXJzXG5cdFx0Ly8gXHR0aGlzLnVzZXJzLmZvckVhY2godXNlciA9PiB7XG5cdFx0Ly8gXHRcdHRoaXMuX2NyZWF0ZUZyaWVuZExpc3QodXNlciwgXCJ1c2Vyc1wiKTtcblx0XHQvLyBcdH0pO1xuXG5cdFx0Ly8gXHQvLyBDcmVhdGUgbW9yZSB1c2VycyBlbGVtZW50XG5cdFx0Ly8gXHRsZXQgbW9yZVVzZXJzQXR0cmlidXRlcyA9IFt7XCJpZFwiOlwiY2hfbW9yZV91c2Vyc1wifSx7XCJjbGFzc1wiOlwiY2gtbW9yZS11c2Vyc1wifV07XG5cdFx0Ly8gXHRsZXQgbW9yZVVzZXJzID0gdGhpcy51dGlsaXR5LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbW9yZVVzZXJzQXR0cmlidXRlcywgTEFOR1VBR0VfUEhSQVNFUy5NT1JFX1VTRVJTLCB1c2Vyc0JveCk7XG5cdFx0Ly8gXHRtb3JlVXNlcnMuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcblx0XHQvLyBcdHVzZXJzQm94Lmluc2VydEJlZm9yZShtb3JlVXNlcnMsIHVzZXJzQm94LmNoaWxkTm9kZXNbMF0pO1xuXHRcdC8vIFx0cmV0dXJuO1xuXG5cdFx0Ly8gfVxuXG5cdFx0Ly8gU2hvdyBsb2FkZXJcblx0XHRpZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoX3NlYXJjaF9sb2FkZXJfY29udGFpbmVyXCIpKVxuXHRcdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaF9zZWFyY2hfbG9hZGVyX2NvbnRhaW5lclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuXG5cdFx0Ly8gU2VhcmNoIGluIGFsbCBmcmllbmRzIGJ5IEFQSSBjYWxsXG5cdFx0dGhpcy5jaEFkYXB0ZXIuZ2V0RnJpZW5kcyhzZWFyY2hUZXJtLCB0aGlzLmZyaWVuZHNMaW1pdCwgbnVsbCwgbnVsbCwgbnVsbCwgKGVyciwgZnJpZW5kcykgPT4ge1xuXHRcdFx0aWYoZXJyKSByZXR1cm4gY29uc29sZS5lcnJvcihlcnIpO1xuXG5cdFx0XHQvLyBIaWRlIGxvYWRlclxuXHRcdFx0aWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaF9zZWFyY2hfbG9hZGVyX2NvbnRhaW5lclwiKSlcblx0XHRcdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaF9zZWFyY2hfbG9hZGVyX2NvbnRhaW5lclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG5cblx0XHRcdGlmKCFmcmllbmRzLmxlbmd0aClcblx0XHRcdFx0cmV0dXJuO1xuXG5cdFx0XHQvLyBDcmVhdGUgZnJpZW5kcyBlbGVtZW50XG5cdFx0XHRsZXQgc3VnZ2VzdGVkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaF9zdWdnZXN0ZWRcIik7XG5cdFx0XHRpZighc3VnZ2VzdGVkKSB7XG5cdFx0XHRcdGxldCBzdWdnZXN0ZWRBdHRyaWJ1dGVzID0gW3tcImlkXCI6XCJjaF9zdWdnZXN0ZWRcIn0se1wiY2xhc3NcIjpcImNoLXN1Z2dlc3RlZFwifV07XG5cdFx0XHRcdHN1Z2dlc3RlZCA9IHRoaXMudXRpbGl0eS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHN1Z2dlc3RlZEF0dHJpYnV0ZXMsIExBTkdVQUdFX1BIUkFTRVMuU1VHR0VTVEVELCB1c2Vyc0JveCk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIGxldCBzdWdnZXN0ZWRDb3VudCA9IDA7XG5cdFx0XHRmcmllbmRzLmZvckVhY2goZnJpZW5kID0+IHtcblx0XHRcdFx0dGhpcy5fY3JlYXRlRnJpZW5kTGlzdChmcmllbmQsIFwidXNlcnNcIik7XG5cdFx0XHR9KTtcblx0XHR9KTtcblxuXHRcdC8vIFNlYXJjaCBpbiBhbGwgdXNlcnMgYnkgQVBJIGNhbGxcblx0XHR0aGlzLmNoQWRhcHRlci5nZXRBbGxVc2VycyhzZWFyY2hUZXJtLCB0aGlzLnNlYXJjaExpbWl0LCAwLCBudWxsLCBudWxsLCAoZXJyLCB1c2VycykgPT4ge1xuXHRcdFx0aWYoZXJyKSByZXR1cm4gY29uc29sZS5lcnJvcihlcnIpO1xuXG5cdFx0XHRpZighdXNlcnMubGVuZ3RoKVxuXHRcdFx0XHRyZXR1cm47XG5cblx0XHRcdC8vIENyZWF0ZSBtb3JlIHVzZXJzIGVsZW1lbnRcblx0XHRcdGxldCBtb3JlVXNlcnMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoX21vcmVfdXNlcnNcIik7XG5cdFx0XHRpZighbW9yZVVzZXJzKSB7XG5cdFx0XHRcdGxldCBtb3JlVXNlcnNBdHRyaWJ1dGVzID0gW3tcImlkXCI6XCJjaF9tb3JlX3VzZXJzXCJ9LHtcImNsYXNzXCI6XCJjaC1tb3JlLXVzZXJzXCJ9XTtcblx0XHRcdFx0bW9yZVVzZXJzID0gdGhpcy51dGlsaXR5LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbW9yZVVzZXJzQXR0cmlidXRlcywgTEFOR1VBR0VfUEhSQVNFUy5NT1JFX1VTRVJTLCB1c2Vyc0JveCk7XG5cdFx0XHR9XG5cblx0XHRcdGxldCBtb3JlVXNlcnNDb3VudCA9IDA7XG5cdFx0XHR1c2Vycy5mb3JFYWNoKHVzZXIgPT4ge1xuXHRcdFx0XHRpZighZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodXNlci5pZCkgJiYgdXNlci5pZCAhPSB0aGlzLndpZGdldC51c2VySWQpIHtcblx0XHRcdFx0XHR0aGlzLl9jcmVhdGVGcmllbmRMaXN0KHVzZXIsIFwidXNlcnNcIik7XG5cdFx0XHRcdFx0Kyttb3JlVXNlcnNDb3VudDtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHRcdGlmKG1vcmVVc2Vyc0NvdW50KSB7XG5cdFx0XHRcdC8vIFNob3cgbW9yZSB1c2VyIGhlYWRlciBpZiBvdGhlciB1c2VycyBmb3VuZFxuXHRcdFx0XHRtb3JlVXNlcnMuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdF9yZWdpc3RlckNsaWNrRXZlbnRIYW5kbGVycygpIHtcblx0XHQvLyBDbG9zZSBzZWFyY2ggYnV0dG9uIGxpc3RlbmVyXG5cdFx0bGV0IGNsb3NlQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaF9zZWFyY2hfY2xvc2VfYnRuXCIpO1xuXHRcdGNsb3NlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZGF0YSkgPT4ge1xuXHRcdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaF9zZWFyY2hfd2luZG93XCIpLnJlbW92ZSgpO1xuXHRcdH0pO1xuXG5cdFx0Ly8gU2VhcmNoIG9uIGlucHV0IHZhbHVlXG5cdFx0bGV0IGlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaF9zZWFyY2hfaW5wdXRfYm94XCIpO1xuXHRcdGxldCB0aW1lb3V0ID0gbnVsbDtcblx0XHRpbnB1dC5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgKGRhdGEpID0+IHtcblx0XHRcdC8vIENsZWFyIHRoZSBwcmV2aW91cyB0aW1lb3V0XG5cdFx0XHRjbGVhclRpbWVvdXQodGltZW91dCk7XG5cblx0XHRcdC8vIE1ha2UgYSBuZXcgdGltZW91dCBzZXQgdG8gZ28gb2ZmIGluIDEwMDBtcyAoMSBzZWNvbmQpXG5cdFx0ICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcblx0XHQgICAgXHQvLyBTZWFyY2ggdGhlIG1lbWJlclxuXHRcdCAgICBcdHRoaXMuc2VhcmNoTWVtYmVyKGlucHV0LnZhbHVlKTtcblx0XHQgICAgfSwgMTAwMCk7XG5cdFx0fSk7XG5cblx0XHQvLyBDbGVhciBzZWFyY2ggaW5wdXQgdmFsdWVcblx0XHRsZXQgY2xlYXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoX2NsZWFyX3NlYXJjaF9pY29uXCIpO1xuXHRcdGNsZWFyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZGF0YSkgPT4ge1xuXHRcdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaF9zZWFyY2hfaW5wdXRfYm94XCIpLnZhbHVlID0gXCJcIjtcblx0XHRcdHRoaXMuc2VhcmNoTWVtYmVyKG51bGwpO1xuXHRcdH0pO1xuXHR9XG59XG5cbmV4cG9ydCB7IFNlYXJjaCBhcyBkZWZhdWx0IH07IiwiaW1wb3J0IFV0aWxpdHkgZnJvbSBcIi4uL3V0aWxpdHkuanNcIjtcbmltcG9ydCBDb252ZXJzYXRpb25XaW5kb3cgZnJvbSBcIi4vY29udmVyc2F0aW9uLXdpbmRvdy5qc1wiO1xuaW1wb3J0IFNlYXJjaCBmcm9tIFwiLi9zZWFyY2guanNcIjtcbmltcG9ydCBMb2dpbiBmcm9tIFwiLi9sb2dpbi5qc1wiO1xuaW1wb3J0IHsgTEFOR1VBR0VfUEhSQVNFUywgSU1BR0VTIH0gZnJvbSBcIi4uL2NvbnN0YW50cy5qc1wiO1xuXG5jbGFzcyBSZWNlbnRDb252ZXJzYXRpb25zIHtcblxuXHRjb25zdHJ1Y3Rvcih3aWRnZXQpIHtcblx0XHQvLyBJbml0aWFsaXplIGRlcGVuZGVuY2llc1xuXHRcdHRoaXMud2lkZ2V0ID0gd2lkZ2V0O1xuXHRcdHRoaXMud2lkZ2V0LnJlY2VudENvbnZlcnNhdGlvbnMgPSB0aGlzO1xuXHRcdHRoaXMuY2hBZGFwdGVyID0gd2lkZ2V0LmNoQWRhcHRlcjtcblx0XHR0aGlzLnV0aWxpdHkgPSBuZXcgVXRpbGl0eSgpO1xuXG5cdFx0dGhpcy5sb2FkQ291bnQgPSAwO1xuXHRcdHRoaXMubGltaXQgPSAyNTtcblx0XHR0aGlzLnNraXAgPSAwO1xuXG5cdFx0Ly8gQ3JlYXRlIHJlY2VudCBjb252ZXJzYXRpb24gd2luZG93XG5cdFx0dGhpcy5fY3JlYXRlUmVjZW50V2luZG93KCk7XG5cdH1cblxuXHRfY3JlYXRlUmVjZW50V2luZG93KCkge1xuXHRcdGxldCBmcmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hfZnJhbWVcIik7XG5cdFx0Ly8gQ3JlYXRlIHJlY2VudCBjb252ZXJzYXRpb24gd2luZG93XG5cdFx0bGV0IHJlY2VudENvbnZBdHRyaWJ1dGVzID0gW3tcImlkXCI6XCJjaF9yZWNlbnRfd2luZG93XCJ9LHtcImNsYXNzXCI6XCJjaC1yZWNlbnQtd2luZG93XCJ9XTtcblx0XHRsZXQgcmVjZW50Q29udldpbmRvdyA9IHRoaXMudXRpbGl0eS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHJlY2VudENvbnZBdHRyaWJ1dGVzLCBudWxsLCBmcmFtZSk7XG5cblx0XHQvLyBDcmVhdGUgSGVhZGVyXG5cdFx0bGV0IGhlYWRlckF0dHJpYnV0ZXMgPSBbe1wiaWRcIjpcImNoX3JlY2VudF9oZWFkZXJcIn0se1wiY2xhc3NcIjpcImNoLWhlYWRlclwifV07XG5cdFx0bGV0IGhlYWRlciA9IHRoaXMudXRpbGl0eS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIGhlYWRlckF0dHJpYnV0ZXMsIG51bGwsIHJlY2VudENvbnZXaW5kb3cpO1xuXG5cdFx0Ly8gQ3JlYXRlIGhlYWRlciB0aXRsZSBkaXZcblx0XHRsZXQgdGl0bGVBdHRyaWJ1dGVzID0gW3tcImlkXCI6XCJjaF9oZWFkZXJfdGl0bGVcIn0se1wiY2xhc3NcIjpcImNoLWhlYWRlci10aXRsZVwifV07XG5cdFx0bGV0IHRpdGxlRGl2ID0gdGhpcy51dGlsaXR5LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgdGl0bGVBdHRyaWJ1dGVzLCBMQU5HVUFHRV9QSFJBU0VTLkNIQVQsIGhlYWRlcik7XG5cblx0XHQvLyBDcmVhdGUgaGVhZGVyIG9wdGlvbnMgZGl2XG5cdFx0bGV0IG9wdGlvbkF0dHJpYnV0ZXMgPSBbe1wiaWRcIjpcImNoX2hlYWRlcl9vcHRpb25cIn0se1wiY2xhc3NcIjpcImNoLWhlYWRlci1vcHRpb25cIn1dO1xuXHRcdGxldCBvcHRpb25zRGl2ID0gdGhpcy51dGlsaXR5LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgb3B0aW9uQXR0cmlidXRlcywgbnVsbCwgaGVhZGVyKTtcblxuXHRcdC8vIENyZWF0ZSBzZWFyY2ggYnV0dG9uXG5cdFx0bGV0IHNlYXJjaEF0dHJpYnV0ZXMgPSBbe1wiaWRcIjpcImNoX3NlYXJjaFwifV07XG5cdFx0bGV0IHNlYXJjaCA9IHRoaXMudXRpbGl0eS5jcmVhdGVFbGVtZW50KFwiaVwiLCBzZWFyY2hBdHRyaWJ1dGVzLCBcInNlYXJjaFwiLCBvcHRpb25zRGl2KTtcblx0XHRzZWFyY2guY2xhc3NMaXN0LmFkZCgnbWF0ZXJpYWwtaWNvbnMnLCAnY2gtc2VhcmNoLWljb24nKTtcblxuXHRcdC8vIENyZWF0ZSBvcHRpb24gYnV0dG9uXG5cdFx0bGV0IG9wdGlvbnNBdHRyaWJ1dGVzID0gW3tcImlkXCI6XCJjaF9sb2dvdXRcIn0se1widGl0bGVcIjpMQU5HVUFHRV9QSFJBU0VTLkxPR09VVH1dO1xuXHRcdGxldCBvcHRpb25zID0gdGhpcy51dGlsaXR5LmNyZWF0ZUVsZW1lbnQoXCJpXCIsIG9wdGlvbnNBdHRyaWJ1dGVzLCBcInBvd2VyX3NldHRpbmdzX25ld1wiLCBvcHRpb25zRGl2KTtcblx0XHRvcHRpb25zLmNsYXNzTGlzdC5hZGQoJ21hdGVyaWFsLWljb25zJywgJ2NoLW9wdGlvbnMnKTtcblxuXHRcdC8vIENyZWF0ZSBtaW5pbWl6ZSBidXR0b25cblx0XHRsZXQgbWluaW1pemVCdG5BdHRyaWJ1dGVzID0gW3tcImlkXCI6XCJjaF9taW5pbWl6ZV9idG5cIn0se1widGl0bGVcIjpMQU5HVUFHRV9QSFJBU0VTLkNMT1NFfV07XG5cdFx0bGV0IG1pbmltaXplQnRuID0gdGhpcy51dGlsaXR5LmNyZWF0ZUVsZW1lbnQoXCJpXCIsIG1pbmltaXplQnRuQXR0cmlidXRlcywgXCJjbG9zZVwiLCBvcHRpb25zRGl2KTtcblx0XHRtaW5pbWl6ZUJ0bi5jbGFzc0xpc3QuYWRkKFwibWF0ZXJpYWwtaWNvbnNcIiwgXCJjaC1taW5pbWl6ZS1idG5cIik7XG5cblx0XHQvLyBDcmVhdGUgYWxsIGNvbnZlcnNhdGlvbiBsaXN0aW5nXG5cdFx0bGV0IGxpc3RpbmdBdHRyaWJ1dGVzID0gW3tcImlkXCI6XCJjaF9yZWNlbnRfbGlzdGluZ1wifSx7XCJjbGFzc1wiOlwiY2gtcmVjZW50LWxpc3RpbmdcIn1dO1xuXHRcdGxldCBjb252TGlzdGluZyA9IHRoaXMudXRpbGl0eS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIGxpc3RpbmdBdHRyaWJ1dGVzLCBudWxsLCByZWNlbnRDb252V2luZG93KTtcblxuXHRcdC8vIENyZWF0ZSBsb2FkZXIgY29udGFpbmVyXG5cdFx0bGV0IGxvYWRlckNvbnRhaW5lckF0dHJpYnV0ZXMgPSBbe1wiaWRcIjpcImNoX3JlY2VudF9sb2FkZXJfY29udGFpbmVyXCJ9LHtcImNsYXNzXCI6XCJjaC1sb2FkZXItYmdcIn1dO1xuXHRcdGxldCBsb2FkZXJDb250YWluZXIgPSB0aGlzLnV0aWxpdHkuY3JlYXRlRWxlbWVudChcImRpdlwiLCBsb2FkZXJDb250YWluZXJBdHRyaWJ1dGVzLCBudWxsLCBjb252TGlzdGluZyk7XG5cdFx0bG9hZGVyQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG5cblx0XHQvLyBDcmVhdGUgbG9hZGVyXG5cdFx0bGV0IGxvYWRlckF0dHJpYnV0ZXMgPSBbe1wiaWRcIjpcImNoX3JlY2VudF9sb2FkZXJcIn0se1wiY2xhc3NcIjpcImNoLWxvYWRlclwifV07XG5cdFx0bGV0IGxvYWRlciA9IHRoaXMudXRpbGl0eS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIGxvYWRlckF0dHJpYnV0ZXMsIG51bGwsIGxvYWRlckNvbnRhaW5lcik7XG5cblx0XHQvLyBDcmVhdGUgdWwgZm9yIGxpc3Rpbmdcblx0XHRsZXQgdWxBdHRyaWJ1dGVzID0gW3tcImlkXCI6XCJjaF9yZWNlbnRfdWxcIn0se1wiY2xhc3NcIjpcImNoLXJlY2VudC11bFwifV07XG5cdFx0bGV0IHVsID0gdGhpcy51dGlsaXR5LmNyZWF0ZUVsZW1lbnQoXCJ1bFwiLCB1bEF0dHJpYnV0ZXMsIG51bGwsIGNvbnZMaXN0aW5nKTtcblxuXHRcdC8vIEludm9rZSBldmVudCBsaXN0ZW5lcnNcblx0XHRcdHRoaXMuX3JlZ2lzdGVyQ2xpY2tFdmVudEhhbmRsZXJzKCk7XG5cblx0XHQvLyBTZXQgdXNlciBpbWFnZSBpbiBoZWFkZXJcblx0XHR0aGlzLmdldFVzZXIodGhpcy53aWRnZXQudXNlcklkLCAoZXJyLCB1c2VyKSA9PiB7XG5cdFx0XHRpZihlcnIpIHJldHVybiBjb25zb2xlLmVycm9yKGVycik7XG5cblx0XHRcdGxldCBpbWdBdHRyaWJ1dGVzID0gW3tcImNsYXNzXCI6XCJjaC1jb252ZXJzYXRpb24taW1hZ2VcIn1dO1xuXHRcdFx0bGV0IHVzZXJJbWcgPSB0aGlzLnV0aWxpdHkuY3JlYXRlRWxlbWVudChcImRpdlwiLCBpbWdBdHRyaWJ1dGVzLCBudWxsLCBudWxsKTtcblx0XHRcdGhlYWRlci5pbnNlcnRCZWZvcmUodXNlckltZywgaGVhZGVyLmNoaWxkTm9kZXNbMF0pO1xuXHRcdFx0bGV0IHByb2ZpbGVJbWFnZVVybCA9IHVzZXIucHJvZmlsZUltYWdlVXJsID8gdXNlci5wcm9maWxlSW1hZ2VVcmwgOiBJTUFHRVMuQVZUQVI7XG5cdFx0XHR1c2VySW1nLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IFwidXJsKFwiICsgcHJvZmlsZUltYWdlVXJsICsgXCIpXCI7XG5cdFx0fSk7XG5cblx0XHQvLyBMb2FkIHJlY2VudCBjb252ZXJzYXRpb25zXG5cdFx0dGhpcy5fbG9hZENvbnZlcnNhdGlvbnMoKTtcblx0fVxuXG5cdF9sb2FkQ29udmVyc2F0aW9ucygpIHtcblx0XHQvLyBMb2FkIGNvbnZlcnNhdGlvbnNcblx0XHR0aGlzLmNoQWRhcHRlci5nZXRDb252ZXJzYXRpb25zTGlzdCh0aGlzLmxpbWl0LCB0aGlzLnNraXAsIG51bGwsIFwibWVtYmVyc1wiLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCAoZXJyLCBjb252ZXJzYXRpb25zKSA9PiB7XG5cdFx0XHRpZihlcnIpIHJldHVybiBjb25zb2xlLmVycm9yKGVycik7XG5cblx0XHRcdHRoaXMuY29udmVyc2F0aW9ucyA9IGNvbnZlcnNhdGlvbnM7XG5cdFx0XHQvLyBIaWRlIGxvYWRlclxuXHRcdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaF9yZWNlbnRfbG9hZGVyX2NvbnRhaW5lclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG5cblx0XHRcdGlmKCFjb252ZXJzYXRpb25zLmxlbmd0aCkge1xuXHRcdFx0XHQvLyBDcmVhdGUgbm8gbWVzc2FnZSBkaXZcblx0XHRcdFx0bGV0IGNvbnZsaXN0aW5nID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaF9yZWNlbnRfbGlzdGluZ1wiKTtcblx0XHRcdFx0bGV0IG5vTWVzc2FnZURpdkF0dHJpYnV0ZXMgPSBbe1wiaWRcIjpcImNoX25vX21zZ1wifSx7XCJjbGFzc1wiOlwiY2gtbm8tbXNnXCJ9XTtcblx0XHRcdFx0dGhpcy51dGlsaXR5LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbm9NZXNzYWdlRGl2QXR0cmlidXRlcywgTEFOR1VBR0VfUEhSQVNFUy5OT19DT05WX0ZPVU5ELCBjb252bGlzdGluZyk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQ3JlYXRlIGNvbnZlcnNhdGlvbiBsaXN0aW5nIGVsZW1lbnRzXG5cdFx0XHR0aGlzLl9jcmVhdGVDb252ZXJzYXRpb25MaXN0aW5nKGNvbnZlcnNhdGlvbnMpO1xuXHRcdH0pO1xuXHR9XG5cblx0X2NyZWF0ZUNvbnZlcnNhdGlvbkxpc3RpbmcoY29udmVyc2F0aW9ucykge1xuXHRcdGxldCB1bCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hfcmVjZW50X3VsXCIpO1xuXG5cdFx0Y29udmVyc2F0aW9ucy5mb3JFYWNoKGNvbnZlcnNhdGlvbiA9PiB7XG5cdFx0XHQvLyBtb2RpZnkgY29udmVyc2F0aW9uIG9iamVjdFxuXHRcdFx0Y29udmVyc2F0aW9uID0gdGhpcy5tb2RpZnlDb252ZXJzYXRpb24oY29udmVyc2F0aW9uKTtcblxuXHRcdFx0Ly8gQ3JlYXRlIGxpc3Qgb2YgY29udmVyc2F0aW9uc1xuXHRcdFx0bGV0IGxpc3RBdHRyaWJ1dGVzID0gW3tcImlkXCI6Y29udmVyc2F0aW9uLmlkfV07XG5cdFx0XHRsZXQgbGlzdCA9IHRoaXMudXRpbGl0eS5jcmVhdGVFbGVtZW50KFwibGlcIiwgbGlzdEF0dHJpYnV0ZXMsIG51bGwsIHVsKTtcblxuXHRcdFx0Ly8gQWRkIGxpc3RlbmVyIG9uIGV2ZXJ5IGNvbnZlcnNhdGlvblxuXHRcdFx0bGlzdC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGRhdGEpID0+IHtcblx0XHRcdFx0aWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaF9jb252X3dpbmRvd1wiKSkge1xuXHRcdFx0XHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hfY29udl93aW5kb3dcIikucmVtb3ZlKCk7XG5cdFx0XHRcdFx0dGhpcy53aWRnZXQuY29udldpbmRvd3MucG9wKCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb25zdCBjb252ZXJzYXRpb25XaW5kb3cgPSBuZXcgQ29udmVyc2F0aW9uV2luZG93KHRoaXMud2lkZ2V0KTtcblx0XHRcdFx0Y29udmVyc2F0aW9uV2luZG93LmluaXQoY29udmVyc2F0aW9uKTtcblx0XHRcdFx0dGhpcy53aWRnZXQuY29udldpbmRvd3MucHVzaChjb252ZXJzYXRpb25XaW5kb3cpO1xuXHRcdFx0fSk7XG5cdFx0XHRcblx0XHRcdC8vIENyZWF0ZSBwcm9maWxlIGltYWdlIHRhZ1xuXHRcdFx0bGV0IGltZ0F0dHJpYnV0ZXMgPSBbe1wiY2xhc3NcIjpcImNoLWNvbnZlcnNhdGlvbi1pbWFnZVwifV07XG5cdFx0XHRsZXQgaW1nRGl2ID0gdGhpcy51dGlsaXR5LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgaW1nQXR0cmlidXRlcywgbnVsbCwgbGlzdCk7XG5cdFx0XHRpbWdEaXYuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gXCJ1cmwoXCIgKyBjb252ZXJzYXRpb24ucHJvZmlsZUltYWdlVXJsICsgXCIpXCI7XG5cblx0XHRcdGlmKCFjb252ZXJzYXRpb24uaXNHcm91cCAmJiBjb252ZXJzYXRpb24udXNlcikge1xuXHRcdFx0XHQvLyBDcmVhdGUgb25saW5lIGljb25cblx0XHRcdFx0bGV0IGljb25BdHRyaWJ1dGVzID0gW3tcImlkXCI6Y29udmVyc2F0aW9uLnVzZXIuaWQrXCJfb25saW5lX2ljb25cIn0se1wiY2xhc3NcIjpcImNoLW9ubGluZS1pY29uXCJ9XTtcblx0XHRcdFx0bGV0IGljb24gPSB0aGlzLnV0aWxpdHkuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgaWNvbkF0dHJpYnV0ZXMsIG51bGwsIGltZ0Rpdik7XG5cblx0XHRcdFx0Ly8gU2hvdyBibG9jayBpY29uXG5cdFx0XHRcdGlmKGNvbnZlcnNhdGlvbi5ibG9ja2VkQnlVc2VyIHx8IGNvbnZlcnNhdGlvbi5ibG9ja2VkQnlNZW1iZXIpIHtcblx0XHRcdFx0XHRpY29uLmNsYXNzTGlzdC5hZGQoXCJjaC11c2VyLWJsb2NrZWRcIik7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBTaG93IG9ubGluZSBpY29uXG5cdFx0XHRcdGlmKGNvbnZlcnNhdGlvbi51c2VyICYmIGNvbnZlcnNhdGlvbi51c2VyLmlzT25saW5lKSB7XG5cdFx0XHRcdFx0aWNvbi5jbGFzc0xpc3QuYWRkKFwiY2gtc2hvdy1lbGVtZW50XCIpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIENyZWF0ZSB0aXRsZSBkaXZcblx0XHRcdGxldCB0aXRsZURpdkF0dHJpYnV0ZXMgPSBbe1wiaWRcIjpcImNoX3RpdGxlXCJ9XTtcblx0XHRcdHRoaXMudXRpbGl0eS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHRpdGxlRGl2QXR0cmlidXRlcywgY29udmVyc2F0aW9uLnRpdGxlLCBsaXN0KTtcblxuXHRcdFx0Ly8gQ3JlYXRlIHRpbWUgZGl2XG5cdFx0XHRsZXQgY3JlYXRlZEF0QXR0cmlidXRlcyA9IFt7XCJpZFwiOlwiY2hfY3JlYXRlZF9hdFwifSx7XCJjbGFzc1wiOlwiY2gtY3JlYXRlZC1hdFwifV07XG5cdFx0XHR0aGlzLnV0aWxpdHkuY3JlYXRlRWxlbWVudChcImRpdlwiLCBjcmVhdGVkQXRBdHRyaWJ1dGVzLCBjb252ZXJzYXRpb24ubGFzdE1lc3NhZ2VUaW1lLCBsaXN0KTtcblxuXHRcdFx0Ly8gQ3JlYXRlIGxhc3QgbWVzc2FnZSBib3hcblx0XHRcdGxldCBsYXN0TXNnQm94QXR0cmlidXRlcyA9IFt7XCJpZFwiOlwiY2hfbGFzdF9tc2dfYm94XCJ9LHtcImNsYXNzXCI6XCJjaC1sYXN0LW1zZy1ib3hcIn1dO1xuXHRcdFx0bGV0IGxhc3RNc2dCb3ggPSB0aGlzLnV0aWxpdHkuY3JlYXRlRWxlbWVudChcImRpdlwiLCBsYXN0TXNnQm94QXR0cmlidXRlcywgbnVsbCwgbGlzdCk7XG5cblx0XHRcdGlmKGNvbnZlcnNhdGlvbi5sYXN0TWVzc2FnZUljb24pIHtcblx0XHRcdFx0Ly8gQ3JlYXRlIGxhc3QgbWVzc2FnZSBpY29uXG5cdFx0XHRcdGxldCBtc2dJY29uQXR0cmlidXRlcyA9IFt7XCJpZFwiOlwiY2hfbXNnX3R5cGVfaWNvblwifSx7XCJjbGFzc1wiOlwiY2gtbXNnLXR5cGUtaWNvblwifSx7XCJzcmNcIjpjb252ZXJzYXRpb24ubGFzdE1lc3NhZ2VJY29ufV07XG5cdFx0XHRcdHRoaXMudXRpbGl0eS5jcmVhdGVFbGVtZW50KFwiaW1nXCIsIG1zZ0ljb25BdHRyaWJ1dGVzLCBudWxsLCBsYXN0TXNnQm94KTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQ3JlYXRlIGxhc3QgbWVzc2FnZVxuXHRcdFx0bGV0IGxhc3RNc2dBdHRyaWJ1dGVzID0gW3tcImlkXCI6XCJjaF9tc2dfXCIrY29udmVyc2F0aW9uLmxhc3RNZXNzYWdlSWR9LHtcImNsYXNzXCI6XCJjaC1sYXN0LW1lc3NhZ2VcIn1dO1xuXHRcdFx0dGhpcy51dGlsaXR5LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbGFzdE1zZ0F0dHJpYnV0ZXMsIGNvbnZlcnNhdGlvbi5sYXN0TWVzc2FnZUJvZHksIGxhc3RNc2dCb3gpO1xuXHRcdH0pO1xuXHR9XG5cblx0Z2V0VXNlcih1c2VySWQsIGNiKSB7XG5cdFx0dGhpcy5jaEFkYXB0ZXIuZ2V0VXNlcih1c2VySWQsIChlcnIsIHVzZXIpID0+IHtcblx0XHRcdGlmKGVycikgcmV0dXJuIGNiKGVycik7XG5cblx0XHRcdHJldHVybiBjYihudWxsLCB1c2VyKTtcblx0XHR9KTtcblx0fVxuXG5cdG1vZGlmeUNvbnZlcnNhdGlvbihjb252ZXJzYXRpb24pIHtcblx0XHRpZiAoIWNvbnZlcnNhdGlvbi5pc0dyb3VwICYmIE9iamVjdC5lbnRyaWVzKGNvbnZlcnNhdGlvbi51c2VyKS5sZW5ndGggPT09IDApIHtcblx0XHRcdGNvbnZlcnNhdGlvbi50aXRsZSA9IExBTkdVQUdFX1BIUkFTRVMuREVMRVRFRF9NRU1CRVI7XG5cdFx0XHRjb252ZXJzYXRpb24ucHJvZmlsZUltYWdlVXJsID0gSU1BR0VTLkFWVEFSO1xuXHRcdFx0cmV0dXJuIGNvbnZlcnNhdGlvbjtcbiAgICBcdH1cblxuICAgIFx0Ly8gU2V0IGxhc3QgbWVzc2FnZSBvZiBjb252ZXJzYXRpb25cblx0XHRjb252ZXJzYXRpb24gPSB0aGlzLl9zZXRMYXN0TWVzc2FnZShjb252ZXJzYXRpb24sIGNvbnZlcnNhdGlvbi5sYXN0TWVzc2FnZSk7XG5cblx0ICAgIC8vIFNldCBwcm9maWxlIEltYWdlLCB0aXRsZSBhbmQgc3RhdHVzIG9mIGNvbnZlcnNhdGlvblxuXHRcdGlmKGNvbnZlcnNhdGlvbi5pc0dyb3VwKSB7XG5cdFx0XHRjb252ZXJzYXRpb24ucHJvZmlsZUltYWdlVXJsID0gY29udmVyc2F0aW9uLnByb2ZpbGVJbWFnZVVybCA/IGNvbnZlcnNhdGlvbi5wcm9maWxlSW1hZ2VVcmwgOiBJTUFHRVMuR1JPVVA7XG5cdFx0XHRjb252ZXJzYXRpb24uc3RhdHVzID0gY29udmVyc2F0aW9uLm1lbWJlckNvdW50ICsgXCIgXCIgKyBMQU5HVUFHRV9QSFJBU0VTLk1FTUJFUlM7XG5cdFx0fVxuXHRcdGVsc2Uge1xuXHRcdFx0Y29udmVyc2F0aW9uLnByb2ZpbGVJbWFnZVVybCA9IGNvbnZlcnNhdGlvbi51c2VyLnByb2ZpbGVJbWFnZVVybCA/IGNvbnZlcnNhdGlvbi51c2VyLnByb2ZpbGVJbWFnZVVybCA6IElNQUdFUy5BVlRBUjtcblx0XHRcdGNvbnZlcnNhdGlvbi50aXRsZSA9IGNvbnZlcnNhdGlvbi51c2VyLmRpc3BsYXlOYW1lO1xuXG5cdFx0XHQvLyBTZXQgYmxvY2sgdXNlciBzdGF0dXNcblx0XHRcdGxldCBtZW1iZXIgPSBjb252ZXJzYXRpb24ubWVtYmVycy5maW5kKG1lbWJlciA9PiBtZW1iZXIudXNlcklkID09IGNvbnZlcnNhdGlvbi51c2VyLmlkKTtcblx0XHRcdGlmKCFtZW1iZXIpIHtcblx0XHRcdFx0Y29udmVyc2F0aW9uLmJsb2NrZWRCeU1lbWJlciA9IHRydWU7XG5cdFx0XHRcdGNvbnZlcnNhdGlvbi5zdGF0dXMgPSBcIlwiO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdGNvbnZlcnNhdGlvbi5ibG9ja2VkQnlNZW1iZXIgPSBtZW1iZXIgPyBmYWxzZSA6IHRydWU7XG5cdFx0XHRcdGlmKCFjb252ZXJzYXRpb24uaXNBY3RpdmUpIHtcblx0XHRcdFx0XHRjb252ZXJzYXRpb24uYmxvY2tlZEJ5VXNlciA9IHRydWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZihjb252ZXJzYXRpb24udXNlci5pc09ubGluZSkge1xuXHRcdFx0XHRcdGNvbnZlcnNhdGlvbi5zdGF0dXMgPSBMQU5HVUFHRV9QSFJBU0VTLk9OTElORTtcblx0XHRcdFx0fVxuXHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRjb252ZXJzYXRpb24uc3RhdHVzID0gTEFOR1VBR0VfUEhSQVNFUy5MQVNUX1NFRU4gKyB0aGlzLnV0aWxpdHkudXBkYXRlVGltZUZvcm1hdChtZW1iZXIudXNlci5sYXN0U2Vlbik7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0Y29udmVyc2F0aW9uLmlzTW9kaWZpZWQgPSB0cnVlO1xuXHRcdHJldHVybiBjb252ZXJzYXRpb247XG5cdH1cblxuXHRfc2V0TGFzdE1lc3NhZ2UoY29udmVyc2F0aW9uLCBtZXNzYWdlKSB7XG5cdFx0aWYoIW1lc3NhZ2UpXG5cdFx0XHRyZXR1cm4gY29udmVyc2F0aW9uO1xuXG5cdFx0Ly8gU2V0IGxhc3RNZXNzYWdlIG9mIGNvbmVyc2F0aW9uXG5cdFx0Y29udmVyc2F0aW9uLmxhc3RNZXNzYWdlID0gbWVzc2FnZTtcblx0XHRpZihtZXNzYWdlLmlzRGVsZXRlZCkge1xuXHRcdFx0Y29udmVyc2F0aW9uLmxhc3RNZXNzYWdlSWNvbiA9IG51bGw7XG5cdFx0XHRjb252ZXJzYXRpb24ubGFzdE1lc3NhZ2VCb2R5ID0gXCI8aT5cIiArIExBTkdVQUdFX1BIUkFTRVMuTUVTU0FHRV9ERUxFVEVEO1xuXHRcdH1cblx0XHRlbHNlIGlmKG1lc3NhZ2UudHlwZSAhPSBcIm5vcm1hbFwiKSB7XG5cdFx0XHRjb252ZXJzYXRpb24ubGFzdE1lc3NhZ2VJY29uID0gbnVsbDtcblx0XHRcdGNvbnZlcnNhdGlvbi5sYXN0TWVzc2FnZUJvZHkgPSB0aGlzLl9tb2RpZnlNZXNzYWdlQm9keShtZXNzYWdlKTtcblx0XHR9XG5cdFx0ZWxzZSBpZihtZXNzYWdlLmF0dGFjaG1lbnRzICYmIG1lc3NhZ2UuYXR0YWNobWVudHMubGVuZ3RoKSB7XG5cblx0XHRcdHN3aXRjaChtZXNzYWdlLmF0dGFjaG1lbnRzWzBdLnR5cGUpIHtcblx0XHRcdFx0Y2FzZSBcImltYWdlXCI6XG5cdFx0XHRcdFx0Y29udmVyc2F0aW9uLmxhc3RNZXNzYWdlSWNvbiA9IElNQUdFUy5HQUxMRVJZX0lDT047XG5cdFx0XHRcdFx0Y29udmVyc2F0aW9uLmxhc3RNZXNzYWdlQm9keSA9IExBTkdVQUdFX1BIUkFTRVMuSU1BR0U7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSBcImF1ZGlvXCI6XG5cdFx0XHRcdFx0Y29udmVyc2F0aW9uLmxhc3RNZXNzYWdlSWNvbiA9IElNQUdFUy5BVURJT19JQ09OO1xuXHRcdFx0XHRcdGNvbnZlcnNhdGlvbi5sYXN0TWVzc2FnZUJvZHkgPSBMQU5HVUFHRV9QSFJBU0VTLkFVRElPO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgXCJ2aWRlb1wiOlxuXHRcdFx0XHRcdGNvbnZlcnNhdGlvbi5sYXN0TWVzc2FnZUljb24gPSBJTUFHRVMuR0FMTEVSWV9JQ09OO1xuXHRcdFx0XHRcdGNvbnZlcnNhdGlvbi5sYXN0TWVzc2FnZUJvZHkgPSBMQU5HVUFHRV9QSFJBU0VTLlZJREVPO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgXCJsb2NhdGlvblwiOlxuXHRcdFx0XHRcdGNvbnZlcnNhdGlvbi5sYXN0TWVzc2FnZUljb24gPSBJTUFHRVMuTE9DQVRJT05fSUNPTjtcblx0XHRcdFx0XHRjb252ZXJzYXRpb24ubGFzdE1lc3NhZ2VCb2R5ID0gTEFOR1VBR0VfUEhSQVNFUy5MT0NBVElPTjtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIFwic3RpY2tlclwiOlxuXHRcdFx0XHRcdGNvbnZlcnNhdGlvbi5sYXN0TWVzc2FnZUljb24gPSBJTUFHRVMuU1RJQ0tFUl9JQ09OO1xuXHRcdFx0XHRcdGNvbnZlcnNhdGlvbi5sYXN0TWVzc2FnZUJvZHkgPSBMQU5HVUFHRV9QSFJBU0VTLlNUSUNLRVI7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSBcImdpZlwiOlxuXHRcdFx0XHRcdGNvbnZlcnNhdGlvbi5sYXN0TWVzc2FnZUljb24gPSBJTUFHRVMuR0lGX0lDT047XG5cdFx0XHRcdFx0Y29udmVyc2F0aW9uLmxhc3RNZXNzYWdlQm9keSA9IExBTkdVQUdFX1BIUkFTRVMuR0lGO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgXCJ0ZXh0XCI6XG5cdFx0XHRcdFx0Y29udmVyc2F0aW9uLmxhc3RNZXNzYWdlSWNvbiA9IElNQUdFUy5HQUxMRVJZX0lDT047XG5cdFx0XHRcdFx0Y29udmVyc2F0aW9uLmxhc3RNZXNzYWdlQm9keSA9IG1lc3NhZ2UuYm9keTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRcdGNvbnZlcnNhdGlvbi5sYXN0TWVzc2FnZUljb24gPSBJTUFHRVMuR0FMTEVSWV9JQ09OO1xuXHRcdFx0XHRcdGNvbnZlcnNhdGlvbi5sYXN0TWVzc2FnZUJvZHkgPSBMQU5HVUFHRV9QSFJBU0VTLkFUVEFDSE1FTlQ7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGVsc2Uge1xuXHRcdFx0Y29udmVyc2F0aW9uLmxhc3RNZXNzYWdlSWNvbiA9IG51bGw7XG5cdFx0XHRjb252ZXJzYXRpb24ubGFzdE1lc3NhZ2VCb2R5ID0gbWVzc2FnZS5ib2R5O1xuXHRcdH1cblxuXHRcdC8vIFNldCBMYXN0IE1lc3NhZ2UgdGltZVxuXHRcdGlmKCFtZXNzYWdlLnVwZGF0ZWRBdCkge1xuXHRcdFx0Y29udmVyc2F0aW9uLmxhc3RNZXNzYWdlVGltZSA9IHRoaXMudXRpbGl0eS51cGRhdGVUaW1lRm9ybWF0KERhdGUoKSk7XG5cdFx0fVxuXHRcdGVsc2Uge1xuXHRcdFx0Y29udmVyc2F0aW9uLmxhc3RNZXNzYWdlVGltZSA9IHRoaXMudXRpbGl0eS51cGRhdGVUaW1lRm9ybWF0KG1lc3NhZ2UudXBkYXRlZEF0KTtcblx0XHR9XG5cdFx0XG5cdFx0Ly8gU2V0IGxhc3QgbWVzc2FnZSBJZFxuXHRcdGNvbnZlcnNhdGlvbi5sYXN0TWVzc2FnZUlkID0gbWVzc2FnZS5pZDtcblx0XHRyZXR1cm4gY29udmVyc2F0aW9uO1xuXHR9XG5cblx0ZGVsZXRlTGFzdE1lc3NhZ2UoZGF0YSwgdXBkYXRlZExhc3RNc2cpIHtcblx0XHRsZXQgdGFyZ2V0TGFzdE1zZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hfbXNnX1wiICsgZGF0YS5tZXNzYWdlc1swXS5pZCk7XG5cdFx0aWYoIXVwZGF0ZWRMYXN0TXNnKSB7XG5cdFx0XHR0YXJnZXRMYXN0TXNnLmlubmVySFRNTCA9IFwiXCI7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYodGFyZ2V0TGFzdE1zZykge1xuXHRcdFx0dGFyZ2V0TGFzdE1zZy5pZCA9IHVwZGF0ZWRMYXN0TXNnLmlkLnJlcGxhY2UoXCJjaF9tZXNzYWdlX1wiLCBcImNoX21zZ19cIik7XG5cdFx0XHRsZXQgbGFzdE1zZ0JveCA9IHRhcmdldExhc3RNc2cucGFyZW50Tm9kZTtcblxuXHRcdFx0Ly8gUmVtb3ZlIGxhc3QgbWVzc2FnZSBpY29uIGlmIGV4aXN0XG5cdFx0XHRpZihsYXN0TXNnQm94LmZpcnN0Q2hpbGQuaWQgPT0gXCJjaF9tc2dfdHlwZV9pY29uXCIpXG5cdFx0XHRcdGxhc3RNc2dCb3guZmlyc3RDaGlsZC5yZW1vdmUoKTtcblxuXHRcdFx0Ly8gVXBkYXRlIGxhc3QgbWVzc2FnZVxuXHRcdFx0aWYodXBkYXRlZExhc3RNc2cuZmlyc3RDaGlsZC5pbm5lclRleHQgPT0gTEFOR1VBR0VfUEhSQVNFUy5NRVNTQUdFX0RFTEVURUQpIHtcblx0XHRcdFx0dGFyZ2V0TGFzdE1zZy5pbm5lckhUTUwgPSBcIjxpPlwiICsgTEFOR1VBR0VfUEhSQVNFUy5NRVNTQUdFX0RFTEVURUQ7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0bGV0IG1lZGlhTXNnID0gdXBkYXRlZExhc3RNc2cuZmlyc3RDaGlsZDtcblxuXHRcdFx0XHRpZihtZWRpYU1zZy5pZCA9PSBcImNoX2ltYWdlX21lc3NhZ2VcIikge1xuXHRcdFx0XHRcdC8vIENyZWF0ZSBsYXN0IG1lc3NhZ2UgaWNvblxuXHRcdFx0XHRcdGxldCBtc2dJY29uQXR0cmlidXRlcyA9IFt7XCJpZFwiOlwiY2hfbXNnX3R5cGVfaWNvblwifSx7XCJjbGFzc1wiOlwiY2gtbXNnLXR5cGUtaWNvblwifSx7XCJzcmNcIjpJTUFHRVMuR0FMTEVSWV9JQ09OfV07XG5cdFx0XHRcdFx0bGV0IG1zZ0ljb24gPSB0aGlzLnV0aWxpdHkuY3JlYXRlRWxlbWVudChcImltZ1wiLCBtc2dJY29uQXR0cmlidXRlcywgbnVsbCwgbnVsbCk7XG5cdFx0XHRcdFx0bGFzdE1zZ0JveC5pbnNlcnRCZWZvcmUobXNnSWNvbiwgdGFyZ2V0TGFzdE1zZyk7XG5cblx0XHRcdFx0XHR0YXJnZXRMYXN0TXNnLmlubmVySFRNTCA9IExBTkdVQUdFX1BIUkFTRVMuSU1BR0U7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZWxzZSBpZihtZWRpYU1zZy5pZCA9PSBcImNoX2F1ZGlvX21lc3NhZ2VcIikge1xuXHRcdFx0XHRcdC8vIENyZWF0ZSBsYXN0IG1lc3NhZ2UgaWNvblxuXHRcdFx0XHRcdGxldCBtc2dJY29uQXR0cmlidXRlcyA9IFt7XCJpZFwiOlwiY2hfbXNnX3R5cGVfaWNvblwifSx7XCJjbGFzc1wiOlwiY2gtbXNnLXR5cGUtaWNvblwifSx7XCJzcmNcIjpJTUFHRVMuQVVESU9fSUNPTn1dO1xuXHRcdFx0XHRcdGxldCBtc2dJY29uID0gdGhpcy51dGlsaXR5LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIiwgbXNnSWNvbkF0dHJpYnV0ZXMsIG51bGwsIG51bGwpO1xuXHRcdFx0XHRcdGxhc3RNc2dCb3guaW5zZXJ0QmVmb3JlKG1zZ0ljb24sIHRhcmdldExhc3RNc2cpO1xuXG5cdFx0XHRcdFx0dGFyZ2V0TGFzdE1zZy5pbm5lckhUTUwgPSBMQU5HVUFHRV9QSFJBU0VTLkFVRElPO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGVsc2UgaWYobWVkaWFNc2cuaWQgPT0gXCJjaF92aWRlb19tZXNzYWdlXCIpIHtcblx0XHRcdFx0XHQvLyBDcmVhdGUgbGFzdCBtZXNzYWdlIGljb25cblx0XHRcdFx0XHRsZXQgbXNnSWNvbkF0dHJpYnV0ZXMgPSBbe1wiaWRcIjpcImNoX21zZ190eXBlX2ljb25cIn0se1wiY2xhc3NcIjpcImNoLW1zZy10eXBlLWljb25cIn0se1wic3JjXCI6SU1BR0VTLlZJREVPX0lDT059XTtcblx0XHRcdFx0XHRsZXQgbXNnSWNvbiA9IHRoaXMudXRpbGl0eS5jcmVhdGVFbGVtZW50KFwiaW1nXCIsIG1zZ0ljb25BdHRyaWJ1dGVzLCBudWxsLCBudWxsKTtcblx0XHRcdFx0XHRsYXN0TXNnQm94Lmluc2VydEJlZm9yZShtc2dJY29uLCB0YXJnZXRMYXN0TXNnKTtcblxuXHRcdFx0XHRcdHRhcmdldExhc3RNc2cuaW5uZXJIVE1MID0gTEFOR1VBR0VfUEhSQVNFUy5WSURFTztcblx0XHRcdFx0fVxuXHRcdFx0XHRlbHNlIGlmKG1lZGlhTXNnLmlkID09IFwiY2hfbG9jYXRpb25fbWVzc2FnZVwiKSB7XG5cdFx0XHRcdFx0Ly8gQ3JlYXRlIGxhc3QgbWVzc2FnZSBpY29uXG5cdFx0XHRcdFx0bGV0IG1zZ0ljb25BdHRyaWJ1dGVzID0gW3tcImlkXCI6XCJjaF9tc2dfdHlwZV9pY29uXCJ9LHtcImNsYXNzXCI6XCJjaC1tc2ctdHlwZS1pY29uXCJ9LHtcInNyY1wiOklNQUdFUy5MT0NBVElPTl9JQ09OfV07XG5cdFx0XHRcdFx0bGV0IG1zZ0ljb24gPSB0aGlzLnV0aWxpdHkuY3JlYXRlRWxlbWVudChcImltZ1wiLCBtc2dJY29uQXR0cmlidXRlcywgbnVsbCwgbnVsbCk7XG5cdFx0XHRcdFx0bGFzdE1zZ0JveC5pbnNlcnRCZWZvcmUobXNnSWNvbiwgdGFyZ2V0TGFzdE1zZyk7XG5cblx0XHRcdFx0XHR0YXJnZXRMYXN0TXNnLmlubmVySFRNTCA9IExBTkdVQUdFX1BIUkFTRVMuTE9DQVRJT047XG5cdFx0XHRcdH1cblx0XHRcdFx0ZWxzZSBpZihtZWRpYU1zZy5pZCA9PSBcImNoX3N0aWNrZXJfbWVzc2FnZVwiKSB7XG5cdFx0XHRcdFx0Ly8gQ3JlYXRlIGxhc3QgbWVzc2FnZSBpY29uXG5cdFx0XHRcdFx0bGV0IG1zZ0ljb25BdHRyaWJ1dGVzID0gW3tcImlkXCI6XCJjaF9tc2dfdHlwZV9pY29uXCJ9LHtcImNsYXNzXCI6XCJjaC1tc2ctdHlwZS1pY29uXCJ9LHtcInNyY1wiOklNQUdFUy5TVElDS0VSX0lDT059XTtcblx0XHRcdFx0XHRsZXQgbXNnSWNvbiA9IHRoaXMudXRpbGl0eS5jcmVhdGVFbGVtZW50KFwiaW1nXCIsIG1zZ0ljb25BdHRyaWJ1dGVzLCBudWxsLCBudWxsKTtcblx0XHRcdFx0XHRsYXN0TXNnQm94Lmluc2VydEJlZm9yZShtc2dJY29uLCB0YXJnZXRMYXN0TXNnKTtcblxuXHRcdFx0XHRcdHRhcmdldExhc3RNc2cuaW5uZXJIVE1MID0gTEFOR1VBR0VfUEhSQVNFUy5TVElDS0VSO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdHRhcmdldExhc3RNc2cuaW5uZXJIVE1MID0gdXBkYXRlZExhc3RNc2cuaW5uZXJUZXh0O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0dXBkYXRlTmV3TWVzc2FnZShtZXNzYWdlKSB7XG5cdFx0aWYoIW1lc3NhZ2UpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRsZXQgY29udlRvVXBkYXRlID0gdGhpcy5jb252ZXJzYXRpb25zLmZpbmQoY29udiA9PiBjb252LmlkID09IG1lc3NhZ2UuY29udmVyc2F0aW9uSWQpO1xuXG5cdFx0Ly8gVXBkYXRlIHJlY2VudCBjb252ZXJzYXRpb24gbGlzdCBpZiBleGlzdFxuXHRcdGlmKGNvbnZUb1VwZGF0ZSAmJiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb252VG9VcGRhdGUuaWQpKSB7XG5cdFx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb252VG9VcGRhdGUuaWQpLnJlbW92ZSgpO1xuXHRcdFx0Y29udlRvVXBkYXRlID0gdGhpcy5fc2V0TGFzdE1lc3NhZ2UoY29udlRvVXBkYXRlLCBtZXNzYWdlKTtcblx0XHRcdHRoaXMuX2FkZE5ld0NvbnZlcnNhdGlvbkluTGlzdChjb252VG9VcGRhdGUpO1xuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdC8vIEdldCBuZXcgY29udmVyc2F0aW9uIG9iamVjdFxuXHRcdFx0dGhpcy5jaEFkYXB0ZXIuZ2V0Q29udmVyc2F0aW9uKG1lc3NhZ2UuY29udmVyc2F0aW9uSWQsIChlcnIsIGNvbnZlcnNhdGlvbikgPT4ge1xuXHRcdFx0XHRpZihlcnIpIHJldHVybiBjb25zb2xlLmVycm9yKGVycik7XG5cblx0XHRcdFx0Ly8gUmVtb3ZlIG5vIG1lc3NhZ2UgdGFnIGlmIGV4aXN0XG5cdFx0XHRcdGlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hfbm9fbXNnXCIpKVxuXHRcdFx0XHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hfbm9fbXNnXCIpLnJlbW92ZSgpO1xuXG5cdFx0XHRcdGNvbnZlcnNhdGlvbiA9IHRoaXMubW9kaWZ5Q29udmVyc2F0aW9uKGNvbnZlcnNhdGlvbik7XG5cdFx0XHRcdHRoaXMuY29udmVyc2F0aW9ucyA9IHRoaXMuY29udmVyc2F0aW9ucy5jb25jYXQoY29udmVyc2F0aW9uKTtcblx0XHRcdFx0dGhpcy5fYWRkTmV3Q29udmVyc2F0aW9uSW5MaXN0KGNvbnZlcnNhdGlvbik7XG5cblx0XHRcdFx0Ly8gUmVwbGFjZSBkdW1teSBjb252ZXJzYXRpb24gd2l0aCBuZXcgY29udmVyc2F0aW9uXG5cdFx0XHRcdHRoaXMud2lkZ2V0LmNvbnZXaW5kb3dzLmZvckVhY2goY29udmVyc2F0aW9uV2luZG93ID0+IHtcblx0XHRcdFx0XHRpZihjb252ZXJzYXRpb25XaW5kb3cuY29udmVyc2F0aW9uLmlzRHVtbXlPYmplY3QpIHtcblx0XHRcdFx0XHRcdGlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hfY29udl93aW5kb3dcIikpIHtcblx0XHRcdFx0XHRcdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaF9jb252X3dpbmRvd1wiKS5yZW1vdmUoKTtcblx0XHRcdFx0XHRcdFx0dGhpcy53aWRnZXQuY29udldpbmRvd3MucG9wKCk7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdGNvbnN0IGNvbnZlcnNhdGlvbldpbmRvdyA9IG5ldyBDb252ZXJzYXRpb25XaW5kb3codGhpcy53aWRnZXQpO1xuXHRcdFx0XHRcdFx0Y29udmVyc2F0aW9uV2luZG93LmluaXQoY29udmVyc2F0aW9uKTtcblx0XHRcdFx0XHRcdHRoaXMud2lkZ2V0LmNvbnZXaW5kb3dzLnB1c2goY29udmVyc2F0aW9uV2luZG93KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG5cblx0X21vZGlmeU1lc3NhZ2VCb2R5KG1lc3NhZ2UpIHtcblx0XHRpZighbWVzc2FnZSlcblx0XHRcdHJldHVybjtcblxuXHRcdC8vIEhhbmRsZSBtZXRhIG1lc3NhZ2Vcblx0XHRpZihtZXNzYWdlLnR5cGUgPT0gXCJhZG1pblwiKSB7XG5cdFx0XHRsZXQgYm9keTtcblxuXHRcdFx0Ly8gYWRtaW5NZXNzYWdlVHlwZVxuXHRcdFx0c3dpdGNoKG1lc3NhZ2UuYm9keSkge1xuXHRcdFx0XHRjYXNlIFwiYWRtaW5fZ3JvdXBfY3JlYXRlXCIgOlxuXHRcdFx0XHRcdGJvZHkgPSBcIjxpPlwiICsgTEFOR1VBR0VfUEhSQVNFUy5HUk9VUF9DUkVBVEVEO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgXCJhZG1pbl9ncm91cF9jaGFuZ2VfcGhvdG9cIiA6XG5cdFx0XHRcdFx0Ym9keSA9IFwiPGk+XCIgKyBMQU5HVUFHRV9QSFJBU0VTLkdST1VQX1BIT1RPX0NIQU5HRUQ7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSBcImFkbWluX2dyb3VwX2NoYW5nZV90aXRsZVwiIDpcblx0XHRcdFx0XHRib2R5ID0gXCI8aT5cIiArIExBTkdVQUdFX1BIUkFTRVMuR1JPVVBfVElUTEVfQ0hBTkdFRDtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIFwiYWRtaW5fZ3JvdXBfYWRkX21lbWJlcnNcIiA6XG5cdFx0XHRcdFx0Ym9keSA9IFwiPGk+XCIgKyBMQU5HVUFHRV9QSFJBU0VTLkdST1VQX01FTUJFUl9BRERFRDtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIFwiYWRtaW5fZ3JvdXBfcmVtb3ZlX21lbWJlcnNcIiA6XG5cdFx0XHRcdFx0Ym9keSA9IFwiPGk+XCIgKyBMQU5HVUFHRV9QSFJBU0VTLkdST1VQX01FTUJFUl9SRU1PVkVEO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgXCJhZG1pbl9ncm91cF9tYWtlX2FkbWluXCIgOlxuXHRcdFx0XHRcdGJvZHkgPSBcIjxpPlwiICsgTEFOR1VBR0VfUEhSQVNFUy5HUk9VUF9BRE1JTl9VUERBVEVEO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0Ym9keSA9IFwiPGk+XCIgKyBtZXNzYWdlLnR5cGUgKyBcIiBtZXNzYWdlXCI7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gYm9keTtcblx0XHR9XG5cdH1cblxuXHR1cGRhdGVVc2VyU3RhdHVzKHVzZXIpIHtcblx0XHRpZighdGhpcy5jb252ZXJzYXRpb25zKVxuXHRcdFx0cmV0dXJuO1xuXG5cdFx0Y29uc3QgaW5kZXggPSB0aGlzLmNvbnZlcnNhdGlvbnMuZmluZEluZGV4KGNvbnZlcnNhdGlvbiA9PiBjb252ZXJzYXRpb24udXNlci5pZCA9PSB1c2VyLmlkKTtcblx0XHRpZihpbmRleCAhPSAtMSkge1xuXHRcdFx0dGhpcy5jb252ZXJzYXRpb25zW2luZGV4XS51c2VyID0gdXNlcjtcblx0XHRcdGlmKHVzZXIuaXNPbmxpbmUpIHtcblx0XHRcdFx0dGhpcy5jb252ZXJzYXRpb25zW2luZGV4XS5zdGF0dXMgPSBMQU5HVUFHRV9QSFJBU0VTLk9OTElORTtcblx0XHRcdH1cblx0XHRcdGVsc2Uge1xuXHRcdFx0XHR0aGlzLmNvbnZlcnNhdGlvbnNbaW5kZXhdLnN0YXR1cyA9IExBTkdVQUdFX1BIUkFTRVMuTEFTVF9TRUVOICsgdGhpcy51dGlsaXR5LnVwZGF0ZVRpbWVGb3JtYXQodXNlci5sYXN0U2Vlbik7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gVXBkYXRlIGJsb2NrL3VuYmxvY2sgaWNvblxuXHRcdGxldCB1c2VyU3RhdHVzSWNvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHVzZXIuaWQrXCJfb25saW5lX2ljb25cIik7XG5cdFx0aWYoIXVzZXJTdGF0dXNJY29uKVxuXHRcdFx0cmV0dXJuO1xuXG5cdFx0aWYodXNlci5pc09ubGluZSkge1xuXHRcdFx0dXNlclN0YXR1c0ljb24uY2xhc3NMaXN0LmFkZChcImNoLXNob3ctZWxlbWVudFwiKTtcblx0XHR9XG5cdFx0ZWxzZSB7XG5cdFx0XHR1c2VyU3RhdHVzSWNvbi5jbGFzc0xpc3QucmVtb3ZlKFwiY2gtc2hvdy1lbGVtZW50XCIpO1xuXHRcdH1cblx0fVxuXG5cdHVwZGF0ZVJlYWRBdChkYXRhKSB7XG5cdFx0bGV0IGluZGV4ID0gdGhpcy5jb252ZXJzYXRpb25zLmZpbmRJbmRleChjb252ID0+IGNvbnYuaWQgPT0gZGF0YS5jb252ZXJzYXRpb24uaWQpO1xuXHRcdGlmKGluZGV4ICE9IC0xKSB7XG5cdFx0XHR0aGlzLmNvbnZlcnNhdGlvbnNbaW5kZXhdLmxhc3RSZWFkQXRbZGF0YS51c2VySWRdID0gZGF0YS50aW1lc3RhbXA7XG5cdFx0fVxuXHR9XG5cblx0X2FkZE5ld0NvbnZlcnNhdGlvbkluTGlzdChjb252ZXJzYXRpb24pIHtcblx0XHQvLyBBZGQgbmV3IGNvbnZlcnNhdGlvbiBpbiByZWNlbnQgY29udmVyc2F0aW9uIGxpc3Rcblx0XHRsZXQgdWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoX3JlY2VudF91bFwiKTtcblx0XHRsZXQgbGlzdEF0dHJpYnV0ZXMgPSBbe1wiaWRcIjpjb252ZXJzYXRpb24uaWR9XTtcblx0XHRsZXQgbmV3Q29udmxpc3QgPSB0aGlzLnV0aWxpdHkuY3JlYXRlRWxlbWVudChcImxpXCIsIGxpc3RBdHRyaWJ1dGVzLCBudWxsLCBudWxsKTtcblx0XHR1bC5pbnNlcnRCZWZvcmUobmV3Q29udmxpc3QsIHVsLmNoaWxkTm9kZXNbMF0pO1xuXG5cdFx0Ly8gQWRkIGV2ZW50IGxpc3RlbmVyIG9uIG5ldyBjb252ZXJzYXRpb24gbGlzdFxuXHRcdG5ld0NvbnZsaXN0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZGF0YSkgPT4ge1xuXHRcdFx0aWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaF9jb252X3dpbmRvd1wiKSkge1xuXHRcdFx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoX2NvbnZfd2luZG93XCIpLnJlbW92ZSgpO1xuXHRcdFx0XHR0aGlzLndpZGdldC5jb252V2luZG93cy5wb3AoKTtcblx0XHRcdH1cblxuXHRcdFx0Y29uc3QgY29udmVyc2F0aW9uV2luZG93ID0gbmV3IENvbnZlcnNhdGlvbldpbmRvdyh0aGlzLndpZGdldCk7XG5cdFx0XHRjb252ZXJzYXRpb25XaW5kb3cuaW5pdChjb252ZXJzYXRpb24pO1xuXHRcdFx0dGhpcy53aWRnZXQuY29udldpbmRvd3MucHVzaChjb252ZXJzYXRpb25XaW5kb3cpO1xuXHRcdH0pO1xuXHRcdFxuXHRcdC8vIENyZWF0ZSBwcm9maWxlIGltYWdlIHRhZ1xuXHRcdGxldCBpbWdBdHRyaWJ1dGVzID0gW3tcImNsYXNzXCI6XCJjaC1jb252ZXJzYXRpb24taW1hZ2VcIn1dO1xuXHRcdGxldCBpbWdEaXYgPSB0aGlzLnV0aWxpdHkuY3JlYXRlRWxlbWVudChcImRpdlwiLCBpbWdBdHRyaWJ1dGVzLCBudWxsLCBuZXdDb252bGlzdCk7XG5cdFx0aW1nRGl2LnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IFwidXJsKFwiICsgY29udmVyc2F0aW9uLnByb2ZpbGVJbWFnZVVybCArIFwiKVwiO1xuXG5cdFx0aWYoIWNvbnZlcnNhdGlvbi5pc0dyb3VwICYmIGNvbnZlcnNhdGlvbi51c2VyKSB7XG5cdFx0XHQvLyBDcmVhdGUgb25saW5lIGljb25cblx0XHRcdGxldCBpY29uQXR0cmlidXRlcyA9IFt7XCJpZFwiOmNvbnZlcnNhdGlvbi51c2VyLmlkK1wiX29ubGluZV9pY29uXCJ9LHtcImNsYXNzXCI6XCJjaC1vbmxpbmUtaWNvblwifV07XG5cdFx0XHRsZXQgaWNvbiA9IHRoaXMudXRpbGl0eS5jcmVhdGVFbGVtZW50KFwic3BhblwiLCBpY29uQXR0cmlidXRlcywgbnVsbCwgaW1nRGl2KTtcblxuXHRcdFx0Ly8gU2hvdyBibG9jayBpY29uXG5cdFx0XHRpZihjb252ZXJzYXRpb24uYmxvY2tlZEJ5VXNlciB8fCBjb252ZXJzYXRpb24uYmxvY2tlZEJ5TWVtYmVyKSB7XG5cdFx0XHRcdGljb24uY2xhc3NMaXN0LmFkZChcImNoLXVzZXItYmxvY2tlZFwiKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU2hvdyBvbmxpbmUgaWNvblxuXHRcdFx0aWYoY29udmVyc2F0aW9uLnVzZXIgJiYgY29udmVyc2F0aW9uLnVzZXIuaXNPbmxpbmUpIHtcblx0XHRcdFx0aWNvbi5jbGFzc0xpc3QuYWRkKFwiY2gtc2hvdy1lbGVtZW50XCIpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIENyZWF0ZSB0aXRsZSBkaXZcblx0XHRsZXQgdGl0bGVBdHRyaWJ1dGVzID0gW3tcImlkXCI6XCJjaF90aXRsZVwifV07XG5cdFx0dGhpcy51dGlsaXR5LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgdGl0bGVBdHRyaWJ1dGVzLCBjb252ZXJzYXRpb24udGl0bGUsIG5ld0NvbnZsaXN0KTtcblxuXHRcdC8vIENyZWF0ZSB0aW1lIGRpdlxuXHRcdGxldCBjcmVhdGVkQXRBdHRyaWJ1dGVzID0gW3tcImlkXCI6XCJjaF9jcmVhdGVkX2F0XCJ9LHtcImNsYXNzXCI6XCJjaC1jcmVhdGVkLWF0XCJ9XTtcblx0XHR0aGlzLnV0aWxpdHkuY3JlYXRlRWxlbWVudChcImRpdlwiLCBjcmVhdGVkQXRBdHRyaWJ1dGVzLCBjb252ZXJzYXRpb24ubGFzdE1lc3NhZ2VUaW1lLCBuZXdDb252bGlzdCk7XG5cblx0XHQvLyBDcmVhdGUgbGFzdCBtZXNzYWdlIGJveFxuXHRcdGxldCBsYXN0TXNnQm94QXR0cmlidXRlcyA9IFt7XCJpZFwiOlwiY2hfbGFzdF9tc2dfYm94XCJ9LHtcImNsYXNzXCI6XCJjaC1sYXN0LW1zZy1ib3hcIn1dO1xuXHRcdGxldCBsYXN0TXNnQm94ID0gdGhpcy51dGlsaXR5LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbGFzdE1zZ0JveEF0dHJpYnV0ZXMsIG51bGwsIG5ld0NvbnZsaXN0KTtcblxuXHRcdGlmKGNvbnZlcnNhdGlvbi5sYXN0TWVzc2FnZUljb24pIHtcblx0XHRcdC8vIENyZWF0ZSBsYXN0IG1lc3NhZ2UgaWNvblxuXHRcdFx0bGV0IG1zZ0ljb25BdHRyaWJ1dGVzID0gW3tcImlkXCI6XCJjaF9tc2dfdHlwZV9pY29uXCJ9LHtcImNsYXNzXCI6XCJjaC1tc2ctdHlwZS1pY29uXCJ9LHtcInNyY1wiOmNvbnZlcnNhdGlvbi5sYXN0TWVzc2FnZUljb259XTtcblx0XHRcdHRoaXMudXRpbGl0eS5jcmVhdGVFbGVtZW50KFwiaW1nXCIsIG1zZ0ljb25BdHRyaWJ1dGVzLCBudWxsLCBsYXN0TXNnQm94KTtcblx0XHR9XG5cblx0XHQvLyBDcmVhdGUgbGFzdCBtZXNzYWdlXG5cdFx0bGV0IGxhc3RNc2dBdHRyaWJ1dGVzID0gW3tcImlkXCI6XCJjaF9tc2dfXCIrY29udmVyc2F0aW9uLmxhc3RNZXNzYWdlSWR9LCB7XCJjbGFzc1wiOlwiY2gtbGFzdC1tZXNzYWdlXCJ9XTtcblx0XHR0aGlzLnV0aWxpdHkuY3JlYXRlRWxlbWVudChcImRpdlwiLCBsYXN0TXNnQXR0cmlidXRlcywgY29udmVyc2F0aW9uLmxhc3RNZXNzYWdlQm9keSwgbGFzdE1zZ0JveCk7XG5cdH1cblxuXHRyZW1vdmVDb252ZXJzYXRpb25MaXN0KGlkKSB7XG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpLnJlbW92ZSgpO1xuXHR9XG5cblx0X2xvYWRNb3JlQ29udmVyc2F0aW9ucygpIHtcblx0XHQrK3RoaXMubG9hZENvdW50O1xuXHRcdHRoaXMuc2tpcCA9IHRoaXMubG9hZENvdW50ICogdGhpcy5saW1pdDtcblx0XHR0aGlzLmNoQWRhcHRlci5nZXRDb252ZXJzYXRpb25zTGlzdCh0aGlzLmxpbWl0LCB0aGlzLnNraXAsIG51bGwsIFwibWVtYmVyc1wiLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCAoZXJyLCBjb252ZXJzYXRpb25zKSA9PiB7XG5cdFx0XHRpZihlcnIpIHJldHVybiBjb25zb2xlLmVycm9yKGVycik7XG5cblx0XHRcdHRoaXMuX2NyZWF0ZUNvbnZlcnNhdGlvbkxpc3RpbmcoY29udmVyc2F0aW9ucyk7XG5cdFx0XHR0aGlzLmNvbnZlcnNhdGlvbnMgPSB0aGlzLmNvbnZlcnNhdGlvbnMuY29uY2F0KGNvbnZlcnNhdGlvbnMpO1xuXHRcdH0pO1xuXHR9XG5cblx0X3JlZ2lzdGVyQ2xpY2tFdmVudEhhbmRsZXJzKCkge1xuXHRcdC8vIFNlYXJjaCBidXR0b24gbGlzdGVuZXJcblx0XHRsZXQgc2VhcmNoQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaF9zZWFyY2hcIik7XG5cdFx0c2VhcmNoQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZGF0YSkgPT4ge1xuXHRcdFx0bGV0IHNlYXJjaFdpbmRvdyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hfc2VhcmNoX3dpbmRvd1wiKTtcblx0XHRcdGlmKCFzZWFyY2hXaW5kb3cpIHtcblx0XHRcdFx0bmV3IFNlYXJjaCh0aGlzLndpZGdldCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHQvLyBMb2dvdXQgYnV0dG9uIGxpc3RlbmVyXG5cdFx0bGV0IGxvZ291dEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hfbG9nb3V0XCIpO1xuXHRcdGxvZ291dEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGRhdGEpID0+IHtcblx0XHRcdC8vIFNob3cgbG9hZGVyXG5cdFx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoX3JlY2VudF9sb2FkZXJfY29udGFpbmVyXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG5cblx0XHRcdC8vIERpc2Nvbm5lY3QgZnJvbSBjaGFubmVsaXplIHNlcnZlclxuXHRcdFx0dGhpcy5jaEFkYXB0ZXIuZGlzY29ubmVjdChcIlwiLCAoZXJyLCByZXMpID0+IHtcblx0XHRcdFx0aWYoZXJyKSByZXR1cm4gY29uc29sZS5lcnJvcihlcnIpO1xuXG5cdFx0XHRcdC8vIERlbGV0ZSBjb29raWVzXG5cdFx0XHRcdHRoaXMud2lkZ2V0LnNldENvb2tpZShcImNoX3VzZXJfaWRcIiwgXCJcIiwgLTEpO1xuXHRcdFx0XHR0aGlzLndpZGdldC5zZXRDb29raWUoXCJjaF9hY2Nlc3NfdG9rZW5cIiwgXCJcIiwgLTEpO1xuXG5cdFx0XHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hfcmVjZW50X3dpbmRvd1wiKS5yZW1vdmUoKTtcblx0XHRcdFx0aWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaF9jb252X3dpbmRvd1wiKSlcblx0XHRcdFx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoX2NvbnZfd2luZG93XCIpLnJlbW92ZSgpO1xuXG5cdFx0XHRcdHRoaXMud2lkZ2V0LnJlY2VudENvbnZlcnNhdGlvbnMgPSBudWxsO1xuXHRcdFx0XHR0aGlzLndpZGdldC5jb252V2luZG93cyA9IFtdO1xuXHRcdFx0XHQvLyBJbnZva2UgbG9naW4gc2NyZWVuXG5cdFx0XHRcdG5ldyBMb2dpbih0aGlzLndpZGdldCk7XG5cdFx0XHR9KTtcblx0XHR9KTtcblxuXHRcdC8vIEFkZCBtaW5pbWl6ZSBidXR0b24gbGlzdGVuZXJcblx0XHRsZXQgbWluaW1pemVCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoX21pbmltaXplX2J0blwiKTtcblx0XHRpZighbWluaW1pemVCdG4pXG5cdFx0XHRyZXR1cm47XG5cblx0XHRtaW5pbWl6ZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGRhdGEpID0+IHtcblx0XHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hfcmVjZW50X3dpbmRvd1wiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG5cdFx0fSk7XG5cblx0XHQvLyBMb2FkIG1vcmUgY29udmVyc2F0aW9uIG9uIHNjcm9sbFxuXHRcdGxldCBjb252TGlzdGluZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hfcmVjZW50X2xpc3RpbmdcIik7XG5cblx0XHRjb252TGlzdGluZy5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIChkYXRhKSA9PiB7XG5cdFx0XHRpZihjb252TGlzdGluZy5zY3JvbGxUb3AgPj0gKGNvbnZMaXN0aW5nLnNjcm9sbEhlaWdodCAtIGNvbnZMaXN0aW5nLmNsaWVudEhlaWdodCkpIHtcblx0XHRcdFx0dGhpcy5fbG9hZE1vcmVDb252ZXJzYXRpb25zKCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXHRoYW5kbGVCbG9jayhkYXRhKSB7XG5cdFx0dGhpcy5jb252ZXJzYXRpb25zLmZvckVhY2goY29udmVyc2F0aW9uID0+IHtcblx0XHRcdGlmKGNvbnZlcnNhdGlvbi5pc0dyb3VwKVxuXHRcdFx0XHRyZXR1cm47XG5cblx0XHRcdGlmKGNvbnZlcnNhdGlvbi51c2VyLmlkID09IGRhdGEuYmxvY2tlci5pZCkge1xuXHRcdFx0XHRjb252ZXJzYXRpb24uYmxvY2tlZEJ5TWVtYmVyID0gdHJ1ZTtcblx0XHRcdH1cblx0XHRcdGVsc2UgaWYoY29udmVyc2F0aW9uLnVzZXIuaWQgPT0gZGF0YS5ibG9ja2VlLmlkKSB7XG5cdFx0XHRcdGNvbnZlcnNhdGlvbi5ibG9ja2VkQnlVc2VyID0gdHJ1ZTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdGxldCBvbmxpbmVJY29uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZGF0YS5ibG9ja2VlLmlkK1wiX29ubGluZV9pY29uXCIpO1xuXHRcdGlmKG9ubGluZUljb24pIHtcblx0XHRcdG9ubGluZUljb24uY2xhc3NMaXN0LmFkZChcImNoLXVzZXItYmxvY2tlZFwiKTtcblx0XHR9XG5cdH1cblxuXHRoYW5kbGVVbmJsb2NrKGRhdGEpIHtcblx0XHR0aGlzLmNvbnZlcnNhdGlvbnMuZm9yRWFjaChjb252ZXJzYXRpb24gPT4ge1xuXHRcdFx0aWYoY29udmVyc2F0aW9uLmlzR3JvdXApXG5cdFx0XHRcdHJldHVybjtcblxuXHRcdFx0aWYoY29udmVyc2F0aW9uLnVzZXIuaWQgPT0gZGF0YS51bmJsb2NrZXIuaWQpIHtcblx0XHRcdFx0Y29udmVyc2F0aW9uLmJsb2NrZWRCeU1lbWJlciA9IGZhbHNlO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSBpZihjb252ZXJzYXRpb24udXNlci5pZCA9PSBkYXRhLnVuYmxvY2tlZS5pZCkge1xuXHRcdFx0XHRjb252ZXJzYXRpb24uYmxvY2tlZEJ5VXNlciA9IGZhbHNlO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0bGV0IG9ubGluZUljb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChkYXRhLnVuYmxvY2tlZS5pZCtcIl9vbmxpbmVfaWNvblwiKTtcblx0XHRpZihvbmxpbmVJY29uKSB7XG5cdFx0XHRvbmxpbmVJY29uLmNsYXNzTGlzdC5yZW1vdmUoXCJjaC11c2VyLWJsb2NrZWRcIik7XG5cdFx0fVxuXHR9XG59XG5cbmV4cG9ydCB7IFJlY2VudENvbnZlcnNhdGlvbnMgYXMgZGVmYXVsdCB9OyIsImltcG9ydCBVdGlsaXR5IGZyb20gXCIuLi91dGlsaXR5LmpzXCI7XG5pbXBvcnQgUmVjZW50Q29udmVyc2F0aW9ucyBmcm9tIFwiLi9yZWNlbnQtY29udmVyc2F0aW9ucy5qc1wiO1xuaW1wb3J0IHsgTEFOR1VBR0VfUEhSQVNFUywgSU1BR0VTIH0gZnJvbSBcIi4uL2NvbnN0YW50cy5qc1wiO1xuXG5jbGFzcyBMb2dpbiB7XG5cdGNvbnN0cnVjdG9yKHdpZGdldCkge1xuXHRcdC8vIEluaXRpYWxpemUgZGVwZW5kZW5jaWVzXG5cdFx0dGhpcy5jaEFkYXB0ZXIgPSB3aWRnZXQuY2hBZGFwdGVyO1xuXHRcdHRoaXMudXRpbGl0eSA9IG5ldyBVdGlsaXR5KCk7XG5cdFx0dGhpcy53aWRnZXQgPSB3aWRnZXQ7XG5cblx0XHR0aGlzLl9jcmVhdGVMb2dpbldpbmRvdygpO1xuXHRcdHRoaXMuX3JlZ2lzdGVyQ2xpY2tFdmVudEhhbmRsZXJzKCk7XG5cdH1cblxuXHRfY3JlYXRlTG9naW5XaW5kb3coKSB7XG5cdFx0Ly8gQ3JlYXRlIExvZ2luIHdpbmRvd1xuXHRcdGxldCB3aWRnZXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoX2ZyYW1lXCIpO1xuXHRcdGxldCBsb2dpbldpbmRvd0F0dHJpYnV0ZXMgPSBbe1wiaWRcIjogXCJjaF9sb2dpbl93aW5kb3dcIn0se1wiY2xhc3NcIjpcImNoLWxvZ2luLXdpbmRvd1wifV07XG5cdFx0bGV0IGxvZ2luV2luZG93ID0gdGhpcy51dGlsaXR5LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbG9naW5XaW5kb3dBdHRyaWJ1dGVzLCBudWxsLCB3aWRnZXQpO1xuXG5cdFx0Ly8gQ3JlYXRlIGxvZ2luIGhlYWRlclxuXHRcdGxldCBsb2dpbkhlYWRlckF0dHJpYnV0ZXMgPSBbe1wiaWRcIjpcImNoX2xvZ2luX2hlYWRlclwifSx7XCJjbGFzc1wiOlwiY2gtaGVhZGVyXCJ9XTtcblx0XHRsZXQgbG9naW5IZWFkZXIgPSB0aGlzLnV0aWxpdHkuY3JlYXRlRWxlbWVudChcImRpdlwiLCBsb2dpbkhlYWRlckF0dHJpYnV0ZXMsIExBTkdVQUdFX1BIUkFTRVMuTE9HSU4sIGxvZ2luV2luZG93KTtcblxuXHRcdC8vIENyZWF0ZSBsb2FkZXIgY29udGFpbmVyXG5cdFx0bGV0IGxvYWRlckNvbnRhaW5lckF0dHJpYnV0ZXMgPSBbe1wiaWRcIjpcImNoX2xvZ2luX2xvYWRlcl9jb250YWluZXJcIn0se1wiY2xhc3NcIjpcImNoLWxvYWRlci1iZ1wifV07XG5cdFx0bGV0IGxvYWRlckNvbnRhaW5lciA9IHRoaXMudXRpbGl0eS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIGxvYWRlckNvbnRhaW5lckF0dHJpYnV0ZXMsIG51bGwsIGxvZ2luV2luZG93KTtcblxuXHRcdC8vIENyZWF0ZSBsb2FkZXJcblx0XHRsZXQgbG9hZGVyQXR0cmlidXRlcyA9IFt7XCJpZFwiOlwiY2hfbG9naW5fbG9hZGVyXCJ9LHtcImNsYXNzXCI6XCJjaC1sb2FkZXJcIn1dO1xuXHRcdHRoaXMudXRpbGl0eS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIGxvYWRlckF0dHJpYnV0ZXMsIG51bGwsIGxvYWRlckNvbnRhaW5lcik7XG5cblx0XHQvLyBDcmVhdGUgY2xvc2UgYnV0dG9uXG5cdFx0bGV0IGNsb3NlQnRuQXR0cmlidXRlcyA9IFt7XCJpZFwiOlwiY2hfbG9naW5fY2xvc2VfYnRuXCJ9XTtcblx0XHRsZXQgY2xvc2VCdG4gPSB0aGlzLnV0aWxpdHkuY3JlYXRlRWxlbWVudChcImlcIiwgY2xvc2VCdG5BdHRyaWJ1dGVzLCBcImNsb3NlXCIsIGxvZ2luSGVhZGVyKTtcblx0XHRjbG9zZUJ0bi5jbGFzc0xpc3QuYWRkKFwibWF0ZXJpYWwtaWNvbnNcIiwgXCJjaC1sb2dpbi1jbG9zZS1idG5cIik7XG5cblx0XHQvLyBDcmVhdGUgbG9naW4gdXNlciBuYW1lIGNvbnRhaW5lclxuXHRcdGxldCBsb2dpbk5hbWVDb250YWluZXJBdHRyaWJ1dGVzID0gW3tcImlkXCI6XCJjaF9sb2dpbl9uYW1lX2NvbnRhaW5lclwifSx7XCJjbGFzc1wiOlwiY2gtbG9naW4tbmFtZS1jb250YWluZXJcIn1dO1xuXHRcdGxldCBsb2dpbk5hbWVDb250YWluZXIgPSB0aGlzLnV0aWxpdHkuY3JlYXRlRWxlbWVudChcImRpdlwiLCBsb2dpbk5hbWVDb250YWluZXJBdHRyaWJ1dGVzLCBudWxsLCBsb2dpbldpbmRvdyk7XG5cblx0XHQvLyBDcmVhdGUgbmFtZSBkaXZcblx0XHRsZXQgbG9naW5OYW1lQXR0cmlidXRlcyA9IFt7XCJpZFwiOlwiY2hfbG9naW5fbmFtZVwifSx7XCJjbGFzc1wiOlwiY2gtbG9naW4tbmFtZVwifV07XG5cdFx0dGhpcy51dGlsaXR5LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbG9naW5OYW1lQXR0cmlidXRlcywgTEFOR1VBR0VfUEhSQVNFUy5OQU1FLCBsb2dpbk5hbWVDb250YWluZXIpO1xuXG5cdFx0Ly8gQ3JlYXRlIGlucHV0IGRpdlxuXHRcdGxldCBsb2dpbk5hbWVJbnB1dEF0dHJpYnV0ZXMgPSBbe1wiaWRcIjpcImNoX2xvZ2luX25hbWVfaW5wdXRcIn0se1wiY2xhc3NcIjpcImNoLWxvZ2luLW5hbWUtaW5wdXRcIn0se1widHlwZVwiOlwidGV4dFwifSx7XCJwbGFjZWhvbGRlclwiOlwiRW50ZXIgYSBuYW1lXCJ9XTtcblx0XHR0aGlzLnV0aWxpdHkuY3JlYXRlRWxlbWVudChcImlucHV0XCIsIGxvZ2luTmFtZUlucHV0QXR0cmlidXRlcywgbnVsbCwgbG9naW5OYW1lQ29udGFpbmVyKTtcblxuXHRcdC8vIENyZWF0ZSBlcnJvciBkaXZcblx0XHRsZXQgZXJyb3JEaXZBdHRyaWJ1dGVzID0gW3tcImlkXCI6XCJjaF9sb2dpbl9lcnJvclwifSx7XCJjbGFzc1wiOlwiY2gtbG9naW4tZXJyb3JcIn1dO1xuXHRcdHRoaXMudXRpbGl0eS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIGVycm9yRGl2QXR0cmlidXRlcywgbnVsbCwgbG9naW5OYW1lQ29udGFpbmVyKTtcblxuXHRcdC8vIENyZWF0ZSBkdW1teSB1c2VycyBsaXN0IGZvciBsb2dpblxuXHRcdHRoaXMuX2NyZWF0ZUR1bW15VXNlcnNDb250YWluZXIobG9naW5XaW5kb3cpO1xuXG5cdFx0Ly8gQ3JlYXRlIExvZ2luIGJ1dHRvblxuXHRcdGxldCBsb2dpbkJ0bkF0dHJpYnV0ZXMgPSBbe1wiaWRcIjpcImNoX2xvZ2luX2J0blwifSx7XCJjbGFzc1wiOlwiY2gtbG9naW4tYnRuXCJ9XTtcblx0XHR0aGlzLnV0aWxpdHkuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCBsb2dpbkJ0bkF0dHJpYnV0ZXMsIExBTkdVQUdFX1BIUkFTRVMuU1RBUlQsIGxvZ2luV2luZG93KTtcblx0fVxuXG5cdF9jcmVhdGVEdW1teVVzZXJzQ29udGFpbmVyKHBhcmVudCkge1xuXHRcdC8vIENyZWF0ZSBkdW1teSB1c2VycyBjb250YWluZXJcblx0XHRsZXQgZHVtbXlDb250YWluZXJBdHRyaWJ1dGVzID0gW3tcImlkXCI6XCJjaF9kdW1teV9jb250YWluZXJcIn0se1wiY2xhc3NcIjpcImNoLWR1bW15LWNvbnRhaW5lclwifV07XG5cdFx0bGV0IGR1bW15Q29udGFpbmVyID0gdGhpcy51dGlsaXR5LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgZHVtbXlDb250YWluZXJBdHRyaWJ1dGVzLCBudWxsLCBwYXJlbnQpO1xuXG5cdFx0Ly8gQ3JlYXRlIGR1bW15IGNvbnRhaW5lciB0ZXh0XG5cdFx0bGV0IGNvbnRhaW5lclRleHRBdHRyaWJ1dGVzID0gW3tcImNsYXNzXCI6XCJjaF9jb250YWluZXJfdGV4dFwifSx7XCJjbGFzc1wiOlwiY2gtY29udGFpbmVyLXRleHRcIn1dO1xuXHRcdHRoaXMudXRpbGl0eS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIGNvbnRhaW5lclRleHRBdHRyaWJ1dGVzLCBMQU5HVUFHRV9QSFJBU0VTLkxPR0lOX1dJVEhfVEVTVF9VU0VSUywgZHVtbXlDb250YWluZXIpO1xuXG5cdFx0Ly8gQ3JlYXRlIGR1bW15IHVzZXIgbnVtYmVyIDEgYW5kIGl0cyBsaXN0ZW5lclxuXHRcdGxldCBkdW1teVVzZXIxQXR0cmlidXRlcyA9IFt7XCJpZFwiOlwiY2hfZHVtbXlfdXNlcjFcIn0se1wiY2xhc3NcIjpcImNoLWR1bW15LWltZ1wifSx7XCJ0aXRsZVwiOlwiQW5uYSBTbWl0aFwifSx7XCJzcmNcIjpJTUFHRVMuQU5OQV9TTUlUSH1dO1xuXHRcdGxldCB1c2VyMSA9IHRoaXMudXRpbGl0eS5jcmVhdGVFbGVtZW50KFwiaW1nXCIsIGR1bW15VXNlcjFBdHRyaWJ1dGVzLCBudWxsLCBkdW1teUNvbnRhaW5lcik7XG5cblx0XHR1c2VyMS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGRhdGEpID0+IHtcblx0XHRcdGNvbnN0IGVtYWlsID0gXCJ0ZXN0MUBzZWFkZG9ucy5jb21cIjtcblx0XHRcdGNvbnN0IHBhc3N3b3JkID0gXCIxMjM0NTZcIjtcblx0XHRcdHRoaXMuX2xvZ2luVXNlcihlbWFpbCwgcGFzc3dvcmQsIHRydWUpO1xuXHRcdH0pO1xuXG5cdFx0Ly8gQ3JlYXRlIGR1bW15IHVzZXIgbnVtYmVyIDJcblx0XHRsZXQgZHVtbXlVc2VyMkF0dHJpYnV0ZXMgPSBbe1wiaWRcIjpcImNoX2R1bW15X3VzZXIyXCJ9LHtcImNsYXNzXCI6XCJjaC1kdW1teS1pbWdcIn0se1widGl0bGVcIjpcIkthdHJpbmEgQ2hhcmxlXCJ9LHtcInNyY1wiOklNQUdFUy5LQVRSSU5BX0NIQVJMRVl9XTtcblx0XHRsZXQgdXNlcjIgPSB0aGlzLnV0aWxpdHkuY3JlYXRlRWxlbWVudChcImltZ1wiLCBkdW1teVVzZXIyQXR0cmlidXRlcywgbnVsbCwgZHVtbXlDb250YWluZXIpO1xuXG5cdFx0dXNlcjIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChkYXRhKSA9PiB7XG5cdFx0XHRjb25zdCBlbWFpbCA9IFwidGVzdDJAc2VhZGRvbnMuY29tXCI7XG5cdFx0XHRjb25zdCBwYXNzd29yZCA9IFwiMTIzNDU2XCI7XG5cdFx0XHR0aGlzLl9sb2dpblVzZXIoZW1haWwsIHBhc3N3b3JkLCB0cnVlKTtcblx0XHR9KTtcblxuXHRcdC8vIENyZWF0ZSBkdW1teSB1c2VyIG51bWJlciAzXG5cdFx0bGV0IGR1bW15VXNlcjNBdHRyaWJ1dGVzID0gW3tcImlkXCI6XCJjaF9kdW1teV91c2VyM1wifSx7XCJjbGFzc1wiOlwiY2gtZHVtbXktaW1nXCJ9LHtcInRpdGxlXCI6XCJOYXRhbGllIEl2YW5vdmljXCJ9LHtcInNyY1wiOklNQUdFUy5OQVRBTElFX0lWQU5PVklDfV07XG5cdFx0bGV0IHVzZXIzID0gdGhpcy51dGlsaXR5LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIiwgZHVtbXlVc2VyM0F0dHJpYnV0ZXMsIG51bGwsIGR1bW15Q29udGFpbmVyKTtcblxuXHRcdHVzZXIzLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZGF0YSkgPT4ge1xuXHRcdFx0Y29uc3QgZW1haWwgPSBcInRlc3RAY2hhbm5lbGl6ZS5pb1wiO1xuXHRcdFx0Y29uc3QgcGFzc3dvcmQgPSBcIlRlc3RAMTIzNDU2XCI7XG5cdFx0XHR0aGlzLl9sb2dpblVzZXIoZW1haWwsIHBhc3N3b3JkLCB0cnVlKTtcblx0XHR9KTtcblxuXHRcdC8vIENyZWF0ZSBkdW1teSB1c2VyIG51bWJlciA0XG5cdFx0bGV0IGR1bW15VXNlcjRBdHRyaWJ1dGVzID0gW3tcImlkXCI6XCJjaF9kdW1teV91c2VyNFwifSx7XCJjbGFzc1wiOlwiY2gtZHVtbXktaW1nXCJ9LHtcInRpdGxlXCI6XCJFcmljIEFuZHJld3NcIn0se1wic3JjXCI6SU1BR0VTLkVSSUNfQU5EUkVXU31dO1xuXHRcdGxldCB1c2VyNCA9IHRoaXMudXRpbGl0eS5jcmVhdGVFbGVtZW50KFwiaW1nXCIsIGR1bW15VXNlcjRBdHRyaWJ1dGVzLCBudWxsLCBkdW1teUNvbnRhaW5lcik7XG5cblx0XHR1c2VyNC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGRhdGEpID0+IHtcblx0XHRcdGNvbnN0IGVtYWlsID0gXCJoZXlsZXlAY2hhbm5lbGl6ZS5pb1wiO1xuXHRcdFx0Y29uc3QgcGFzc3dvcmQgPSBcIlRlc3RAMTIzNDU2XCI7XG5cdFx0XHR0aGlzLl9sb2dpblVzZXIoZW1haWwsIHBhc3N3b3JkLCB0cnVlKTtcblx0XHR9KTtcblx0fVxuXG5cdF9jcmVhdGVVc2VyKCkge1xuXHRcdGxldCBuYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaF9sb2dpbl9uYW1lX2lucHV0XCIpLnZhbHVlO1xuXHRcdGxldCBlcnJvckRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hfbG9naW5fZXJyb3JcIik7XG5cdFx0ZXJyb3JEaXYuaW5uZXJUZXh0ID0gXCJcIjtcblxuXHRcdGlmKCFuYW1lLnRyaW0oKSkge1xuXHRcdFx0ZXJyb3JEaXYuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcblx0XHRcdGVycm9yRGl2LmlubmVyVGV4dCA9ICBMQU5HVUFHRV9QSFJBU0VTLkVOVEVSX05BTUU7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaF9sb2dpbl9sb2FkZXJfY29udGFpbmVyXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG5cblx0XHR2YXIgZW1haWwgPSBuYW1lLnJlcGxhY2UoL1xccy9nLCAnJykudG9Mb3dlckNhc2UoKSArIFwiQGNoYW5uZWxpemUuaW9cIjtcblx0XHRjb25zdCBwYXNzd29yZCA9IFwiMTIzNDU2XCI7XG5cblx0XHQvLyBDcmVhdGUgYSBuZXcgdXNlclxuXHRcdHRoaXMuY2hBZGFwdGVyLmNyZWF0ZVVzZXIobmFtZSwgZW1haWwsIHBhc3N3b3JkLCAoZXJyLCB1c2VyKSA9PiB7XG5cdFx0XHRpZihlcnIpIHtcblx0XHRcdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaF9sb2dpbl9sb2FkZXJfY29udGFpbmVyXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcblx0XHRcdFx0ZXJyb3JEaXYuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcblx0XHRcdFx0ZXJyb3JEaXYuaW5uZXJUZXh0ID0gIExBTkdVQUdFX1BIUkFTRVMuVVNFUl9FWElTVDtcblx0XHRcdFx0Y29uc29sZS5lcnJvcihlcnIpO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuX2xvZ2luVXNlcihlbWFpbCwgcGFzc3dvcmQsIGZhbHNlKTtcblx0XHR9KTtcblx0fVxuXG5cdF9sb2dpblVzZXIoZW1haWwsIHBhc3N3b3JkLCBpc0R1bW15VXNlciA9IG51bGwpIHtcblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoX2xvZ2luX2xvYWRlcl9jb250YWluZXJcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcblx0XHQvLyBMb2dpbiB1c2VyXG5cdFx0dGhpcy5jaEFkYXB0ZXIubG9naW5XaXRoRW1haWwoZW1haWwsIHBhc3N3b3JkLCAoZXJyLCByZXMpID0+IHtcblx0XHRcdGlmKGVycikgY29uc29sZS5lcnJvcihlcnIpO1xuXG5cdFx0XHRjb25zdCB1c2VySWQgPSB0aGlzLndpZGdldC51c2VySWQgPSAgcmVzLnVzZXIuaWQ7XG5cdFx0XHRjb25zdCBhY2Nlc3NUb2tlbiA9IHJlcy5pZDtcblx0XHRcdC8vIENvbm5lY3QgdG8gQ2hhbm5lbGl6ZSBTZXJ2ZXJcblx0XHRcdHRoaXMud2lkZ2V0LmNvbm5lY3QodXNlcklkLCBhY2Nlc3NUb2tlbiwgKGVycixyZXMpID0+IHtcblx0XHRcdFx0aWYoZXJyKSBjb25zb2xlLmVycm9yKGVycik7XG5cblx0XHRcdFx0Ly8gU2V0IGNvb2tpZXNcblx0XHRcdFx0dGhpcy53aWRnZXQuc2V0Q29va2llKHVzZXJJZCwgYWNjZXNzVG9rZW4sIDMwKTtcblxuXHRcdFx0XHRpZihpc0R1bW15VXNlcikge1xuXHRcdFx0XHRcdC8vIE9wZW4gcmVjZW50IGNvbnZlcnNhdGlvbiB3aW5kb3dcblx0XHRcdFx0XHRuZXcgUmVjZW50Q29udmVyc2F0aW9ucyh0aGlzLndpZGdldCk7XG5cblx0XHRcdFx0XHQvLyBDbG9zZSBsb2dpbiB3aW5kb3dcblx0XHRcdFx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoX2xvZ2luX3dpbmRvd1wiKS5yZW1vdmUoKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRuZXcgUmVjZW50Q29udmVyc2F0aW9ucyh0aGlzLndpZGdldCk7XG5cdFx0XHRcdFx0Ly8gQWRkIGNoYW5uZWxpemUuaW8gdGVhbSBhcyBhIGZyaWVuZFxuXHRcdFx0XHRcdC8vIGNvbnN0IGNoYW5uZWxpemVUZWFtSWQgPSBcIjE2ZDMxNzcwLTg4NDMtMTFlOS04OGZkLTMzY2IyMWNmMzljZFwiOyAvLyBDaGFubmVsaXplLmlvIGFjY291bnQgSURcblxuXHRcdFx0XHRcdC8vIHRoaXMuY2hBZGFwdGVyLmFkZEZyaWVuZChjaGFubmVsaXplVGVhbUlkLCAyLCAoZXJyLCByZXMpID0+IHtcblx0XHRcdFx0XHQvLyBcdGlmKGVycikgcmV0dXJuIGNvbnNvbGUuZXJyb3IoZXJyKTtcblxuXHRcdFx0XHRcdC8vIFx0Ly8gT3BlbiByZWNlbnQgY29udmVyc2F0aW9uIHdpbmRvd1xuXHRcdFx0XHRcdC8vIFx0bmV3IFJlY2VudENvbnZlcnNhdGlvbnModGhpcy53aWRnZXQpO1xuXHRcdFx0XHRcdC8vIH0pO1xuXG5cdFx0XHRcdFx0Ly8gQ2xvc2UgbG9naW4gd2luZG93XG5cdFx0XHRcdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaF9sb2dpbl93aW5kb3dcIikucmVtb3ZlKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9XG5cblx0X3JlZ2lzdGVyQ2xpY2tFdmVudEhhbmRsZXJzKCkge1xuXHRcdC8vIExvZ2luIGJ1dHRvbiBsaXN0ZW5lclxuXHRcdGxldCBsb2dpbkJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hfbG9naW5fYnRuXCIpO1xuXHRcdGxvZ2luQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBkYXRhID0+IHtcblx0XHRcdHRoaXMuX2NyZWF0ZVVzZXIoKTtcblx0XHR9KTtcblxuXHRcdC8vIENsb3NlIGJ1dHRvbiBsaXN0ZW5lclxuXHRcdGxldCBjbG9zZUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hfbG9naW5fY2xvc2VfYnRuXCIpO1xuXHRcdGNsb3NlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBkYXRhID0+IHtcblx0XHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hfbG9naW5fd2luZG93XCIpLnJlbW92ZSgpO1xuXHRcdH0pO1xuXHR9XG59XG5cbmV4cG9ydCB7IExvZ2luIGFzIGRlZmF1bHQgfTsiLCJpbXBvcnQgJy4uL3Njc3MvbWFpbi5zY3NzJztcbmltcG9ydCBDaGFubmVsaXplQWRhcHRlciBmcm9tIFwiLi9hZGFwdGVyLmpzXCI7XG5pbXBvcnQgVXRpbGl0eSBmcm9tIFwiLi91dGlsaXR5LmpzXCI7XG5pbXBvcnQgTG9naW4gZnJvbSBcIi4vY29tcG9uZW50cy9sb2dpbi5qc1wiO1xuaW1wb3J0IFJlY2VudENvbnZlcnNhdGlvbnMgZnJvbSBcIi4vY29tcG9uZW50cy9yZWNlbnQtY29udmVyc2F0aW9ucy5qc1wiO1xuaW1wb3J0IENvbnZlcnNhdGlvbldpbmRvdyBmcm9tIFwiLi9jb21wb25lbnRzL2NvbnZlcnNhdGlvbi13aW5kb3cuanNcIjtcbmltcG9ydCB7IExBTkdVQUdFX1BIUkFTRVMsIElNQUdFUyB9IGZyb20gXCIuL2NvbnN0YW50cy5qc1wiO1xuXG5jbGFzcyBDaGFubmVsaXplV2lkZ2V0IHtcblx0Y29uc3RydWN0b3IocHVibGljS2V5KSB7XG5cdFx0dGhpcy51dGlsaXR5ID0gbmV3IFV0aWxpdHkoKTtcblx0XHR0aGlzLl9pbml0KHB1YmxpY0tleSk7XG5cdH1cblxuXHQvLyBJbml0aWFsaXplIHRoZSBtYWluIGNvbnRlbnRzXG5cdF9pbml0KHB1YmxpY0tleSkge1xuXHRcdC8vIENyZWF0ZSBzY3JpcHQgdGFnIGZvciBtYXRlcmlhbCBpY29uc1xuXHRcdGxldCBtYXRlcmlhbFNjcmlwdEF0dHJpYnV0ZXMgPSBbe1wiaHJlZlwiOlwiaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9pY29uP2ZhbWlseT1NYXRlcmlhbCtJY29uc1wifSx7XCJyZWxcIjpcInN0eWxlc2hlZXRcIn1dO1xuXHRcdHRoaXMudXRpbGl0eS5jcmVhdGVFbGVtZW50KFwibGlua1wiLCBtYXRlcmlhbFNjcmlwdEF0dHJpYnV0ZXMsIG51bGwsIGRvY3VtZW50LmhlYWQpO1xuXG5cdFx0Ly8gSW5pdGlhbGl6ZSBDaGFubmVsaXplIEFkYXB0ZXJcblx0XHR0aGlzLmNoQWRhcHRlciA9IG5ldyBDaGFubmVsaXplQWRhcHRlcihwdWJsaWNLZXkpO1xuXHRcdHRoaXMuY29udldpbmRvd3MgPSBbXTtcblx0fVxuXG5cdC8vIExvYWQgY2hhbm5lbGl6ZVxuXHRsb2FkKCkge1xuXHRcdC8vIENoZWNrIGZvciBhbHJlYWR5IGxvZ2luIHVzZXJcblx0XHRsZXQgdXNlcklkID0gdGhpcy5nZXRDb29raWUoXCJjaF91c2VyX2lkXCIpO1xuXHRcdGxldCBhY2Nlc3NUb2tlbiA9IHRoaXMuZ2V0Q29va2llKFwiY2hfYWNjZXNzX3Rva2VuXCIpO1xuXG5cdFx0aWYodXNlcklkICYmIGFjY2Vzc1Rva2VuKSB7XG5cdFx0XHR0aGlzLmNvbm5lY3QodXNlcklkLCBhY2Nlc3NUb2tlbiwgKGVyciwgcmVzKSA9PiB7XG5cdFx0XHRcdGlmKGVycikgcmV0dXJuIGNvbnNvbGUuZXJyb3IoZXJyKTtcblxuXHRcdFx0XHR0aGlzLnVzZXJJZCA9IHVzZXJJZDtcblx0XHRcdFx0dGhpcy5fY3JlYXRlTGF1bmNoZXIoKTtcblx0XHRcdH0pO1xuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdHRoaXMuX2NyZWF0ZUxhdW5jaGVyKCk7XG5cdFx0fVxuXHR9XG5cblx0Y29ubmVjdCh1c2VySWQsIGFjY2Vzc1Rva2VuLCBjYikge1xuXHQgIFx0dGhpcy5jaEFkYXB0ZXIuY29ubmVjdCh1c2VySWQsIGFjY2Vzc1Rva2VuLCAoZXJyLCByZXMpID0+IHtcblx0XHRcdGlmKGVycikgcmV0dXJuIGNiKGVycik7XG5cblx0XHRcdHRoaXMuX3JlZ2lzdGVyQ2hFdmVudEhhbmRsZXJzKCk7XG5cdFx0XHRyZXR1cm4gY2IobnVsbCwgcmVzKTtcblx0XHR9KTtcblx0fVxuXG5cdC8vIENvbm5lY3QgYW5kIGxvYWQgY2hhbm5lbGl6ZVxuXHRsb2FkV2l0aFVzZXJJZCh1c2VySWQsIGFjY2Vzc1Rva2VuKSB7XG5cdFx0dGhpcy5jb25uZWN0KHVzZXJJZCwgYWNjZXNzVG9rZW4sIChlcnIsIHJlcykgPT4ge1xuXHRcdFx0aWYoZXJyKSByZXR1cm4gY29uc29sZS5lcnJvcihlcnIpO1xuXG5cdFx0XHR0aGlzLnVzZXJJZCA9IHVzZXJJZDtcblx0XHRcdHRoaXMuc2V0Q29va2llKHVzZXJJZCwgYWNjZXNzVG9rZW4sIDMwKTtcblx0XHRcdHRoaXMuX2NyZWF0ZUxhdW5jaGVyKCk7XG5cdFx0fSk7XG5cdH1cblxuXHQvLyBDcmVhdGUgY2hhbm5lbGl6ZSBmcmFtZSBhbmQgbGF1bmNoZXJcblx0X2NyZWF0ZUxhdW5jaGVyKCkge1xuXHRcdGxldCB3aWRnZXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoX3dpZGdldFwiKTtcblx0XHRsZXQgbGF1bmNoZXI7XG5cblx0XHQvLyBDcmVhdGUgZGVmYXVsdCBsYXVuY2hlciBpZiBub3QgZXhpc3Rcblx0XHRpZighZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaF9sYXVuY2hlclwiKSkge1xuXHRcdFx0bGV0IGxhdW5jaGVyQXR0cmlidXRlcyA9IFt7XCJpZFwiOlwiY2hfbGF1bmNoZXJcIn0se1wiY2xhc3NcIjpcImNoLWxhdW5jaGVyXCJ9XTtcblx0XHRcdGxhdW5jaGVyID0gdGhpcy51dGlsaXR5LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbGF1bmNoZXJBdHRyaWJ1dGVzLCBudWxsLCB3aWRnZXQpO1xuXG5cdFx0XHQvLyBDcmVhdGUgbGF1bmNoZXIgaW1hZ2Vcblx0XHRcdGxldCBsYXVuY2hlckltYWdlQXR0cmlidXRlcyA9IFt7XCJpZFwiOlwiY2hfbGF1bmNoZXJfaW1hZ2VcIn0se1wiY2xhc3NcIjpcImNoLWxhdW5jaGVyLWltYWdlXCJ9LHtcInNyY1wiOklNQUdFUy5MQVVOQ0hFUl9JQ09OfV07XG5cdFx0XHR0aGlzLnV0aWxpdHkuY3JlYXRlRWxlbWVudChcImltZ1wiLCBsYXVuY2hlckltYWdlQXR0cmlidXRlcywgbnVsbCwgbGF1bmNoZXIpO1xuXHRcdH1cblxuXHRcdC8vIENyZWF0ZSBjaGFubmVsaXplIGZyYW1lXG5cdFx0bGV0IGZyYW1lQXR0cmlidXRlcyA9IFt7XCJpZFwiOlwiY2hfZnJhbWVcIn0se1wiY2xhc3NcIjpcImNoLWZyYW1lXCJ9XTtcblx0XHRsZXQgZnJhbWUgPSB0aGlzLnV0aWxpdHkuY3JlYXRlRWxlbWVudChcImRpdlwiLCBmcmFtZUF0dHJpYnV0ZXMsIG51bGwsIHdpZGdldCk7XG5cblx0XHQvLyBDaGFubmVsaXplIGxhdW5jaGVyIGxpc3RlbmVyXG5cdFx0bGF1bmNoZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChkYXRhKSA9PiB7XG5cdFx0XHQvLyBJZiBsb2dpbiB3aW5kb3cgYWxyZWFkeSBleGlzdFxuXHRcdFx0aWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaF9sb2dpbl93aW5kb3dcIikpXG5cdFx0XHRcdHJldHVybjtcblxuXHRcdFx0Ly8gU2hvdyByZWNlbnQgY29udmVyc2F0aW9uIHdpbmRvdyBpZiBhbHJlYWR5IGV4aXN0XG5cdFx0XHRpZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoX3JlY2VudF93aW5kb3dcIikpIHtcblx0XHRcdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaF9yZWNlbnRfd2luZG93XCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0bGV0IHVzZXIgPSB0aGlzLmNoQWRhcHRlci5nZXRMb2dpblVzZXIoKTtcblx0XHRcdGlmKHVzZXIpIHtcblx0XHRcdFx0Ly8gSW52b2tlIHJlY2VudCBjb252ZXJzYXRpb24gd2luZG93XG5cdFx0XHRcdHRoaXMucmVjZW50Q29udmVyc2F0aW9ucyA9ICBuZXcgUmVjZW50Q29udmVyc2F0aW9ucyh0aGlzKTtcblx0XHRcdH1cblx0XHRcdGVsc2Uge1xuXHRcdFx0XHQvLyBJbnZva2UgbG9naW4gc2NyZWVuXG5cdFx0XHRcdG5ldyBMb2dpbih0aGlzKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdC8vIEhhbmRsZSBhbGwgcmVhbCB0aW1lIGV2ZW50cyBvZiBKUy1TREtcblx0X3JlZ2lzdGVyQ2hFdmVudEhhbmRsZXJzKCkge1xuXHRcdC8vIEhhbmRsZSBuZXcgbWVzc2FnZVxuXHRcdHdpbmRvdy5jaGFubmVsaXplLmNoc29ja2V0Lm9uKCd1c2VyLm1lc3NhZ2VfY3JlYXRlZCcsIChkYXRhKSA9PiB7XG5cdFx0XHRpZih0aGlzLnJlY2VudENvbnZlcnNhdGlvbnMpIHtcblx0XHRcdFx0dGhpcy5yZWNlbnRDb252ZXJzYXRpb25zLnVwZGF0ZU5ld01lc3NhZ2UoZGF0YS5tZXNzYWdlKTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5jb252V2luZG93cy5mb3JFYWNoKGNvbnZlcnNhdGlvbldpbmRvdyA9PiB7XG5cdFx0XHRcdGNvbnZlcnNhdGlvbldpbmRvdy5hZGROZXdNZXNzYWdlKGRhdGEubWVzc2FnZSk7XG5cdFx0XHR9KTtcblx0XHR9KTtcblxuXHRcdC8vIEhhbmRsZSBkZWxldGUgbWVzc2FnZSBmb3IgbWVcblx0XHR3aW5kb3cuY2hhbm5lbGl6ZS5jaHNvY2tldC5vbigndXNlci5tZXNzYWdlX2RlbGV0ZWQnLCAoZGF0YSkgPT4ge1xuXHRcdFx0bGV0IHVwZGF0ZWRMYXN0TXNnO1xuXHRcdFx0Ly8gUmVtb3ZlIG1lc3NhZ2UgZnJvbSBjb252ZXJzYXRpb24gc2NyZWVuXG5cdFx0XHRpZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZChkYXRhLm1lc3NhZ2VzWzBdLmlkKSkge1xuXHRcdFx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChkYXRhLm1lc3NhZ2VzWzBdLmlkKS5yZW1vdmUoKTtcblxuXHRcdFx0XHRpZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoX21lc3NhZ2VzX2JveFwiKS5sYXN0Q2hpbGQpIHtcblx0XHRcdFx0XHRsZXQgbGFzdE1zZ0FmdGVyRGVsZXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaF9tZXNzYWdlc19ib3hcIikubGFzdENoaWxkLmlkO1xuXHRcdFx0XHRcdHVwZGF0ZWRMYXN0TXNnID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaF9tZXNzYWdlX1wiICsgbGFzdE1zZ0FmdGVyRGVsZXRlKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRpZih0aGlzLnJlY2VudENvbnZlcnNhdGlvbnMpIHtcblx0XHRcdFx0dGhpcy5yZWNlbnRDb252ZXJzYXRpb25zLmRlbGV0ZUxhc3RNZXNzYWdlKGRhdGEsIHVwZGF0ZWRMYXN0TXNnKTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdC8vIEhhbmRsZSBkZWxldGUgbWVzc2FnZSBmb3IgZXZlcnlvbmVcblx0XHR3aW5kb3cuY2hhbm5lbGl6ZS5jaHNvY2tldC5vbignbWVzc2FnZS5kZWxldGVkX2Zvcl9ldmVyeW9uZScsIChkYXRhKSA9PiB7XG5cdFx0XHQvLyBVcGRhdGUgbWVzc2FnZSB0ZXh0IGluIGNvbnZlcnNhdGlvbiBzY3JlZW5cblx0XHRcdHRoaXMuY29udldpbmRvd3MuZm9yRWFjaChjb252ZXJzYXRpb25XaW5kb3cgPT4ge1xuXHRcdFx0XHRjb252ZXJzYXRpb25XaW5kb3cudXBkYXRlRGVsZXRlRm9yRXZlcnlvbmVNc2coZGF0YSk7XG5cdFx0XHR9KTtcblxuXHRcdFx0Ly8gVXBkYXRlIG1lc3NhZ2UgdGV4dCBpbiByZWNlbnQgc2NyZWVuXG5cdFx0XHRsZXQgcmVjZW50VGFyZ2V0TXNnID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaF9tc2dfXCIgKyBkYXRhLm1lc3NhZ2VzWzBdLmlkKTtcblx0XHRcdGlmKHJlY2VudFRhcmdldE1zZykge1xuXHRcdFx0XHQvLyBSZW1vdmUgaWYgbWVkaWEvbG9jYXRpb24vc3RpY2tlci9naWYgaWNvbiBwcmVzZW50XG5cdFx0XHRcdGlmKHJlY2VudFRhcmdldE1zZy5wYXJlbnROb2RlLmZpcnN0Q2hpbGQubm9kZU5hbWUgIT0gXCJESVZcIilcblx0XHRcdFx0XHRyZWNlbnRUYXJnZXRNc2cucGFyZW50Tm9kZS5maXJzdENoaWxkLnJlbW92ZSgpO1xuXG5cdFx0XHRcdHJlY2VudFRhcmdldE1zZy5pbm5lckhUTUwgPSBcIjxpPlwiICsgTEFOR1VBR0VfUEhSQVNFUy5NRVNTQUdFX0RFTEVURUQ7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHQvLyBIYW5kbGUgbWFyayBhcyByZWFkXG5cdFx0d2luZG93LmNoYW5uZWxpemUuY2hzb2NrZXQub24oJ2NvbnZlcnNhdGlvbi5tYXJrX2FzX3JlYWQnLCAoZGF0YSkgPT4ge1xuXHRcdFx0aWYodGhpcy51c2VySWQgPT0gZGF0YS51c2VyLmlkKVxuXHRcdFx0XHRyZXR1cm47XG5cblx0XHRcdC8vIFVwZGF0ZSBsYXN0UmVhZEF0IG9mIGNvbnZlcnNhdGlvblxuXHRcdFx0aWYodGhpcy5yZWNlbnRDb252ZXJzYXRpb25zKSB7XG5cdFx0XHRcdHRoaXMucmVjZW50Q29udmVyc2F0aW9ucy51cGRhdGVSZWFkQXQoZGF0YSk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFVwZGF0ZSBtZXNzYWdlIHJlYWQgc3RhdHVzIGluIGNvbnZlcnNhdGlvbiBzY3JlZW5cblx0XHRcdHRoaXMuY29udldpbmRvd3MuZm9yRWFjaChjb252ZXJzYXRpb25XaW5kb3cgPT4ge1xuXHRcdFx0XHRjb252ZXJzYXRpb25XaW5kb3cudXBkYXRlTXNnU3RhdHVzKGRhdGEpO1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cblx0XHQvLyBIYW5kbGUgdXNlciBvbmxpbmUvb2ZsaW5lIHN0YXR1c1xuXHRcdHdpbmRvdy5jaGFubmVsaXplLmNoc29ja2V0Lm9uKCd1c2VyLnN0YXR1c191cGRhdGVkJywgKGRhdGEpID0+IHtcblx0XHRcdGlmKHRoaXMucmVjZW50Q29udmVyc2F0aW9ucykge1xuXHRcdFx0XHR0aGlzLnJlY2VudENvbnZlcnNhdGlvbnMudXBkYXRlVXNlclN0YXR1cyhkYXRhLnVzZXIpO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLmNvbnZXaW5kb3dzLmZvckVhY2goY29udmVyc2F0aW9uV2luZG93ID0+IHtcblx0XHRcdFx0Y29udmVyc2F0aW9uV2luZG93LnVwZGF0ZVVzZXJTdGF0dXMoZGF0YS51c2VyKTtcblx0XHRcdH0pO1xuXHRcdH0pO1xuXG5cdFx0Ly8gSGFuZGxlIGNsZWFyIGNvbnZlcnNhdGlvblxuXHRcdHdpbmRvdy5jaGFubmVsaXplLmNoc29ja2V0Lm9uKCd1c2VyLmNvbnZlcnNhdGlvbl9jbGVhcmVkJywgKGRhdGEpID0+IHtcblx0XHRcdC8vIERlbGV0ZSBsYXN0IG1lc3NhZ2UgZnJvbSBwYXJ0aWN1bGFyIHJlY2VudCBjb252ZXJzYXRpb25cblx0XHRcdGlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRhdGEuY29udmVyc2F0aW9uLmlkKSAmJiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChkYXRhLmNvbnZlcnNhdGlvbi5pZCkubGFzdENoaWxkKVxuXHRcdFx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChkYXRhLmNvbnZlcnNhdGlvbi5pZCkubGFzdENoaWxkLnJlbW92ZSgpO1xuXG5cdFx0XHQvLyBSZW1vdmUgYWxsIG1lc3NhZ2VzIG9mIHRoZSBjb252ZXJzYXRpb25cblx0XHRcdHRoaXMuY29udldpbmRvd3MuZm9yRWFjaChjb252ZXJzYXRpb25XaW5kb3cgPT4ge1xuXHRcdFx0XHRjb252ZXJzYXRpb25XaW5kb3cuaGFuZGxlQ2xlYXJDb252ZXJzYXRpb24oZGF0YS5jb252ZXJzYXRpb24pO1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cblx0XHQvLyBIYW5kbGUgZGVsZXRlIGNvbnZlcnNhdGlvblxuXHRcdHdpbmRvdy5jaGFubmVsaXplLmNoc29ja2V0Lm9uKCd1c2VyLmNvbnZlcnNhdGlvbl9kZWxldGVkJywgKGRhdGEpID0+IHtcblx0XHRcdC8vIERlbGV0ZSBsYXN0IG1lc3NhZ2UgZnJvbSBwYXJ0aWN1bGFyIHJlY2VudCBjb252ZXJzYXRpb25cblx0XHRcdGlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRhdGEuY29udmVyc2F0aW9uLmlkKSAmJiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChkYXRhLmNvbnZlcnNhdGlvbi5pZCkubGFzdENoaWxkKVxuXHRcdFx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChkYXRhLmNvbnZlcnNhdGlvbi5pZCkucmVtb3ZlKCk7XG5cblx0XHRcdC8vIFJlbW92ZSBjb252ZXJzYXRpb24gc2NyZWVuXG5cdFx0XHR0aGlzLmNvbnZXaW5kb3dzLmZvckVhY2goY29udmVyc2F0aW9uV2luZG93ID0+IHtcblx0XHRcdFx0aWYoY29udmVyc2F0aW9uV2luZG93LmNvbnZlcnNhdGlvbi5pZCA9PSBkYXRhLmNvbnZlcnNhdGlvbi5pZCkge1xuXHRcdFx0XHRcdGlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hfY29udl93aW5kb3dcIikpIHtcblx0XHRcdFx0XHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hfY29udl93aW5kb3dcIikucmVtb3ZlKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9KTtcblxuXHRcdC8vIEhhbmRsZSB1c2VyIGJsb2NrXG5cdFx0d2luZG93LmNoYW5uZWxpemUuY2hzb2NrZXQub24oJ3VzZXIuYmxvY2tlZCcsIChkYXRhKSA9PiB7XG5cdFx0XHQvLyBVcGRhdGUgYmxvY2sgaWNvbiBpbiByZWNlbnQgY29udmVyc2F0aW9uXG5cdFx0XHRpZih0aGlzLnJlY2VudENvbnZlcnNhdGlvbnMpIHtcblx0XHRcdFx0dGhpcy5yZWNlbnRDb252ZXJzYXRpb25zLmhhbmRsZUJsb2NrKGRhdGEpO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHQvLyBVcGRhdGUgY29udmVyc2F0aW9uIHNjcmVlbiBvZiBibG9jayB1c2VyXG5cdFx0XHR0aGlzLmNvbnZXaW5kb3dzLmZvckVhY2goY29udmVyc2F0aW9uV2luZG93ID0+IHtcblx0XHRcdFx0Y29udmVyc2F0aW9uV2luZG93LmhhbmRsZUJsb2NrKGRhdGEpO1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cblx0XHQvLyBIYW5kbGUgdXNlciB1bmJsb2NrXG5cdFx0d2luZG93LmNoYW5uZWxpemUuY2hzb2NrZXQub24oJ3VzZXIudW5ibG9ja2VkJywgKGRhdGEpID0+IHtcblx0XHRcdC8vIFVwZGF0ZSB1bmJsb2NrIGljb24gaW4gcmVjZW50IGNvbnZlcnNhdGlvblxuXHRcdFx0aWYodGhpcy5yZWNlbnRDb252ZXJzYXRpb25zKSB7XG5cdFx0XHRcdHRoaXMucmVjZW50Q29udmVyc2F0aW9ucy5oYW5kbGVVbmJsb2NrKGRhdGEpO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHQvLyBVcGRhdGUgY29udmVyc2F0aW9uIHNjcmVlbiBvZiB1bmJsb2NrIHVzZXJcblx0XHRcdHRoaXMuY29udldpbmRvd3MuZm9yRWFjaChjb252ZXJzYXRpb25XaW5kb3cgPT4ge1xuXHRcdFx0XHRjb252ZXJzYXRpb25XaW5kb3cuaGFuZGxlVW5ibG9jayhkYXRhKTtcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9XG5cblx0c2V0Q29va2llKHVzZXJJZCwgYWNjZXNzVG9rZW4sIGV4ZGF5cykge1xuXHRcdGxldCBkYXRlID0gbmV3IERhdGUoKTtcblx0XHRkYXRlLnNldFRpbWUoZGF0ZS5nZXRUaW1lKCkgKyAoZXhkYXlzKjI0KjYwKjYwKjEwMDApKTtcblx0XHR2YXIgZXhwaXJlcyA9IFwiZXhwaXJlcz1cIisgZGF0ZS50b1VUQ1N0cmluZygpO1xuXHRcdGRvY3VtZW50LmNvb2tpZSA9IFwiY2hfdXNlcl9pZD1cIiArIHVzZXJJZCArIFwiO1wiICsgZXhwaXJlcyArIFwiO3BhdGg9L1wiO1xuXHRcdGRvY3VtZW50LmNvb2tpZSA9IFwiY2hfYWNjZXNzX3Rva2VuPVwiICsgYWNjZXNzVG9rZW4gKyBcIjtcIiArIGV4cGlyZXMgKyBcIjtwYXRoPS9cIjtcblx0fVxuXG5cdGdldENvb2tpZShjbmFtZSkge1xuXHRcdHZhciBuYW1lID0gY25hbWUgKyBcIj1cIjtcblx0XHR2YXIgY29va2llQXJyYXkgPSBkb2N1bWVudC5jb29raWUuc3BsaXQoJzsnKTtcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgY29va2llQXJyYXkubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBzaW5nbGVDb29raWUgPSBjb29raWVBcnJheVtpXTtcblx0XHRcdHdoaWxlIChzaW5nbGVDb29raWUuY2hhckF0KDApID09ICcgJykge1xuXHRcdFx0XHRzaW5nbGVDb29raWUgPSBzaW5nbGVDb29raWUuc3Vic3RyaW5nKDEpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHNpbmdsZUNvb2tpZS5pbmRleE9mKG5hbWUpID09IDApIHtcblx0XHRcdFx0cmV0dXJuIHNpbmdsZUNvb2tpZS5zdWJzdHJpbmcobmFtZS5sZW5ndGgsIHNpbmdsZUNvb2tpZS5sZW5ndGgpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gXCJcIjtcblx0fVxuXG5cdC8vIFRvIHNraXAgb3V0IGxvZ2luIHByb2Nlc3MgYW5kIGRpcmVjdCBvcGVuIHJlY2VudCBjb252ZXJzYXRpb24gd2luZG93XG5cdGxvYWRSZWNlbnRDb252ZXJzYXRpb24odXNlcklkLCBhY2Nlc3NUb2tlbikge1xuXHRcdC8vIENvbm5lY3QgdG8gQ2hhbm5lbGl6ZSBzZXJ2ZXJcblx0XHR0aGlzLnVzZXJJZCA9IHVzZXJJZDtcblx0XHR0aGlzLmNvbm5lY3QodXNlcklkLCBhY2Nlc3NUb2tlbiwgKGVyciwgcmVzKSA9PiB7XG5cdFx0XHRpZihlcnIpIHJldHVybiBjb25zb2xlLmVycm9yKGVycik7XG5cblx0XHRcdC8vIENyZWF0ZSBjaGFubmVsaXplIGZyYW1lXG5cdFx0XHRsZXQgd2lkZ2V0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaF93aWRnZXRcIik7XG5cdFx0XHRsZXQgZnJhbWVBdHRyaWJ1dGVzID0gW3tcImlkXCI6XCJjaF9mcmFtZVwifSx7XCJjbGFzc1wiOlwiY2gtZnJhbWVcIn1dO1xuXHRcdFx0bGV0IGZyYW1lID0gdGhpcy51dGlsaXR5LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgZnJhbWVBdHRyaWJ1dGVzLCBudWxsLCB3aWRnZXQpO1xuXG5cdFx0XHQvLyBJbnZva2UgcmVjZW50IGNvbnZlcnNhdGlvbiB3aW5kb3dcblx0XHRcdHRoaXMucmVjZW50Q29udmVyc2F0aW9ucyA9ICBuZXcgUmVjZW50Q29udmVyc2F0aW9ucyh0aGlzKTtcblx0XHR9KTtcblx0fVxuXG5cdC8vIFRvIG9wZW4gYSBjb252ZXJzYXRpb24gc2NyZWVuIG9mIGFueSB1c2VyIHZpYSBtZW1iZXItaWQgb3IgY29udmVyc2F0aW9uLWlkXG5cdGxvYWRDb252ZXJzYXRpb25XaW5kb3cob3RoZXJNZW1iZXJJZCwgY29udmVyc2F0aW9uSWQgPSBudWxsKSB7XG5cdFx0aWYob3RoZXJNZW1iZXJJZCkge1xuXHRcdFx0dGhpcy5jaEFkYXB0ZXIuZ2V0Q29udmVyc2F0aW9uc0xpc3QoMSwgMCwgb3RoZXJNZW1iZXJJZCwgXCJtZW1iZXJzXCIsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIChlcnIsIGNvbnZlcnNhdGlvbnMpID0+IHtcblx0XHRcdFx0aWYoZXJyKSByZXR1cm4gY29uc29sZS5lcnJvcihlcnIpO1xuXG5cdFx0XHRcdGlmKCFjb252ZXJzYXRpb25zLmxlbmd0aCkge1xuXHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoTEFOR1VBR0VfUEhSQVNFUy5DT05WRVJTQVRJT05fTk9UX0ZPVU5EKTtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRsZXQgY29udmVyc2F0aW9uV2luZG93ID0gbmV3IENvbnZlcnNhdGlvbldpbmRvdyh0aGlzKTtcblx0XHRcdFx0Y29udmVyc2F0aW9uV2luZG93LmluaXQoY29udmVyc2F0aW9uc1swXSk7IC8vIFBhc3MgY29udmVyc2F0aW9uIG9iamVjdCBpbiBwYXJhbXNcblx0XHRcdFx0dGhpcy5jb252V2luZG93cy5wdXNoKGNvbnZlcnNhdGlvbldpbmRvdyk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0ZWxzZSBpZihjb252ZXJzYXRpb25JZCkge1xuXHRcdFx0bGV0IGNvbnZlcnNhdGlvbiA9IHRoaXMuY2hBZGFwdGVyLmdldENvbnZlcnNhdGlvbihjb252ZXJzYXRpb25JZCwgKGVyciwgY29udmVyc2F0aW9uKSA9PiB7XG5cdFx0XHRcdGlmKGVycikgcmV0dXJuIGNvbnNvbGUuZXJyb3IoZXJyKTtcblxuXHRcdFx0XHRsZXQgY29udmVyc2F0aW9uV2luZG93ID0gbmV3IENvbnZlcnNhdGlvbldpbmRvdyh0aGlzKTtcblx0XHRcdFx0Y29udmVyc2F0aW9uV2luZG93LmluaXQoY29udmVyc2F0aW9uKTsgLy8gUGFzcyBjb252ZXJzYXRpb24gb2JqZWN0IGluIHBhcmFtc1xuXHRcdFx0XHR0aGlzLmNvbnZXaW5kb3dzLnB1c2goY29udmVyc2F0aW9uV2luZG93KTtcblx0XHRcdH0pO1xuXHRcdH1cblx0fVxufVxuXG53aW5kb3cuQ2hhbm5lbGl6ZVdpZGdldCA9IENoYW5uZWxpemVXaWRnZXQ7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNwU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDNUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ3YrQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDN1NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDenBCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ3JNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///5\n')}]);